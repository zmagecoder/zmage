var qq = function(a) {
	return {
		hide : function() {
			a.style.display = "none";
			return this
		},
		attach : function(b, c) {
			a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent
					&& a.attachEvent("on" + b, c);
			return function() {
				qq(a).detach(b, c)
			}
		},
		detach : function(b, c) {
			a.removeEventListener
					? a.removeEventListener(b, c, !1)
					: a.attachEvent && a.detachEvent("on" + b, c);
			return this
		},
		contains : function(b) {
			return a === b ? !0 : a.contains ? a.contains(b) : !!(b
					.compareDocumentPosition(a) & 8)
		},
		insertBefore : function(b) {
			b.parentNode.insertBefore(a, b);
			return this
		},
		remove : function() {
			a.parentNode.removeChild(a);
			return this
		},
		css : function(b) {
			null != b.opacity
					&& "string" !== typeof a.style.opacity
					&& "undefined" !== typeof a.filters
					&& (b.filter = "alpha(opacity="
							+ Math.round(100 * b.opacity) + ")");
			qq.extend(a.style, b);
			return this
		},
		hasClass : function(b) {
			return RegExp("(^| )" + b + "( |$)").test(a.className)
		},
		addClass : function(b) {
			qq(a).hasClass(b) || (a.className += " " + b);
			return this
		},
		removeClass : function(b) {
			a.className = a.className.replace(RegExp("(^| )" + b + "( |$)"),
					" ").replace(/^\s+|\s+$/g, "");
			return this
		},
		getByClass : function(b) {
			var c, f = [];
			if (a.querySelectorAll)
				return a.querySelectorAll("." + b);
			c = a.getElementsByTagName("*");
			qq.each(c, function(a, d) {
						qq(d).hasClass(b) && f.push(d)
					});
			return f
		},
		children : function() {
			for (var b = [], c = a.firstChild; c;)
				1 === c.nodeType && b.push(c), c = c.nextSibling;
			return b
		},
		setText : function(b) {
			a.innerText = b;
			a.textContent = b;
			return this
		},
		clearText : function() {
			return qq(a).setText("")
		}
	}
};
qq.log = function(a, b) {
	if (window.console)
		if (b && "info" !== b)
			if (window.console[b])
				window.console[b](a);
			else
				window.console.log("<" + b + "> " + a);
		else
			window.console.log(a)
};
qq.isObject = function(a) {
	return a && !a.nodeType
			&& "[object Object]" === Object.prototype.toString.call(a)
};
qq.isFunction = function(a) {
	return "function" === typeof a
};
qq.isArray = function(a) {
	return "[object Array]" === Object.prototype.toString.call(a)
};
qq.isString = function(a) {
	return "[object String]" === Object.prototype.toString.call(a)
};
qq.trimStr = function(a) {
	return String.prototype.trim ? a.trim() : a.replace(/^\s+|\s+$/g, "")
};
qq.isFile = function(a) {
	return window.File && "[object File]" === Object.prototype.toString.call(a)
};
qq.isFileList = function(a) {
	return window.FileList
			&& "[object FileList]" === Object.prototype.toString.call(a)
};
qq.isFileOrInput = function(a) {
	return qq.isFile(a) || qq.isInput(a)
};
qq.isInput = function(a) {
	return window.HTMLInputElement
			&& "[object HTMLInputElement]" === Object.prototype.toString
					.call(a) && a.type && "file" === a.type.toLowerCase()
			|| a.tagName && "input" === a.tagName.toLowerCase() && a.type
			&& "file" === a.type.toLowerCase() ? !0 : !1
};
qq.isBlob = function(a) {
	return window.Blob && "[object Blob]" === Object.prototype.toString.call(a)
};
qq.isXhrUploadSupported = function() {
	var a = document.createElement("input");
	a.type = "file";
	return void 0 !== a.multiple && "undefined" !== typeof File
			&& "undefined" !== typeof FormData
			&& "undefined" !== typeof (new XMLHttpRequest).upload
};
qq.isFolderDropSupported = function(a) {
	return a.items && a.items[0].webkitGetAsEntry
};
qq.isFileChunkingSupported = function() {
	return !qq.android()
			&& qq.isXhrUploadSupported()
			&& (void 0 !== File.prototype.slice
					|| void 0 !== File.prototype.webkitSlice || void 0 !== File.prototype.mozSlice)
};
qq.extend = function(a, b, c) {
	qq.each(b, function(b, e) {
				c && qq.isObject(e) ? (void 0 === a[b] && (a[b] = {}), qq
						.extend(a[b], e, !0)) : a[b] = e
			});
	return a
};
qq.indexOf = function(a, b, c) {
	if (a.indexOf)
		return a.indexOf(b, c);
	c = c || 0;
	var f = a.length;
	for (0 > c && (c += f); c < f; c += 1)
		if (a.hasOwnProperty(c) && a[c] === b)
			return c;
	return -1
};
qq.getUniqueId = function() {
	return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
				var b = 16 * Math.random() | 0;
				return ("x" == a ? b : b & 3 | 8).toString(16)
			})
};
qq.ie = function() {
	return -1 !== navigator.userAgent.indexOf("MSIE")
};
qq.ie10 = function() {
	return -1 !== navigator.userAgent.indexOf("MSIE 10")
};
qq.safari = function() {
	return void 0 !== navigator.vendor
			&& -1 !== navigator.vendor.indexOf("Apple")
};
qq.chrome = function() {
	return void 0 !== navigator.vendor
			&& -1 !== navigator.vendor.indexOf("Google")
};
qq.firefox = function() {
	return -1 !== navigator.userAgent.indexOf("Mozilla")
			&& void 0 !== navigator.vendor && "" === navigator.vendor
};
qq.windows = function() {
	return "Win32" === navigator.platform
};
qq.android = function() {
	return -1 !== navigator.userAgent.toLowerCase().indexOf("android")
};
qq.ios = function() {
	return -1 !== navigator.userAgent.indexOf("iPad")
			|| -1 !== navigator.userAgent.indexOf("iPod")
			|| -1 !== navigator.userAgent.indexOf("iPhone")
};
qq.preventDefault = function(a) {
	a.preventDefault ? a.preventDefault() : a.returnValue = !1
};
qq.toElement = function() {
	var a = document.createElement("div");
	return function(b) {
		a.innerHTML = b;
		b = a.firstChild;
		a.removeChild(b);
		return b
	}
}();
qq.each = function(a, b) {
	var c, f;
	if (a)
		if (qq.isArray(a))
			for (c = 0; c < a.length && (f = b(c, a[c]), !1 !== f); c++);
		else
			for (c in a)
				if (Object.prototype.hasOwnProperty.call(a, c)
						&& (f = b(c, a[c]), !1 === f))
					break
};
qq.bind = function(a, b) {
	if (qq.isFunction(a)) {
		var c = Array.prototype.slice.call(arguments, 2);
		return function() {
			arguments.length
					&& (c = c.concat(Array.prototype.slice.call(arguments)));
			return a.apply(b, c)
		}
	}
	throw Error("first parameter must be a function!");
};
qq.obj2url = function(a, b, c) {
	var f, e = [], d = "&", m = function(a, d) {
		var c = b ? /\[\]$/.test(b) ? b : b + "[" + d + "]" : d;
		"undefined" !== c
				&& "undefined" !== d
				&& e.push("object" === typeof a
						? qq.obj2url(a, c, !0)
						: "[object Function]" === Object.prototype.toString
								.call(a)
								? encodeURIComponent(c) + "="
										+ encodeURIComponent(a())
								: encodeURIComponent(c) + "="
										+ encodeURIComponent(a))
	};
	if (!c && b)
		d = /\?/.test(b) ? /\?$/.test(b) ? "" : "&" : "?", e.push(b), e.push(qq
				.obj2url(a));
	else if ("[object Array]" === Object.prototype.toString.call(a)
			&& "undefined" !== typeof a)
		for (f = -1, c = a.length; f < c; f += 1)
			m(a[f], f);
	else if ("undefined" !== typeof a && null !== a && "object" === typeof a)
		for (f in a)
			a.hasOwnProperty(f) && m(a[f], f);
	else
		e.push(encodeURIComponent(b) + "=" + encodeURIComponent(a));
	return b ? e.join(d) : e.join(d).replace(/^&/, "").replace(/%20/g, "+")
};
qq.obj2FormData = function(a, b, c) {
	b || (b = new FormData);
	qq.each(a, function(a, e) {
				a = c ? c + "[" + a + "]" : a;
				qq.isObject(e) ? qq.obj2FormData(e, b, a) : qq.isFunction(e)
						? b.append(a, e())
						: b.append(a, e)
			});
	return b
};
qq.obj2Inputs = function(a, b) {
	var c;
	b || (b = document.createElement("form"));
	qq.obj2FormData(a, {
				append : function(a, e) {
					c = document.createElement("input");
					c.setAttribute("name", a);
					c.setAttribute("value", e);
					b.appendChild(c)
				}
			});
	return b
};
qq.setCookie = function(a, b, c) {
	var f = new Date, e = "";
	c
			&& (f.setTime(f.getTime() + 864E5 * c), e = "; expires="
					+ f.toGMTString());
	document.cookie = a + "=" + b + e + "; path=/"
};
qq.getCookie = function(a) {
	var b = a + "=";
	a = document.cookie.split(";");
	var c;
	qq.each(a, function(a, e) {
				for (var d = e; " " == d.charAt(0);)
					d = d.substring(1, d.length);
				if (0 === d.indexOf(b))
					return c = d.substring(b.length, d.length), !1
			});
	return c
};
qq.getCookieNames = function(a) {
	var b = document.cookie.split(";"), c = [];
	qq.each(b, function(b, e) {
				e = qq.trimStr(e);
				var d = e.indexOf("=");
				e.match(a) && c.push(e.substr(0, d))
			});
	return c
};
qq.deleteCookie = function(a) {
	qq.setCookie(a, "", -1)
};
qq.areCookiesEnabled = function() {
	var a = "qqCookieTest:" + 1E5 * Math.random();
	qq.setCookie(a, 1);
	return qq.getCookie(a) ? (qq.deleteCookie(a), !0) : !1
};
qq.parseJson = function(a) {
	return window.JSON && qq.isFunction(JSON.parse) ? JSON.parse(a) : eval("("
			+ a + ")")
};
qq.DisposeSupport = function() {
	var a = [];
	return {
		dispose : function() {
			var b;
			do
				(b = a.shift()) && b();
			while (b)
		},
		attach : function() {
			this.addDisposer(qq(arguments[0]).attach.apply(this,
					Array.prototype.slice.call(arguments, 1)))
		},
		addDisposer : function(b) {
			a.push(b)
		}
	}
};
qq.version = "-unstable-";
qq.supportedFeatures = function() {
	var a, b, c, f, e, d;
	a = !0;
	try {
		b = document.createElement("input"), b.type = "file", qq(b).hide(), b.disabled
				&& (a = !1)
	} catch (m) {
		a = !1
	}
	c = (b = a && qq.isXhrUploadSupported())
			&& qq.chrome()
			&& void 0 !== navigator.userAgent
					.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/);
	f = b && qq.isFileChunkingSupported();
	e = b && f && qq.areCookiesEnabled();
	d = b
			&& qq.chrome()
			&& void 0 !== navigator.userAgent
					.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/);
	return {
		uploading : a,
		ajaxUploading : b,
		fileDrop : b,
		folderDrop : c,
		chunking : f,
		resume : e,
		uploadCustomHeaders : b,
		uploadNonMultipart : b,
		itemSizeValidation : b,
		uploadViaPaste : d,
		progressBar : b,
		uploadCors : a && (void 0 !== window.postMessage || b),
		deleteFileCors : b,
		canDetermineSize : b
	}
}();
qq.Promise = function() {
	var a, b, c = [], f = [], e = [], d = 0;
	return {
		then : function(e, k) {
			0 === d ? (e && c.push(e), k && f.push(k)) : -1 === d && k
					? k(b)
					: e && e(a);
			return this
		},
		done : function(a) {
			0 === d ? e.push(a) : a();
			return this
		},
		success : function(b) {
			d = 1;
			a = b;
			c.length && qq.each(c, function(a, d) {
						d(b)
					});
			e.length && qq.each(e, function(a, b) {
						b()
					});
			return this
		},
		failure : function(a) {
			d = -1;
			b = a;
			f.length && qq.each(f, function(b, d) {
						d(a)
					});
			e.length && qq.each(e, function(a, b) {
						b()
					});
			return this
		}
	}
};
qq.isPromise = function(a) {
	return a && a.then && a.done
};
qq.UploadButton = function(a) {
	function b() {
		var a = document.createElement("input");
		e.multiple && a.setAttribute("multiple", "multiple");
		e.acceptFiles && a.setAttribute("accept", e.acceptFiles);
		a.setAttribute("type", "file");
		a.setAttribute("name", e.name);
		qq(a).css({
					position : "absolute",
					right : 0,
					top : 0,
					fontFamily : "Arial",
					fontSize : "118px",
					margin : 0,
					padding : 0,
					cursor : "pointer",
					opacity : 0
				});
		e.element.appendChild(a);
		f.attach(a, "change", function() {
					e.onChange(a)
				});
		f.attach(a, "mouseover", function() {
					qq(e.element).addClass(e.hoverClass)
				});
		f.attach(a, "mouseout", function() {
					qq(e.element).removeClass(e.hoverClass)
				});
		f.attach(a, "focus", function() {
					qq(e.element).addClass(e.focusClass)
				});
		f.attach(a, "blur", function() {
					qq(e.element).removeClass(e.focusClass)
				});
		window.attachEvent && a.setAttribute("tabIndex", "-1");
		return a
	}
	var c, f = new qq.DisposeSupport, e = {
		element : null,
		multiple : !1,
		acceptFiles : null,
		name : "file",
		onChange : function(a) {
		},
		hoverClass : "qq-upload-button-hover",
		focusClass : "qq-upload-button-focus"
	};
	qq.extend(e, a);
	qq(e.element).css({
				position : "relative",
				overflow : "hidden",
				direction : "ltr"
			});
	c = b();
	return {
		getInput : function() {
			return c
		},
		reset : function() {
			c.parentNode && qq(c).remove();
			qq(e.element).removeClass(e.focusClass);
			c = b()
		}
	}
};
qq.UploadData = function(a) {
	function b(a) {
		if (qq.isArray(a)) {
			var b = [];
			qq.each(a, function(a, p) {
						b.push(e[d[p]])
					});
			return b
		}
		return e[d[a]]
	}
	function c(a) {
		if (qq.isArray(a)) {
			var b = [];
			qq.each(a, function(a, d) {
						b.push(e[m[d]])
					});
			return b
		}
		return e[m[a]]
	}
	function f(a) {
		var b = [];
		a = [].concat(a);
		qq.each(a, function(a, d) {
					var c = k[d];
					void 0 !== c && qq.each(c, function(a, d) {
								b.push(e[d])
							})
				});
		return b
	}
	var e = [], d = {}, m = {}, k = {};
	return {
		added : function(b) {
			var c = a.getUuid(b), h = a.getName(b), p = a.getSize(b), g = qq.status.SUBMITTING, h = e
					.push({
								id : b,
								name : h,
								uuid : c,
								size : p,
								status : g
							})
					- 1;
			d[b] = h;
			m[c] = h;
			void 0 === k[g] && (k[g] = []);
			k[g].push(h);
			a.onStatusChange(b, void 0, g)
		},
		retrieve : function(a) {
			if (qq.isObject(a) && e.length) {
				if (void 0 !== a.id)
					return b(a.id);
				if (void 0 !== a.uuid)
					return c(a.uuid);
				if (a.status)
					return f(a.status)
			} else
				return qq.extend([], e, !0)
		},
		reset : function() {
			e = [];
			d = {};
			m = {};
			k = {}
		},
		setStatus : function(b, c) {
			var h = d[b], p = e[h].status, g = qq.indexOf(k[p], h);
			k[p].splice(g, 1);
			e[h].status = c;
			void 0 === k[c] && (k[c] = []);
			k[c].push(h);
			a.onStatusChange(b, p, c)
		},
		uuidChanged : function(a, b) {
			var c = d[a], p = e[c].uuid;
			e[c].uuid = b;
			m[b] = c;
			delete m[p]
		}
	}
};
qq.status = {
	SUBMITTING : "submitting",
	SUBMITTED : "submitted",
	REJECTED : "rejected",
	QUEUED : "queued",
	CANCELED : "canceled",
	UPLOADING : "uploading",
	UPLOAD_RETRYING : "retrying upload",
	UPLOAD_SUCCESSFUL : "upload successful",
	UPLOAD_FAILED : "upload failed",
	DELETE_FAILED : "delete failed",
	DELETING : "deleting",
	DELETED : "deleted"
};
qq.AjaxRequestor = function(a) {
	function b(a) {
		var b = qq.indexOf(n, a), d = h.maxConnections;
		delete r[a];
		n.splice(b, 1);
		n.length >= d && b < d && (a = n[d - 1], c(a))
	}
	function c(a) {
		var b = new XMLHttpRequest, c = d(), n = {}, s;
		h.onSend(a);
		h.paramsStore.getParams && (n = h.paramsStore.getParams(a));
		s = n;
		var v = h.endpointStore.getEndpoint(a), A = r[a].addToPath;
		void 0 !== A && (v += "/" + A);
		s = k && s ? qq.obj2url(s, v) : v;
		r[a].xhr = b;
		b.onreadystatechange = f(a);
		b.open(c, s, !0);
		h.cors.expected && h.cors.sendCredentials && (b.withCredentials = !0);
		e(a);
		m("Sending " + c + " request for " + a);
		!k && n ? b.send(qq.obj2url(n, "")) : b.send()
	}
	function f(a) {
		var c = r[a].xhr;
		return function() {
			if (4 === c.readyState) {
				var e = r[a].xhr, f = d(), k = !1;
				b(a);
				0 <= qq.indexOf(h.successfulResponseCodes, e.status)
						|| (k = !0, m(f + " request for " + a
										+ " has failed - response code "
										+ e.status, "error"));
				h.onComplete(a, e, k)
			}
		}
	}
	function e(a) {
		var b = r[a].xhr;
		a = h.customHeaders;
		b.setRequestHeader("X-Requested-With", "XMLHttpRequest");
		b.setRequestHeader("Cache-Control", "no-cache");
		qq.each(a, function(a, d) {
					b.setRequestHeader(a, d)
				})
	}
	function d() {
		return h.demoMode ? "GET" : h.method
	}
	var m, k, n = [], r = [], h = {
		method : "POST",
		maxConnections : 3,
		customHeaders : {},
		endpointStore : {},
		paramsStore : {},
		successfulResponseCodes : [200],
		demoMode : !1,
		cors : {
			expected : !1,
			sendCredentials : !1
		},
		log : function(a, b) {
		},
		onSend : function(a) {
		},
		onComplete : function(a, b, d) {
		},
		onCancel : function(a) {
		}
	};
	qq.extend(h, a);
	m = h.log;
	k = "GET" === d() || "DELETE" === d();
	return {
		send : function(a, b) {
			r[a] = {
				addToPath : b
			};
			n.push(a) <= h.maxConnections && c(a)
		},
		cancel : function(a) {
			var c = r[a].xhr, e = d();
			c ? (c.onreadystatechange = null, c.abort(), b(a), m("Cancelled "
					+ e + " for " + a), h.onCancel(a), a = !0) : a = !1;
			return a
		}
	}
};
qq.DeleteFileAjaxRequestor = function(a) {
	var b, c = {
		endpointStore : {},
		maxConnections : 3,
		customHeaders : {},
		paramsStore : {},
		demoMode : !1,
		cors : {
			expected : !1,
			sendCredentials : !1
		},
		log : function(a, b) {
		},
		onDelete : function(a) {
		},
		onDeleteComplete : function(a, b, d) {
		}
	};
	qq.extend(c, a);
	b = new qq.AjaxRequestor({
				method : "DELETE",
				endpointStore : c.endpointStore,
				paramsStore : c.paramsStore,
				maxConnections : c.maxConnections,
				customHeaders : c.customHeaders,
				successfulResponseCodes : [200, 202, 204],
				demoMode : c.demoMode,
				log : c.log,
				onSend : c.onDelete,
				onComplete : c.onDeleteComplete
			});
	return {
		sendDelete : function(a, e) {
			b.send(a, e);
			c.log("Submitted delete file request for " + a)
		}
	}
};
qq.UploadHandler = function(a) {
	function b(a) {
		a = qq.indexOf(f, a);
		var b = e.maxConnections;
		0 <= a
				&& (f.splice(a, 1), f.length >= b && a < b
						&& (a = f[b - 1], m.upload(a)))
	}
	function c(a) {
		d("Cancelling " + a);
		e.paramsStore.remove(a);
		b(a)
	}
	var f = [], e, d, m, k;
	e = {
		debug : !1,
		forceMultipart : !0,
		paramsInBody : !1,
		paramsStore : {},
		endpointStore : {},
		cors : {
			expected : !1,
			sendCredentials : !1
		},
		maxConnections : 3,
		uuidParamName : "qquuid",
		totalFileSizeParamName : "qqtotalfilesize",
		chunking : {
			enabled : !1,
			partSize : 2E6,
			paramNames : {
				partIndex : "qqpartindex",
				partByteOffset : "qqpartbyteoffset",
				chunkSize : "qqchunksize",
				totalParts : "qqtotalparts",
				filename : "qqfilename"
			}
		},
		resume : {
			enabled : !1,
			id : null,
			cookiesExpireIn : 7,
			paramNames : {
				resuming : "qqresume"
			}
		},
		blobs : {
			paramNames : {
				name : "qqblobname"
			}
		},
		log : function(a, b) {
		},
		onProgress : function(a, b, d, c) {
		},
		onComplete : function(a, b, d, c) {
		},
		onCancel : function(a, b) {
		},
		onUpload : function(a, b) {
		},
		onUploadChunk : function(a, b, d) {
		},
		onAutoRetry : function(a, b, d, c) {
		},
		onResume : function(a, b, d) {
		},
		onUuidChanged : function(a, b) {
		}
	};
	qq.extend(e, a);
	d = e.log;
	m = qq.supportedFeatures.ajaxUploading ? new qq.UploadHandlerXhr(e, b,
			e.onUuidChanged, d) : new qq.UploadHandlerForm(e, b,
			e.onUuidChanged, d);
	return k = {
		add : function(a) {
			return m.add(a)
		},
		upload : function(a) {
			return f.push(a) <= e.maxConnections ? (m.upload(a), !0) : !1
		},
		retry : function(a) {
			return 0 <= qq.indexOf(f, a) ? m.upload(a, !0) : this.upload(a)
		},
		cancel : function(a) {
			var b = m.cancel(a);
			qq.isPromise(b) ? b.then(function() {
						c(a)
					}) : !1 !== b && c(a)
		},
		cancelAll : function() {
			var a = this, b = [];
			qq.extend(b, f);
			qq.each(b, function(b, d) {
						a.cancel(d)
					});
			f = []
		},
		getName : function(a) {
			return m.getName(a)
		},
		getSize : function(a) {
			if (m.getSize)
				return m.getSize(a)
		},
		getFile : function(a) {
			if (m.getFile)
				return m.getFile(a)
		},
		reset : function() {
			d("Resetting upload handler");
			k.cancelAll();
			f = [];
			m.reset()
		},
		expunge : function(a) {
			return m.expunge(a)
		},
		getUuid : function(a) {
			return m.getUuid(a)
		},
		isValid : function(a) {
			return m.isValid(a)
		},
		getResumableFilesData : function() {
			return m.getResumableFilesData ? m.getResumableFilesData() : []
		}
	}
};
qq.WindowReceiveMessage = function(a) {
	var b = {};
	qq.extend({
				log : function(a, b) {
				}
			}, a);
	return {
		receiveMessage : function(a, f) {
			var e = function(a) {
				f(a.data)
			};
			window.postMessage ? b[a] = qq(window).attach("message", e) : log(
					"iframe message passing not supported in this browser!",
					"error")
		},
		stopReceivingMessages : function(a) {
			window.postMessage && (a = b[a]) && a()
		}
	}
};
qq.UploadHandlerForm = function(a, b, c, f) {
	function e(a) {
		void 0 !== t[a] && (t[a](), delete t[a])
	}
	function d(a, b) {
		var d = a.id, c = d.split("_")[0];
		w[l[c]] = b;
		t[c] = qq(a).attach("load", function() {
			g[c]
					&& (v("Received iframe load event for CORS upload request (iframe name "
							+ d + ")"), s[d] = setTimeout(function() {
						var a = "No valid message received from loaded iframe for iframe name "
								+ d;
						v(a, "error");
						b({
									error : a
								})
					}, 1E3))
		});
		A.receiveMessage(d, function(a) {
			v("Received the following window message: '" + a + "'");
			var b = k(d.split("_")[0], a), c = b.uuid;
			c && w[c]
					? (v("Handling response for iframe name " + d), clearTimeout(s[d]), delete s[d], e(d), a = w[c], delete w[c], A
							.stopReceivingMessages(d), a(b))
					: c || v("'" + a + "' does not contain a UUID - ignoring.")
		})
	}
	function m(a, b) {
		p.cors.expected ? d(a, b) : t[a.id] = qq(a).attach("load", function() {
			v("Received response for " + a.id);
			if (a.parentNode) {
				try {
					if (a.contentDocument && a.contentDocument.body
							&& "false" == a.contentDocument.body.innerHTML)
						return
				} catch (d) {
					v(
							"Error when attempting to access iframe during handling of upload response ("
									+ d + ")", "error")
				}
				b()
			}
		})
	}
	function k(a, b) {
		var d;
		try {
			d = qq.parseJson(b), void 0 !== d.newUuid
					&& (v("Server requested UUID change from '" + l[a]
							+ "' to '" + d.newUuid + "'"), l[a] = d.newUuid, c(
							a, d.newUuid))
		} catch (e) {
			v(		"Error when attempting to parse iframe upload response ("
							+ e + ")", "error"), d = {}
		}
		return d
	}
	function n(a) {
		a = a + "_" + x;
		var b = qq.toElement('<iframe src="javascript:false;" name="' + a
				+ '" />');
		b.setAttribute("id", a);
		b.style.display = "none";
		document.body.appendChild(b);
		return b
	}
	function r(a, b) {
		var d = p.paramsStore.getParams(a), c = qq.toElement('<form method="'
				+ (p.demoMode ? "GET" : "POST")
				+ '" enctype="multipart/form-data"></form>'), e = p.endpointStore
				.getEndpoint(a), h = e;
		d[p.uuidParamName] = l[a];
		p.paramsInBody ? qq.obj2Inputs(d, c) : h = qq.obj2url(d, e);
		c.setAttribute("action", h);
		c.setAttribute("target", b.name);
		c.style.display = "none";
		document.body.appendChild(c);
		return c
	}
	function h(a) {
		delete g[a];
		delete l[a];
		delete t[a];
		p.cors.expected
				&& (clearTimeout(s[a]), delete s[a], A.stopReceivingMessages(a));
		if (a = document.getElementById(a + "_" + x))
			a.setAttribute("src", "java" + String.fromCharCode(115)
							+ "cript:false;"), qq(a).remove()
	}
	var p = a, g = [], l = [], t = {}, s = {}, v = f, A = new qq.WindowReceiveMessage(
			{
				log : v
			}), w = {}, x = qq.getUniqueId(), z;
	return z = {
		add : function(a) {
			a.setAttribute("name", p.inputName);
			var b = g.push(a) - 1;
			l[b] = qq.getUniqueId();
			a.parentNode && qq(a).remove();
			return b
		},
		getName : function(a) {
			if (z.isValid(a))
				return g[a].value.replace(/.*(\/|\\)/, "");
			v(a + " is not a valid item ID.", "error")
		},
		isValid : function(a) {
			return void 0 !== g[a]
		},
		reset : function() {
			g = [];
			l = [];
			t = {};
			x = qq.getUniqueId()
		},
		expunge : function(a) {
			return h(a)
		},
		getUuid : function(a) {
			return l[a]
		},
		cancel : function(a) {
			var b = p.onCancel(a, z.getName(a));
			return qq.isPromise(b) ? b.then(function() {
						h(a)
					}) : !1 !== b ? (h(a), !0) : !1
		},
		upload : function(a) {
			var d = g[a], c = z.getName(a), h = n(a), l;
			if (!d)
				throw Error("file with passed id was not added, or already uploaded or cancelled");
			p.onUpload(a, z.getName(a));
			l = r(a, h);
			l.appendChild(d);
			m(h, function(d) {
				v("iframe loaded");
				if (!d) {
					var g;
					try {
						var l = h.contentDocument || h.contentWindow.document, f = l.body.innerHTML;
						v("converting iframe's innerHTML to JSON");
						v("innerHTML = " + f);
						f && f.match(/^<pre/i)
								&& (f = l.body.firstChild.firstChild.nodeValue);
						g = k(a, f)
					} catch (m) {
						v(
								"Error when attempting to parse form upload response ("
										+ m + ")", "error"), g = {
							success : !1
						}
					}
					d = g
				}
				e(a);
				p.cors.expected || qq(h).remove();
				if (d.success || !p.onAutoRetry(a, c, d))
					p.onComplete(a, c, d), b(a)
			});
			v("Sending upload request for " + a);
			l.submit();
			qq(l).remove()
		}
	}
};
qq.UploadHandlerXhr = function(a, b, c, f) {
	function e(a, b, d) {
		var c = y.getSize(a);
		a = y.getName(a);
		b[q.chunking.paramNames.partIndex] = d.part;
		b[q.chunking.paramNames.partByteOffset] = d.start;
		b[q.chunking.paramNames.chunkSize] = d.size;
		b[q.chunking.paramNames.totalParts] = d.count;
		b[q.totalFileSizeParamName] = c;
		C && (b[q.chunking.paramNames.filename] = a)
	}
	function d(a, b) {
		var d = q.chunking.partSize, c = y.getSize(a), e = u[a].file
				|| u[a].blobData.blob, h = d * b, d = h + d >= c ? c : h + d, c = m(a);
		e = e.slice ? e.slice(h, d) : e.mozSlice
				? e.mozSlice(h, d)
				: e.webkitSlice ? e.webkitSlice(h, d) : void 0;
		return {
			part : b,
			start : h,
			end : d,
			count : c,
			blob : e,
			size : d - h
		}
	}
	function m(a) {
		a = y.getSize(a);
		return Math.ceil(a / q.chunking.partSize)
	}
	function k(a) {
		var b = new XMLHttpRequest;
		return u[a].xhr = b
	}
	function n(a, b, d, c) {
		var e = new FormData, h = q.demoMode ? "GET" : "POST", p = q.endpointStore
				.getEndpoint(c), g = p, l = y.getName(c), f = y.getSize(c), m = u[c].blobData;
		a[q.uuidParamName] = u[c].uuid;
		a[q.inputFileName] = u[c].file.name;
		C
				&& (a[q.totalFileSizeParamName] = f, m
						&& (a[q.blobs.paramNames.name] = m.name));
		q.paramsInBody || (C || (a[q.inputName] = l), g = qq.obj2url(a, p));
		b.open(h, g, !0);
		q.cors.expected && q.cors.sendCredentials && (b.withCredentials = !0);
		return C ? (q.paramsInBody && qq.obj2FormData(a, e), e.append(
				q.inputName, d), e) : d
	}
	function r(a, b) {
		var d = q.customHeaders, c = u[a].file || u[a].blobData.blob;
		b.setRequestHeader("X-Requested-With", "XMLHttpRequest");
		b.setRequestHeader("Cache-Control", "no-cache");
		C
				|| (b.setRequestHeader("Content-Type",
						"application/octet-stream"), b.setRequestHeader(
						"X-Mime-Type", c.type));
		qq.each(d, function(a, d) {
					b.setRequestHeader(a, d)
				})
	}
	function h(a, b, d) {
		var c = y.getName(a), e = y.getSize(a);
		u[a].attemptingResume = !1;
		q.onProgress(a, c, e, e);
		q.onComplete(a, c, b, d);
		u[a] && delete u[a].xhr;
		N(a)
	}
	function p(a) {
		var b = u[a].remainingChunkIdxs[0], c = d(a, b), h = k(a), p = y
				.getSize(a), g = y.getName(a), f;
		void 0 === u[a].loaded && (u[a].loaded = 0);
		O && u[a].file && s(a, c);
		h.onreadystatechange = t(a, h);
		h.upload.onprogress = function(c) {
			if (c.lengthComputable) {
				var e = c.loaded + u[a].loaded;
				c = c.total;
				var h = d(a, b);
				c -= h.size;
				var p = y.getSize(a), h = h.count, l = c
						- u[a].initialRequestOverhead;
				u[a].lastRequestOverhead = c;
				0 === b
						? (u[a].lastChunkIdxProgress = 0, u[a].initialRequestOverhead = c, u[a].estTotalRequestsSize = p
								+ h * c)
						: u[a].lastChunkIdxProgress !== b
								&& (u[a].lastChunkIdxProgress = b, u[a].estTotalRequestsSize += l);
				q.onProgress(a, g, e, u[a].estTotalRequestsSize)
			}
		};
		q.onUploadChunk(a, g, l(c));
		f = q.paramsStore.getParams(a);
		e(a, f, c);
		u[a].attemptingResume && (f[q.resume.paramNames.resuming] = !0);
		f = n(f, h, c.blob, a);
		r(a, h);
		G("Sending chunked upload request for item " + a + ": bytes "
				+ (c.start + 1) + "-" + c.end + " of " + p);
		h.send(f)
	}
	function g(a) {
		G(
				"Server has ordered chunking effort to be restarted on next attempt for item ID "
						+ a, "error");
		O && (v(a), u[a].attemptingResume = !1);
		u[a].remainingChunkIdxs = [];
		delete u[a].loaded;
		delete u[a].estTotalRequestsSize;
		delete u[a].initialRequestOverhead
	}
	function l(a) {
		return {
			partIndex : a.part,
			startByte : a.start + 1,
			endByte : a.end,
			totalParts : a.count
		}
	}
	function t(a, b) {
		return function() {
			if (4 === b.readyState) {
				var e;
				if (u[a]) {
					G("xhr - server response received for " + a);
					G("responseText = " + b.responseText);
					try {
						e = qq.parseJson(b.responseText), void 0 !== e.newUuid
								&& (G("Server requested UUID change from '"
										+ u[a].uuid + "' to '" + e.newUuid
										+ "'"), u[a].uuid = e.newUuid, c(a,
										e.newUuid))
					} catch (l) {
						G(		"Error when attempting to parse xhr response text ("
										+ l + ")", "error"), e = {}
					}
					if (200 !== b.status || !e.success || e.reset)
						if (e.reset && g(a), u[a].attemptingResume && e.reset)
							u[a].attemptingResume = !1, G(
									"Server has declared that it cannot handle resume for item ID "
											+ a
											+ " - starting from the first chunk",
									"error"), g(a), y.upload(a, !0);
						else {
							var f = y.getName(a);
							q.onAutoRetry(a, f, e, b) || h(a, e, b)
						}
					else
						E
								? (f = u[a].remainingChunkIdxs.shift(), f = d(
										a, f), u[a].attemptingResume = !1, u[a].loaded += f.size
										+ (C ? u[a].lastRequestOverhead : 0), 0 < u[a].remainingChunkIdxs.length
										? p(a)
										: (O && v(a), h(a, e, b)))
								: h(a, e, b)
				}
			}
		}
	}
	function s(a, b) {
		var d = y.getUuid(a), c = u[a].loaded, e = u[a].initialRequestOverhead, h = u[a].estTotalRequestsSize, p = w(a);
		qq.setCookie(p, d + H + b.part + H + c + H + e + H + h,
				q.resume.cookiesExpireIn)
	}
	function v(a) {
		u[a].file && (a = w(a), qq.deleteCookie(a))
	}
	function A(a) {
		var b = qq.getCookie(w(a));
		a = y.getName(a);
		var d, c, e;
		if (b) {
			b = b.split(H);
			if (5 === b.length)
				return a = b[0], d = parseInt(b[1], 10), c = parseInt(b[2], 10), e = parseInt(
						b[3], 10), b = parseInt(b[4], 10), {
					uuid : a,
					part : d,
					lastByteSent : c,
					initialRequestOverhead : e,
					estTotalRequestsSize : b
				};
			G(		"Ignoring previously stored resume/chunk cookie for " + a
							+ " - old cookie format", "warn")
		}
	}
	function w(a) {
		var b = y.getName(a);
		a = y.getSize(a);
		var d = q.chunking.partSize, b = "qqfilechunk" + H
				+ encodeURIComponent(b) + H + a + H + d;
		void 0 !== R && (b += H + R);
		return b
	}
	function x(a, b) {
		var d;
		for (d = m(a) - 1; d >= b; d -= 1)
			u[a].remainingChunkIdxs.unshift(d);
		p(a)
	}
	function z(a, b, d, c) {
		d = c.part;
		u[a].loaded = c.lastByteSent;
		u[a].estTotalRequestsSize = c.estTotalRequestsSize;
		u[a].initialRequestOverhead = c.initialRequestOverhead;
		u[a].attemptingResume = !0;
		G("Resuming " + b + " at partition index " + d);
		x(a, d)
	}
	function D(a, b, c) {
		var e = y.getName(a), h = d(a, b.part), h = q.onResume(a, e, l(h));
		qq.isPromise(h)
				? (G("Waiting for onResume promise to be fulfilled for " + a), h
						.then(function() {
									z(a, e, c, b)
								}, function() {
									G("onResume promise fulfilled - failure indicated.  Will not resume.");
									x(a, c)
								}))
				: !1 !== h
						? z(a, e, c, b)
						: (G("onResume callback returned false.  Will not resume."), x(
								a, c))
	}
	function M(a) {
		var b = u[a].file || u[a].blobData.blob, d = y.getName(a), c, e;
		u[a].loaded = 0;
		c = k(a);
		c.upload.onprogress = function(b) {
			b.lengthComputable
					&& (u[a].loaded = b.loaded, q.onProgress(a, d, b.loaded,
							b.total))
		};
		c.onreadystatechange = t(a, c);
		e = q.paramsStore.getParams(a);
		b = n(e, c, b, a);
		r(a, c);
		G("Sending upload request for " + a);
		c.send(b)
	}
	function J(a) {
		var b = u[a].xhr;
		b && (b.onreadystatechange = null, b.abort());
		O && v(a);
		delete u[a]
	}
	var q = a, N = b, G = f, u = [], H = "|", E = q.chunking.enabled
			&& qq.supportedFeatures.chunking, O = q.resume.enabled && E
			&& qq.supportedFeatures.resume, R;
	R = null === q.resume.id || void 0 === q.resume.id
			|| qq.isFunction(q.resume.id) || qq.isObject(q.resume.id)
			? void 0
			: q.resume.id;
	var C = q.forceMultipart || q.paramsInBody, y;
	return y = {
		add : function(a) {
			var b, d = qq.getUniqueId();
			if (qq.isFile(a))
				a = u.push({
							file : a
						}) - 1;
			else if (qq.isBlob(a.blob))
				a = u.push({
							blobData : a
						}) - 1;
			else
				throw Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");
			O && (b = A(a)) && (d = b.uuid);
			u[a].uuid = d;
			return a
		},
		getName : function(a) {
			if (y.isValid(a)) {
				var b = u[a].file;
				a = u[a].blobData;
				return b ? null !== b.fileName && void 0 !== b.fileName
						? b.fileName
						: b.name : a.name
			}
			G(a + " is not a valid item ID.", "error")
		},
		getSize : function(a) {
			a = u[a].file || u[a].blobData.blob;
			return qq.isFileOrInput(a) ? null != a.fileSize
					? a.fileSize
					: a.size : a.size
		},
		getFile : function(a) {
			if (u[a])
				return u[a].file || u[a].blobData.blob
		},
		isValid : function(a) {
			return void 0 !== u[a]
		},
		reset : function() {
			u = []
		},
		expunge : function(a) {
			return J(a)
		},
		getUuid : function(a) {
			return u[a].uuid
		},
		upload : function(a, b) {
			var d = this.getName(a);
			this.isValid(a)
					&& (q.onUpload(a, d), E ? u[a].remainingChunkIdxs
							&& 0 !== u[a].remainingChunkIdxs.length
							? p(a)
							: (u[a].remainingChunkIdxs = [], O && !b
									&& u[a].file ? (d = A(a)) ? D(a, d, 0) : x(
									a, 0) : x(a, 0)) : M(a))
		},
		cancel : function(a) {
			var b = q.onCancel(a, this.getName(a));
			return qq.isPromise(b) ? b.then(function() {
						J(a)
					}) : !1 !== b ? (J(a), !0) : !1
		},
		getResumableFilesData : function() {
			var a = [], b = [];
			return E && O ? (a = void 0 === R ? qq
					.getCookieNames(RegExp("^qqfilechunk\\" + H + ".+\\" + H
							+ "\\d+\\" + H + q.chunking.partSize + "=")) : qq
					.getCookieNames(RegExp("^qqfilechunk\\" + H + ".+\\" + H
							+ "\\d+\\" + H + q.chunking.partSize + "\\" + H + R
							+ "=")), qq.each(a, function(a, d) {
						var c = d.split(H), e = qq.getCookie(d).split(H);
						b.push({
									name : decodeURIComponent(c[1]),
									size : c[2],
									uuid : e[0],
									partIdx : e[1]
								})
					}), b) : []
		}
	}
};
qq.PasteSupport = function(a) {
	var b;
	b = {
		targetElement : null,
		callbacks : {
			log : function(a, b) {
			},
			pasteReceived : function(a) {
			}
		}
	};
	qq.extend(b, a);
	(function() {
		qq(b.targetElement).attach("paste", function(a) {
					(a = a.clipboardData) && qq.each(a.items, function(a, c) {
								if (c.type && 0 === c.type.indexOf("image/")) {
									var d = c.getAsFile();
									b.callbacks.pasteReceived(d)
								}
							})
				})
	})();
	return {
		reset : function() {
		}
	}
};
qq.FineUploaderBasic = function(a) {
	this._options = {
		debug : !1,
		button : null,
		multiple : !0,
		maxConnections : 3,
		disableCancelForFormUploads : !1,
		autoUpload : !0,
		request : {
			endpoint : "/server/upload",
			params : {},
			paramsInBody : !0,
			customHeaders : {},
			forceMultipart : !0,
			inputName : "qqfile",
			inputFileName : "qqfilename",
			uuidName : "qquuid",
			totalFileSizeName : "qqtotalfilesize"
		},
		validation : {
			allowedExtensions : [],
			sizeLimit : 0,
			minSizeLimit : 0,
			itemLimit : 0,
			stopOnFirstInvalidFile : !0,
			acceptFiles : null
		},
		callbacks : {
			onSubmit : function(a, c) {
			},
			onSubmitted : function(a, c) {
			},
			onComplete : function(a, c, f, e) {
			},
			onCancel : function(a, c) {
			},
			onUpload : function(a, c) {
			},
			onUploadChunk : function(a, c, f) {
			},
			onResume : function(a, c, f) {
			},
			onProgress : function(a, c, f, e) {
			},
			onError : function(a, c, f, e) {
			},
			onAutoRetry : function(a, c, f) {
			},
			onManualRetry : function(a, c) {
			},
			onValidateBatch : function(a) {
			},
			onValidate : function(a) {
			},
			onSubmitDelete : function(a) {
			},
			onDelete : function(a) {
			},
			onDeleteComplete : function(a, c, f) {
			},
			onPasteReceived : function(a) {
			},
			onStatusChange : function(a, c, f) {
			}
		},
		messages : {
			typeError : "{file} has an invalid extension. Valid extension(s): {extensions}.",
			sizeError : "{file} is too large, maximum file size is {sizeLimit}.",
			minSizeError : "{file} is too small, minimum file size is {minSizeLimit}.",
			emptyError : "{file} is empty, please select files again without it.",
			noFilesError : "No files to upload.",
			tooManyItemsError : "Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",
			retryFailTooManyItems : "Retry failed - you have reached your file limit.",
			onLeave : "The files are being uploaded, if you leave now the upload will be cancelled."
		},
		retry : {
			enableAuto : !1,
			maxAutoAttempts : 3,
			autoAttemptDelay : 5,
			preventRetryResponseProperty : "preventRetry"
		},
		classes : {
			buttonHover : "qq-upload-button-hover",
			buttonFocus : "qq-upload-button-focus"
		},
		chunking : {
			enabled : !1,
			partSize : 2E6,
			paramNames : {
				partIndex : "qqpartindex",
				partByteOffset : "qqpartbyteoffset",
				chunkSize : "qqchunksize",
				totalFileSize : "qqtotalfilesize",
				totalParts : "qqtotalparts",
				filename : "qqfilename"
			}
		},
		resume : {
			enabled : !1,
			id : null,
			cookiesExpireIn : 7,
			paramNames : {
				resuming : "qqresume"
			}
		},
		formatFileName : function(a) {
			33 < a.length && (a = a.slice(0, 19) + "..." + a.slice(-14));
			return a
		},
		text : {
			defaultResponseError : "Upload failure reason unknown",
			sizeSymbols : "kB MB GB TB PB EB".split(" ")
		},
		deleteFile : {
			enabled : !1,
			endpoint : "/server/upload",
			customHeaders : {},
			params : {}
		},
		cors : {
			expected : !1,
			sendCredentials : !1
		},
		blobs : {
			defaultName : "misc_data",
			paramNames : {
				name : "qqblobname"
			}
		},
		paste : {
			targetElement : null,
			defaultName : "pasted_image"
		},
		camera : {
			ios : !1
		}
	};
	qq.extend(this._options, a, !0);
	this._handleCameraAccess();
	this._wrapCallbacks();
	this._disposeSupport = new qq.DisposeSupport;
	this._filesInProgress = [];
	this._storedIds = [];
	this._autoRetries = [];
	this._retryTimeouts = [];
	this._preventRetries = [];
	this._netUploaded = this._netUploadedOrQueued = 0;
	this._uploadData = this._createUploadDataTracker();
	this._paramsStore = this._createParamsStore("request");
	this._deleteFileParamsStore = this._createParamsStore("deleteFile");
	this._endpointStore = this._createEndpointStore("request");
	this._deleteFileEndpointStore = this._createEndpointStore("deleteFile");
	this._handler = this._createUploadHandler();
	this._deleteHandler = this._createDeleteHandler();
	this._options.button
			&& (this._button = this._createUploadButton(this._options.button));
	this._options.paste.targetElement
			&& (this._pasteHandler = this._createPasteHandler());
	this._preventLeaveInProgress()
};
qq.FineUploaderBasic.prototype = {
	log : function(a, b) {
		!this._options.debug || b && "info" !== b ? b && "info" !== b
				&& qq.log("[FineUploader " + qq.version + "] " + a, b) : qq
				.log("[FineUploader " + qq.version + "] " + a)
	},
	setParams : function(a, b) {
		null == b ? this._options.request.params = a : this._paramsStore
				.setParams(a, b)
	},
	setDeleteFileParams : function(a, b) {
		null == b
				? this._options.deleteFile.params = a
				: this._deleteFileParamsStore.setParams(a, b)
	},
	setEndpoint : function(a, b) {
		null == b ? this._options.request.endpoint = a : this._endpointStore
				.setEndpoint(a, b)
	},
	getInProgress : function() {
		return this._filesInProgress.length
	},
	getNetUploads : function() {
		return this._netUploaded
	},
	uploadStoredFiles : function() {
		for (var a; this._storedIds.length;)
			a = this._storedIds.shift(), this._filesInProgress.push(a), this._handler
					.upload(a)
	},
	clearStoredFiles : function() {
		this._storedIds = []
	},
	retry : function(a) {
		return this._onBeforeManualRetry(a)
				? (this._netUploadedOrQueued++, this._uploadData.setStatus(a,
						qq.status.UPLOAD_RETRYING), this._handler.retry(a), !0)
				: !1
	},
	cancel : function(a) {
		this._handler.cancel(a)
	},
	cancelAll : function() {
		var a = [], b = this;
		qq.extend(a, this._storedIds);
		qq.each(a, function(a, f) {
					b.cancel(f)
				});
		this._handler.cancelAll()
	},
	reset : function() {
		this.log("Resetting uploader...");
		this._handler.reset();
		this._filesInProgress = [];
		this._storedIds = [];
		this._autoRetries = [];
		this._retryTimeouts = [];
		this._preventRetries = [];
		this._button.reset();
		this._paramsStore.reset();
		this._endpointStore.reset();
		this._netUploaded = this._netUploadedOrQueued = 0;
		this._uploadData.reset();
		this._pasteHandler && this._pasteHandler.reset()
	},
	addFiles : function(a, b, c) {
		var f = [], e, d, m;
		if (a) {
			qq.isFileList(a) || (a = [].concat(a));
			for (e = 0; e < a.length; e += 1)
				if (d = a[e], qq.isFileOrInput(d))
					if (qq.isInput(d) && qq.supportedFeatures.ajaxUploading)
						for (m = 0; m < d.files.length; m++)
							f.push(d.files[m]);
					else
						f.push(d);
				else
					this.log(d + " is not a File or INPUT element!  Ignoring!",
							"warn");
			this.log("Received " + f.length + " files or inputs.");
			this._prepareItemsForUpload(f, b, c)
		}
	},
	addBlobs : function(a, b, c) {
		if (a) {
			a = [].concat(a);
			var f = [], e = this;
			qq.each(a, function(a, b) {
				qq.isBlob(b) && !qq.isFileOrInput(b)
						? f.push({
									blob : b,
									name : e._options.blobs.defaultName
								})
						: qq.isObject(b) && b.blob && b.name
								? f.push(b)
								: e
										.log(
												"addBlobs: entry at index "
														+ a
														+ " is not a Blob or a BlobData object",
												"error")
			});
			this._prepareItemsForUpload(f, b, c)
		} else
			this.log("undefined or non-array parameter passed into addBlobs",
					"error")
	},
	getUuid : function(a) {
		return this._handler.getUuid(a)
	},
	getResumableFilesData : function() {
		return this._handler.getResumableFilesData()
	},
	getSize : function(a) {
		return this._handler.getSize(a)
	},
	getName : function(a) {
		return this._handler.getName(a)
	},
	getFile : function(a) {
		return this._handler.getFile(a)
	},
	deleteFile : function(a) {
		this._onSubmitDelete(a)
	},
	setDeleteFileEndpoint : function(a, b) {
		null == b
				? this._options.deleteFile.endpoint = a
				: this._deleteFileEndpointStore.setEndpoint(a, b)
	},
	doesExist : function(a) {
		return this._handler.isValid(a)
	},
	getUploads : function(a) {
		return this._uploadData.retrieve(a)
	},
	_handleCheckedCallback : function(a) {
		var b = this, c = a.callback();
		if (qq.isPromise(c))
			return this.log(a.name + " - waiting for " + a.name
					+ " promise to be fulfilled for " + a.identifier), c.then(
					function(c) {
						b.log(a.name + " promise success for " + a.identifier);
						a.onSuccess(c)
					}, function() {
						a.onFailure ? (b.log(a.name + " promise failure for "
								+ a.identifier), a.onFailure()) : b.log(a.name
								+ " promise failure for " + a.identifier)
					});
		if (!1 !== c)
			a.onSuccess(c);
		else
			a.onFailure ? (this.log(a.name + " - return value was 'false' for "
					+ a.identifier + ".  Invoking failure callback."), a
					.onFailure()) : this.log(a.name
					+ " - return value was 'false' for " + a.identifier
					+ ".  Will not proceed.");
		return c
	},
	_createUploadButton : function(a) {
		var b = this, c = new qq.UploadButton({
					element : a,
					multiple : this._options.multiple
							&& qq.supportedFeatures.ajaxUploading,
					acceptFiles : this._options.validation.acceptFiles,
					onChange : function(a) {
						b._onInputChange(a)
					},
					hoverClass : this._options.classes.buttonHover,
					focusClass : this._options.classes.buttonFocus
				});
		this._disposeSupport.addDisposer(function() {
					c.dispose()
				});
		return c
	},
	_createUploadHandler : function() {
		var a = this;
		return new qq.UploadHandler({
			debug : this._options.debug,
			forceMultipart : this._options.request.forceMultipart,
			maxConnections : this._options.maxConnections,
			customHeaders : this._options.request.customHeaders,
			inputName : this._options.request.inputName,
			inputFileName : this._options.request.inputFileName,
			uuidParamName : this._options.request.uuidName,
			totalFileSizeParamName : this._options.request.totalFileSizeName,
			cors : this._options.cors,
			demoMode : this._options.demoMode,
			paramsInBody : this._options.request.paramsInBody,
			paramsStore : this._paramsStore,
			endpointStore : this._endpointStore,
			chunking : this._options.chunking,
			resume : this._options.resume,
			blobs : this._options.blobs,
			log : function(b, c) {
				a.log(b, c)
			},
			onProgress : function(b, c, f, e) {
				a._onProgress(b, c, f, e);
				a._options.callbacks.onProgress(b, c, f, e)
			},
			onComplete : function(b, c, f, e) {
				a._onComplete(b, c, f, e);
				a._options.callbacks.onComplete(b, c, f, e)
			},
			onCancel : function(b, c) {
				return a._handleCheckedCallback({
							name : "onCancel",
							callback : qq.bind(a._options.callbacks.onCancel,
									a, b, c),
							onSuccess : qq.bind(a._onCancel, a, b, c),
							identifier : b
						})
			},
			onUpload : function(b, c) {
				a._onUpload(b, c);
				a._options.callbacks.onUpload(b, c)
			},
			onUploadChunk : function(b, c, f) {
				a._options.callbacks.onUploadChunk(b, c, f)
			},
			onResume : function(b, c, f) {
				return a._options.callbacks.onResume(b, c, f)
			},
			onAutoRetry : function(b, c, f, e) {
				a._preventRetries[b] = f[a._options.retry.preventRetryResponseProperty];
				return a._shouldAutoRetry(b, c, f)
						? (a._maybeParseAndSendUploadError(b, c, f, e), a._options.callbacks
								.onAutoRetry(b, c, a._autoRetries[b] + 1), a
								._onBeforeAutoRetry(b, c), a._retryTimeouts[b] = setTimeout(
								function() {
									a._onAutoRetry(b, c, f)
								}, 1E3 * a._options.retry.autoAttemptDelay), !0)
						: !1
			},
			onUuidChanged : function(b, c) {
				a._uploadData.uuidChanged(b, c)
			}
		})
	},
	_createDeleteHandler : function() {
		var a = this;
		return new qq.DeleteFileAjaxRequestor({
					maxConnections : this._options.maxConnections,
					customHeaders : this._options.deleteFile.customHeaders,
					paramsStore : this._deleteFileParamsStore,
					endpointStore : this._deleteFileEndpointStore,
					demoMode : this._options.demoMode,
					cors : this._options.cors,
					log : function(b, c) {
						a.log(b, c)
					},
					onDelete : function(b) {
						a._onDelete(b);
						a._options.callbacks.onDelete(b)
					},
					onDeleteComplete : function(b, c, f) {
						a._onDeleteComplete(b, c, f);
						a._options.callbacks.onDeleteComplete(b, c, f)
					}
				})
	},
	_createPasteHandler : function() {
		var a = this;
		return new qq.PasteSupport({
					targetElement : this._options.paste.targetElement,
					callbacks : {
						log : function(b, c) {
							a.log(b, c)
						},
						pasteReceived : function(b) {
							a._handleCheckedCallback({
										name : "onPasteReceived",
										callback : qq
												.bind(
														a._options.callbacks.onPasteReceived,
														a, b),
										onSuccess : qq.bind(
												a._handlePasteSuccess, a, b),
										identifier : "pasted image"
									})
						}
					}
				})
	},
	_createUploadDataTracker : function() {
		var a = this;
		return new qq.UploadData({
					getName : function(b) {
						return a.getName(b)
					},
					getUuid : function(b) {
						return a.getUuid(b)
					},
					getSize : function(b) {
						return a.getSize(b)
					},
					onStatusChange : function(b, c, f) {
						a._options.callbacks.onStatusChange(b, c, f)
					}
				})
	},
	_handlePasteSuccess : function(a, b) {
		var c = a.type.split("/")[1], f = b;
		null == f && (f = this._options.paste.defaultName);
		this.addBlobs({
					name : f + ("." + c),
					blob : a
				})
	},
	_preventLeaveInProgress : function() {
		var a = this;
		this._disposeSupport.attach(window, "beforeunload", function(b) {
			if (a._filesInProgress.length)
				return b = b || window.event, b.returnValue = a._options.messages.onLeave
		})
	},
	_onSubmit : function(a, b) {
		this._netUploadedOrQueued++;
		this._options.autoUpload && this._filesInProgress.push(a)
	},
	_onProgress : function(a, b, c, f) {
	},
	_onComplete : function(a, b, c, f) {
		c.success
				? (this._uploadData.setStatus(a, qq.status.UPLOAD_SUCCESSFUL), this._netUploaded++)
				: (this._uploadData.setStatus(a, qq.status.UPLOAD_FAILED), this._netUploadedOrQueued--);
		this._removeFromFilesInProgress(a);
		this._maybeParseAndSendUploadError(a, b, c, f)
	},
	_onCancel : function(a, b) {
		this._uploadData.setStatus(a, qq.status.CANCELED);
		this._netUploadedOrQueued--;
		this._removeFromFilesInProgress(a);
		clearTimeout(this._retryTimeouts[a]);
		var c = qq.indexOf(this._storedIds, a);
		!this._options.autoUpload && 0 <= c && this._storedIds.splice(c, 1)
	},
	_isDeletePossible : function() {
		return this._options.deleteFile.enabled
				&& (!this._options.cors.expected || qq.supportedFeatures.deleteFileCors)
	},
	_onSubmitDelete : function(a, b) {
		if (this._isDeletePossible())
			return this._handleCheckedCallback({
						name : "onSubmitDelete",
						callback : qq
								.bind(this._options.callbacks.onSubmitDelete,
										this, a),
						onSuccess : b
								|| qq.bind(this._deleteHandler.sendDelete,
										this, a, this.getUuid(a)),
						identifier : a
					});
		this
				.log(
						"Delete request ignored for ID "
								+ a
								+ ", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.",
						"warn");
		return !1
	},
	_onDelete : function(a) {
		this._uploadData.setStatus(a, qq.status.DELETING)
	},
	_onDeleteComplete : function(a, b, c) {
		var f = this._handler.getName(a);
		c
				? (this._uploadData.setStatus(a, qq.status.DELETE_FAILED), this
						.log("Delete request for '" + f + "' has failed.",
								"error"), this._options.callbacks.onError(a, f,
						"Delete request failed with response code " + b.status,
						b))
				: (this._uploadData.setStatus(a, qq.status.DELETED), this._netUploadedOrQueued--, this._netUploaded--, this._handler
						.expunge(a), this.log("Delete request for '" + f
						+ "' has succeeded."))
	},
	_removeFromFilesInProgress : function(a) {
		a = qq.indexOf(this._filesInProgress, a);
		0 <= a && this._filesInProgress.splice(a, 1)
	},
	_onUpload : function(a, b) {
		this._uploadData.setStatus(a, qq.status.UPLOADING)
	},
	_onInputChange : function(a) {
		qq.supportedFeatures.ajaxUploading ? this.addFiles(a.files) : this
				.addFiles(a);
		this._button.reset()
	},
	_onBeforeAutoRetry : function(a, b) {
		this.log("Waiting " + this._options.retry.autoAttemptDelay
				+ " seconds before retrying " + b + "...")
	},
	_onAutoRetry : function(a, b, c) {
		this.log("Retrying " + b + "...");
		this._autoRetries[a]++;
		this._uploadData.setStatus(a, qq.status.UPLOAD_RETRYING);
		this._handler.retry(a)
	},
	_shouldAutoRetry : function(a, b, c) {
		return !this._preventRetries[a] && this._options.retry.enableAuto
				? (void 0 === this._autoRetries[a]
						&& (this._autoRetries[a] = 0), this._autoRetries[a] < this._options.retry.maxAutoAttempts)
				: !1
	},
	_onBeforeManualRetry : function(a) {
		var b = this._options.validation.itemLimit;
		if (this._preventRetries[a])
			return this.log("Retries are forbidden for id " + a, "warn"), !1;
		if (this._handler.isValid(a)) {
			var c = this._handler.getName(a);
			if (!1 === this._options.callbacks.onManualRetry(a, c))
				return !1;
			if (0 < b && this._netUploadedOrQueued + 1 > b)
				return this._itemError("retryFailTooManyItems", ""), !1;
			this.log("Retrying upload for '" + c + "' (id: " + a + ")...");
			this._filesInProgress.push(a);
			return !0
		}
		this.log("'" + a + "' is not a valid file ID", "error");
		return !1
	},
	_maybeParseAndSendUploadError : function(a, b, c, f) {
		if (!c.success)
			if (f && 200 !== f.status && !c.error)
				this._options.callbacks.onError(a, b,
						"XHR returned response code " + f.status, f);
			else
				this._options.callbacks.onError(a, b, c.error
								? c.error
								: this._options.text.defaultResponseError, f)
	},
	_prepareItemsForUpload : function(a, b, c) {
		var f = this._getValidationDescriptors(a);
		this._handleCheckedCallback({
					name : "onValidateBatch",
					callback : qq.bind(this._options.callbacks.onValidateBatch,
							this, f),
					onSuccess : qq.bind(this._onValidateBatchCallbackSuccess,
							this, f, a, b, c),
					identifier : "batch validation"
				})
	},
	_upload : function(a, b, c) {
		a = this._handler.add(a);
		var f = this._handler.getName(a);
		this._uploadData.added(a);
		b && this.setParams(b, a);
		c && this.setEndpoint(c, a);
		this._handleCheckedCallback({
					name : "onSubmit",
					callback : qq.bind(this._options.callbacks.onSubmit, this,
							a, f),
					onSuccess : qq.bind(this._onSubmitCallbackSuccess, this, a,
							f),
					onFailure : qq.bind(this._fileOrBlobRejected, this, a, f),
					identifier : a
				})
	},
	_onSubmitCallbackSuccess : function(a, b) {
		this._uploadData.setStatus(a, qq.status.SUBMITTED);
		this._onSubmit(a, b);
		this._options.callbacks.onSubmitted(a, b);
		this._options.autoUpload ? this._handler.upload(a)
				|| this._uploadData.setStatus(a, qq.status.QUEUED) : this
				._storeForLater(a)
	},
	_storeForLater : function(a) {
		this._storedIds.push(a)
	},
	_onValidateBatchCallbackSuccess : function(a, b, c, f) {
		var e = this._options.validation.itemLimit;
		a = this._netUploadedOrQueued + a.length;
		0 === e || a <= e
				? 0 < b.length ? this._handleCheckedCallback({
							name : "onValidate",
							callback : qq.bind(
									this._options.callbacks.onValidate, this,
									b[0]),
							onSuccess : qq.bind(
									this._onValidateCallbackSuccess, this, b,
									0, c, f),
							onFailure : qq.bind(
									this._onValidateCallbackFailure, this, b,
									0, c, f),
							identifier : "Item '" + b[0].name + "', size: "
									+ b[0].size
						}) : this._itemError("noFilesError", "")
				: (b = this._options.messages.tooManyItemsError.replace(
						/\{netItems\}/g, a).replace(/\{itemLimit\}/g, e), this
						._batchError(b))
	},
	_onValidateCallbackSuccess : function(a, b, c, f) {
		var e = b + 1, d = this._getValidationDescriptor(a[b]), m = !1;
		this._validateFileOrBlobData(a[b], d)
				&& (m = !0, this._upload(a[b], c, f));
		this._maybeProcessNextItemAfterOnValidateCallback(m, a, e, c, f)
	},
	_onValidateCallbackFailure : function(a, b, c, f) {
		b += 1;
		this._fileOrBlobRejected(void 0, a[0].name);
		this._maybeProcessNextItemAfterOnValidateCallback(!1, a, b, c, f)
	},
	_maybeProcessNextItemAfterOnValidateCallback : function(a, b, c, f, e) {
		var d = this;
		b.length > c
				&& (!a && this._options.validation.stopOnFirstInvalidFile || setTimeout(
						function() {
							var a = d._getValidationDescriptor(b[c]);
							d._handleCheckedCallback({
										name : "onValidate",
										callback : qq
												.bind(
														d._options.callbacks.onValidate,
														d, b[c]),
										onSuccess : qq.bind(
												d._onValidateCallbackSuccess,
												d, b, c, f, e),
										onFailure : qq.bind(
												d._onValidateCallbackFailure,
												d, b, c, f, e),
										identifier : "Item '" + a.name
												+ "', size: " + a.size
									})
						}, 0))
	},
	_validateFileOrBlobData : function(a, b) {
		var c = b.name, f = b.size, e = !0;
		!1 === this._options.callbacks.onValidate(b) && (e = !1);
		qq.isFileOrInput(a) && !this._isAllowedExtension(c) ? (this._itemError(
				"typeError", c), e = !1) : 0 === f ? (this._itemError(
				"emptyError", c), e = !1) : f
				&& this._options.validation.sizeLimit
				&& f > this._options.validation.sizeLimit ? (this._itemError(
				"sizeError", c), e = !1) : f
				&& f < this._options.validation.minSizeLimit
				&& (this._itemError("minSizeError", c), e = !1);
		e || this._fileOrBlobRejected(void 0, c);
		return e
	},
	_fileOrBlobRejected : function(a, b) {
		void 0 !== a && this._uploadData.setStatus(a, qq.status.REJECTED)
	},
	_itemError : function(a, b) {
		function c(a, b) {
			f = f.replace(a, b)
		}
		var f = this._options.messages[a], e = [], d = [].concat(b), m = d[0], k;
		qq.each(this._options.validation.allowedExtensions, function(a, b) {
					qq.isString(b) && e.push(b)
				});
		k = e.join(", ").toLowerCase();
		c("{file}", this._options.formatFileName(m));
		c("{extensions}", k);
		c("{sizeLimit}", this._formatSize(this._options.validation.sizeLimit));
		c("{minSizeLimit}", this
						._formatSize(this._options.validation.minSizeLimit));
		k = f.match(/(\{\w+\})/g);
		null !== k && qq.each(k, function(a, b) {
					c(b, d[a])
				});
		this._options.callbacks.onError(null, m, f, void 0);
		return f
	},
	_batchError : function(a) {
		this._options.callbacks.onError(null, null, a, void 0)
	},
	_isAllowedExtension : function(a) {
		var b = this._options.validation.allowedExtensions, c = !1;
		if (!b.length)
			return !0;
		qq.each(b, function(b, e) {
			if (qq.isString(e) && null != a.match(RegExp("\\." + e + "$", "i")))
				return c = !0, !1
		});
		return c
	},
	_formatSize : function(a) {
		var b = -1;
		do
			a /= 1E3, b++;
		while (999 < a);
		return Math.max(a, 0.1).toFixed(1) + this._options.text.sizeSymbols[b]
	},
	_wrapCallbacks : function() {
		var a, b;
		a = this;
		b = function(b, c, d) {
			try {
				return c.apply(a, d)
			} catch (m) {
				a.log(
						"Caught exception in '" + b + "' callback - "
								+ m.message, "error")
			}
		};
		for (var c in this._options.callbacks)
			(function() {
				var f, e;
				f = c;
				e = a._options.callbacks[f];
				a._options.callbacks[f] = function() {
					return b(f, e, arguments)
				}
			})()
	},
	_parseFileOrBlobDataName : function(a) {
		return qq.isFileOrInput(a) ? a.value
				? a.value.replace(/.*(\/|\\)/, "")
				: null !== a.fileName && void 0 !== a.fileName
						? a.fileName
						: a.name : a.name
	},
	_parseFileOrBlobDataSize : function(a) {
		var b;
		qq.isFileOrInput(a) ? a.value
				|| (b = null !== a.fileSize && void 0 !== a.fileSize
						? a.fileSize
						: a.size) : b = a.blob.size;
		return b
	},
	_getValidationDescriptor : function(a) {
		var b, c;
		c = {};
		b = this._parseFileOrBlobDataName(a);
		a = this._parseFileOrBlobDataSize(a);
		c.name = b;
		void 0 !== a && (c.size = a);
		return c
	},
	_getValidationDescriptors : function(a) {
		var b = this, c = [];
		qq.each(a, function(a, e) {
					c.push(b._getValidationDescriptor(e))
				});
		return c
	},
	_createParamsStore : function(a) {
		var b = {}, c = this;
		return {
			setParams : function(a, c) {
				var d = {};
				qq.extend(d, a);
				b[c] = d
			},
			getParams : function(f) {
				var e = {};
				null != f && b[f] ? qq.extend(e, b[f]) : qq.extend(e,
						c._options[a].params);
				return e
			},
			remove : function(a) {
				return delete b[a]
			},
			reset : function() {
				b = {}
			}
		}
	},
	_createEndpointStore : function(a) {
		var b = {}, c = this;
		return {
			setEndpoint : function(a, c) {
				b[c] = a
			},
			getEndpoint : function(f) {
				return null != f && b[f] ? b[f] : c._options[a].endpoint
			},
			remove : function(a) {
				return delete b[a]
			},
			reset : function() {
				b = {}
			}
		}
	},
	_handleCameraAccess : function() {
		this._options.camera.ios
				&& qq.ios()
				&& (this._options.multiple = !1, this._options.validation.acceptFiles = null === this._options.validation.acceptFiles
						? "image/*;capture=camera"
						: this._options.validation.acceptFiles
								+ ",image/*;capture=camera")
	}
};
qq.DragAndDrop = function(a) {
	function b(a) {
		var c, e, g = new qq.Promise;
		a.isFile ? a.file(function(a) {
					k.push(a);
					g.success()
				}, function(b) {
					d.callbacks.dropLog("Problem parsing '" + a.fullPath
									+ "'.  FileError code " + b.code + ".",
							"error");
					g.failure()
				}) : a.isDirectory
				&& (c = a.createReader(), c.readEntries(function(a) {
							var d = a.length;
							for (e = 0; e < a.length; e += 1)
								b(a[e]).done(function() {
											d -= 1;
											0 === d && g.success()
										});
							a.length || g.success()
						}, function(b) {
							d.callbacks.dropLog("Problem parsing '"
											+ a.fullPath
											+ "'.  FileError code " + b.code
											+ ".", "error");
							g.failure()
						}));
		return g
	}
	function c(a) {
		var c, e, g = [], l = new qq.Promise;
		d.callbacks.processingDroppedFiles();
		m.dropDisabled(!0);
		if (1 < a.files.length && !d.allowMultipleItems)
			d.callbacks.processingDroppedFilesComplete([]), d.callbacks
					.dropError("tooManyFilesError", ""), m.dropDisabled(!1), l
					.failure();
		else {
			k = [];
			if (qq.isFolderDropSupported(a))
				for (c = a.items, a = 0; a < c.length; a += 1)
					(e = c[a].webkitGetAsEntry())
							&& (e.isFile ? k.push(c[a].getAsFile()) : g
									.push(b(e).done(function() {
												g.pop();
												0 === g.length && l.success()
											})));
			else
				k = a.files;
			0 === g.length && l.success()
		}
		return l
	}
	function f(a) {
		m = new qq.UploadDropZone({
					element : a,
					onEnter : function(b) {
						qq(a).addClass(d.classes.dropActive);
						b.stopPropagation()
					},
					onLeaveNotDescendants : function(b) {
						qq(a).removeClass(d.classes.dropActive)
					},
					onDrop : function(b) {
						d.hideDropZonesBeforeEnter && qq(a).hide();
						qq(a).removeClass(d.classes.dropActive);
						c(b.dataTransfer).done(function() {
							var a = k;
							d.callbacks.dropLog("Grabbed " + a.length
									+ " dropped files.");
							m.dropDisabled(!1);
							d.callbacks.processingDroppedFilesComplete(a)
						})
					}
				});
		n.addDisposer(function() {
					m.dispose()
				});
		d.hideDropZonesBeforeEnter && qq(a).hide()
	}
	function e(a) {
		var b;
		qq.each(a.dataTransfer.types, function(a, d) {
					if ("Files" === d)
						return b = !0, !1
				});
		return b
	}
	var d, m, k = [], n = new qq.DisposeSupport;
	d = {
		dropZoneElements : [],
		hideDropZonesBeforeEnter : !1,
		allowMultipleItems : !0,
		classes : {
			dropActive : null
		},
		callbacks : new qq.DragAndDrop.callbacks
	};
	qq.extend(d, a, !0);
	(function() {
		var a = d.dropZoneElements;
		qq.each(a, function(a, b) {
					f(b)
				});
		!a.length || qq.ie() && !qq.ie10()
				|| n.attach(document, "dragenter", function(b) {
							!m.dropDisabled() && e(b)
									&& qq.each(a, function(a, b) {
												qq(b).css({
															display : "block"
														})
											})
						});
		n.attach(document, "dragleave", function(b) {
					d.hideDropZonesBeforeEnter
							&& qq.FineUploader.prototype
									._leaving_document_out(b)
							&& qq.each(a, function(a, b) {
										qq(b).hide()
									})
				});
		n.attach(document, "drop", function(b) {
					d.hideDropZonesBeforeEnter && qq.each(a, function(a, b) {
								qq(b).hide()
							});
					b.preventDefault()
				})
	})();
	return {
		setupExtraDropzone : function(a) {
			d.dropZoneElements.push(a);
			f(a)
		},
		removeDropzone : function(a) {
			var b, c = d.dropZoneElements;
			for (b in c)
				if (c[b] === a)
					return c.splice(b, 1)
		},
		dispose : function() {
			n.dispose();
			m.dispose()
		}
	}
};
qq.DragAndDrop.callbacks = function() {
	return {
		processingDroppedFiles : function() {
		},
		processingDroppedFilesComplete : function(a) {
		},
		dropError : function(a, b) {
			qq.log(	"Drag & drop error code '" + a + " with these specifics: '"
							+ b + "'", "error")
		},
		dropLog : function(a, b) {
			qq.log(a, b)
		}
	}
};
qq.UploadDropZone = function(a) {
	function b() {
		return qq.safari() || qq.firefox() && qq.windows()
	}
	function c(a) {
		if (qq.ie() && !qq.ie10())
			return !1;
		var b = a.dataTransfer, d = qq.safari();
		a = qq.ie10() ? !0 : "none" !== b.effectAllowed;
		return b
				&& a
				&& (b.files || !d && b.types.contains
						&& b.types.contains("Files"))
	}
	function f(a) {
		void 0 !== a && (m = a);
		return m
	}
	var e, d, m, k, n = new qq.DisposeSupport;
	e = {
		element : null,
		onEnter : function(a) {
		},
		onLeave : function(a) {
		},
		onLeaveNotDescendants : function(a) {
		},
		onDrop : function(a) {
		}
	};
	qq.extend(e, a);
	d = e.element;
	(function(a) {
		k || (b ? n.attach(document, "dragover", function(a) {
					a.preventDefault()
				}) : n.attach(document, "dragover", function(a) {
					a.dataTransfer
							&& (a.dataTransfer.dropEffect = "none", a
									.preventDefault())
				}), k = !0)
	})();
	(function() {
		n.attach(d, "dragover", function(a) {
					if (c(a)) {
						var b = qq.ie() ? null : a.dataTransfer.effectAllowed;
						a.dataTransfer.dropEffect = "move" === b
								|| "linkMove" === b ? "move" : "copy";
						a.stopPropagation();
						a.preventDefault()
					}
				});
		n.attach(d, "dragenter", function(a) {
					if (!f() && c(a))
						e.onEnter(a)
				});
		n.attach(d, "dragleave", function(a) {
					if (c(a)) {
						e.onLeave(a);
						var b = document.elementFromPoint(a.clientX, a.clientY);
						if (!qq(this).contains(b))
							e.onLeaveNotDescendants(a)
					}
				});
		n.attach(d, "drop", function(a) {
					!f() && c(a) && (a.preventDefault(), e.onDrop(a))
				})
	})();
	return {
		dropDisabled : function(a) {
			return f(a)
		},
		dispose : function() {
			n.dispose()
		}
	}
};
qq.FineUploader = function(a) {
	qq.FineUploaderBasic.apply(this, arguments);
	qq.extend(this._options, {
		element : null,
		listElement : null,
		dragAndDrop : {
			extraDropzones : [],
			hideDropzones : !0,
			disableDefaultDropzone : !1
		},
		text : {
			uploadButton : "Upload a file",
			cancelButton : "Cancel",
			retryButton : "Retry",
			deleteButton : "Delete",
			failUpload : "Upload failed",
			dragZone : "Drop files here to upload",
			dropProcessing : "Processing dropped files...",
			formatProgress : "{percent}% of {total_size}",
			waitingForResponse : "Processing..."
		},
		template : '<div class="qq-uploader">'
				+ (this._options.dragAndDrop
						&& this._options.dragAndDrop.disableDefaultDropzone
						? ""
						: '<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')
				+ (this._options.button
						? ""
						: '<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')
				+ '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'
				+ (this._options.listElement
						? ""
						: '<ul class="qq-upload-list"></ul>') + "</div>",
		fileTemplate : '<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',
		classes : {
			button : "qq-upload-button",
			drop : "qq-upload-drop-area",
			dropActive : "qq-upload-drop-area-active",
			list : "qq-upload-list",
			progressBar : "qq-progress-bar",
			file : "qq-upload-file",
			spinner : "qq-upload-spinner",
			finished : "qq-upload-finished",
			retrying : "qq-upload-retrying",
			retryable : "qq-upload-retryable",
			size : "qq-upload-size",
			cancel : "qq-upload-cancel",
			deleteButton : "qq-upload-delete",
			retry : "qq-upload-retry",
			statusText : "qq-upload-status-text",
			success : "qq-upload-success",
			fail : "qq-upload-fail",
			successIcon : null,
			failIcon : null,
			dropProcessing : "qq-drop-processing",
			dropProcessingSpinner : "qq-drop-processing-spinner"
		},
		failedUploadTextDisplay : {
			mode : "default",
			maxChars : 50,
			responseProperty : "error",
			enableTooltip : !0
		},
		messages : {
			tooManyFilesError : "You may only drop one file",
			unsupportedBrowser : "Unrecoverable error - this browser does not permit file uploading of any kind."
		},
		retry : {
			showAutoRetryNote : !0,
			autoRetryNote : "Retrying {retryNum}/{maxAuto}...",
			showButton : !1
		},
		deleteFile : {
			forceConfirm : !1,
			confirmMessage : "Are you sure you want to delete {filename}?",
			deletingStatusText : "Deleting...",
			deletingFailedText : "Delete failed"
		},
		display : {
			fileSizeOnSubmit : !1,
			prependFiles : !1
		},
		paste : {
			promptForName : !1,
			namePromptMessage : "Please name this image"
		},
		showMessage : function(a) {
			setTimeout(function() {
						window.alert(a)
					}, 0)
		},
		showConfirm : function(a, c, f) {
			setTimeout(function() {
						window.confirm(a) ? c() : f && f()
					}, 0)
		},
		showPrompt : function(a, c) {
			var f = new qq.Promise, e = window.prompt(a, c);
			null != e && 0 < qq.trimStr(e).length ? f.success(e) : f
					.failure("Undefined or invalid user-supplied value.");
			return f
		}
	}, !0);
	qq.extend(this._options, a, !0);
	!qq.supportedFeatures.uploading || this._options.cors.expected
			&& !qq.supportedFeatures.uploadCors
			? this._options.element.innerHTML = "<div>"
					+ this._options.messages.unsupportedBrowser + "</div>"
			: (this._wrapCallbacks(), this._options.template = this._options.template
					.replace(/\{dragZoneText\}/g, this._options.text.dragZone), this._options.template = this._options.template
					.replace(/\{uploadButtonText\}/g,
							this._options.text.uploadButton), this._options.template = this._options.template
					.replace(/\{dropProcessingText\}/g,
							this._options.text.dropProcessing), this._options.fileTemplate = this._options.fileTemplate
					.replace(/\{cancelButtonText\}/g,
							this._options.text.cancelButton), this._options.fileTemplate = this._options.fileTemplate
					.replace(/\{retryButtonText\}/g,
							this._options.text.retryButton), this._options.fileTemplate = this._options.fileTemplate
					.replace(/\{deleteButtonText\}/g,
							this._options.text.deleteButton), this._options.fileTemplate = this._options.fileTemplate
					.replace(/\{statusText\}/g, ""), this._element = this._options.element, this._element.innerHTML = this._options.template, this._listElement = this._options.listElement
					|| this._find(this._element, "list"), this._classes = this._options.classes, this._button
					|| (this._button = this._createUploadButton(this._find(
							this._element, "button"))), this
					._bindCancelAndRetryEvents(), this._dnd = this
					._setupDragAndDrop(), this._options.paste.targetElement
					&& this._options.paste.promptForName
					&& this._setupPastePrompt(), this._filesInBatchAddedToUi = this._totalFilesInBatch = 0)
};
qq.extend(qq.FineUploader.prototype, qq.FineUploaderBasic.prototype);
qq.extend(qq.FineUploader.prototype, {
	clearStoredFiles : function() {
		qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this, arguments);
		this._listElement.innerHTML = ""
	},
	addExtraDropzone : function(a) {
		this._dnd.setupExtraDropzone(a)
	},
	removeExtraDropzone : function(a) {
		return this._dnd.removeDropzone(a)
	},
	getItemByFileId : function(a) {
		for (var b = this._listElement.firstChild; b;) {
			if (b.qqFileId == a)
				return b;
			b = b.nextSibling
		}
	},
	reset : function() {
		qq.FineUploaderBasic.prototype.reset.apply(this, arguments);
		this._element.innerHTML = this._options.template;
		this._listElement = this._options.listElement
				|| this._find(this._element, "list");
		this._options.button
				|| (this._button = this._createUploadButton(this._find(
						this._element, "button")));
		this._bindCancelAndRetryEvents();
		this._dnd.dispose();
		this._dnd = this._setupDragAndDrop();
		this._filesInBatchAddedToUi = this._totalFilesInBatch = 0
	},
	_removeFileItem : function(a) {
		a = this.getItemByFileId(a);
		qq(a).remove()
	},
	_setupDragAndDrop : function() {
		var a = this, b = this._find(this._element, "dropProcessing"), c = this._options.dragAndDrop.extraDropzones, f;
		f = function(a) {
			a.preventDefault()
		};
		this._options.dragAndDrop.disableDefaultDropzone
				|| c.push(this._find(this._options.element, "drop"));
		return new qq.DragAndDrop({
					dropZoneElements : c,
					hideDropZonesBeforeEnter : this._options.dragAndDrop.hideDropzones,
					allowMultipleItems : this._options.multiple,
					classes : {
						dropActive : this._options.classes.dropActive
					},
					callbacks : {
						processingDroppedFiles : function() {
							var c = a._button.getInput();
							qq(b).css({
										display : "block"
									});
							qq(c).attach("click", f)
						},
						processingDroppedFilesComplete : function(c) {
							var d = a._button.getInput();
							qq(b).hide();
							qq(d).detach("click", f);
							c && a.addFiles(c)
						},
						dropError : function(b, d) {
							a._itemError(b, d)
						},
						dropLog : function(b, d) {
							a.log(b, d)
						}
					}
				})
	},
	_leaving_document_out : function(a) {
		return (qq.chrome() || qq.safari() && qq.windows()) && 0 == a.clientX
				&& 0 == a.clientY || qq.firefox() && !a.relatedTarget
	},
	_storeForLater : function(a) {
		qq.FineUploaderBasic.prototype._storeForLater.apply(this, arguments);
		var b = this.getItemByFileId(a);
		qq(this._find(b, "spinner")).hide()
	},
	_find : function(a, b) {
		var c = qq(a).getByClass(this._options.classes[b])[0];
		if (!c)
			throw Error("element not found " + b);
		return c
	},
	_onSubmit : function(a, b) {
		qq.FineUploaderBasic.prototype._onSubmit.apply(this, arguments);
		this._addToList(a, b)
	},
	_onProgress : function(a, b, c, f) {
		qq.FineUploaderBasic.prototype._onProgress.apply(this, arguments);
		var e, d, m, k;
		e = this.getItemByFileId(a);
		d = this._find(e, "progressBar");
		m = Math.round(c / f * 100);
		c === f
				? (k = this._find(e, "cancel"), qq(k).hide(), qq(d).hide(), qq(this
						._find(e, "statusText"))
						.setText(this._options.text.waitingForResponse), this
						._displayFileSize(a))
				: (this._displayFileSize(a, c, f), qq(d).css({
							display : "block"
						}));
		qq(d).css({
					width : m + "%"
				})
	},
	_onComplete : function(a, b, c, f) {
		qq.FineUploaderBasic.prototype._onComplete.apply(this, arguments);
		var e = this.getItemByFileId(a);
		qq(this._find(e, "statusText")).clearText();
		qq(e).removeClass(this._classes.retrying);
		qq(this._find(e, "progressBar")).hide();
		this._options.disableCancelForFormUploads
				&& !qq.supportedFeatures.ajaxUploading
				|| qq(this._find(e, "cancel")).hide();
		qq(this._find(e, "spinner")).hide();
		c.success
				? (this._isDeletePossible() && this._showDeleteLink(a), qq(e)
						.addClass(this._classes.success), this._classes.successIcon
						&& (this._find(e, "finished").style.display = "inline-block", qq(e)
								.addClass(this._classes.successIcon)))
				: (qq(e).addClass(this._classes.fail), this._classes.failIcon
						&& (this._find(e, "finished").style.display = "inline-block", qq(e)
								.addClass(this._classes.failIcon)), this._options.retry.showButton
						&& !this._preventRetries[a]
						&& qq(e).addClass(this._classes.retryable), this
						._controlFailureTextDisplay(e, c))
	},
	_onUpload : function(a, b) {
		qq.FineUploaderBasic.prototype._onUpload.apply(this, arguments);
		this._showSpinner(a)
	},
	_onCancel : function(a, b) {
		qq.FineUploaderBasic.prototype._onCancel.apply(this, arguments);
		this._removeFileItem(a)
	},
	_onBeforeAutoRetry : function(a) {
		var b, c, f, e, d;
		qq.FineUploaderBasic.prototype._onBeforeAutoRetry
				.apply(this, arguments);
		b = this.getItemByFileId(a);
		c = this._find(b, "progressBar");
		this._showCancelLink(b);
		c.style.width = 0;
		qq(c).hide();
		this._options.retry.showAutoRetryNote
				&& (c = this._find(b, "statusText"), f = this._autoRetries[a]
						+ 1, e = this._options.retry.maxAutoAttempts, d = this._options.retry.autoRetryNote
						.replace(/\{retryNum\}/g, f), d = d.replace(
						/\{maxAuto\}/g, e), qq(c).setText(d), 1 === f
						&& qq(b).addClass(this._classes.retrying))
	},
	_onBeforeManualRetry : function(a) {
		var b = this.getItemByFileId(a);
		if (qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,
				arguments))
			return this._find(b, "progressBar").style.width = 0, qq(b)
					.removeClass(this._classes.fail), qq(this._find(b,
					"statusText")).clearText(), this._showSpinner(a), this
					._showCancelLink(b), !0;
		qq(b).addClass(this._classes.retryable);
		return !1
	},
	_onSubmitDelete : function(a) {
		var b = qq.bind(this._onSubmitDeleteSuccess, this, a);
		qq.FineUploaderBasic.prototype._onSubmitDelete.call(this, a, b)
	},
	_onSubmitDeleteSuccess : function(a) {
		this._options.deleteFile.forceConfirm
				? this._showDeleteConfirm(a)
				: this._sendDeleteRequest(a)
	},
	_onDeleteComplete : function(a, b, c) {
		qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this, arguments);
		var f = this.getItemByFileId(a), e = this._find(f, "spinner"), f = this
				._find(f, "statusText");
		qq(e).hide();
		c ? (qq(f).setText(this._options.deleteFile.deletingFailedText), this
				._showDeleteLink(a)) : this._removeFileItem(a)
	},
	_sendDeleteRequest : function(a) {
		var b = this.getItemByFileId(a), c = this._find(b, "deleteButton"), b = this
				._find(b, "statusText");
		qq(c).hide();
		this._showSpinner(a);
		qq(b).setText(this._options.deleteFile.deletingStatusText);
		this._deleteHandler.sendDelete(a, this.getUuid(a))
	},
	_showDeleteConfirm : function(a) {
		var b = this._handler.getName(a), b = this._options.deleteFile.confirmMessage
				.replace(/\{filename\}/g, b);
		this.getUuid(a);
		var c = this;
		this._options.showConfirm(b, function() {
					c._sendDeleteRequest(a)
				})
	},
	_addToList : function(a, b) {
		var c = qq.toElement(this._options.fileTemplate);
		if (this._options.disableCancelForFormUploads
				&& !qq.supportedFeatures.ajaxUploading) {
			var f = this._find(c, "cancel");
			qq(f).remove()
		}
		c.qqFileId = a;
		f = this._find(c, "file");
		qq(f).setText(this._options.formatFileName(b));
		qq(this._find(c, "size")).hide();
		this._options.multiple
				|| (this._handler.cancelAll(), this._clearList());
		this._options.display.prependFiles
				? this._prependItem(c)
				: this._listElement.appendChild(c);
		this._filesInBatchAddedToUi += 1;
		this._options.display.fileSizeOnSubmit
				&& qq.supportedFeatures.ajaxUploading
				&& this._displayFileSize(a)
	},
	_prependItem : function(a) {
		var b = this._listElement, c = b.firstChild;
		1 < this._totalFilesInBatch
				&& 0 < this._filesInBatchAddedToUi
				&& (c = qq(b).children()[this._filesInBatchAddedToUi - 1].nextSibling);
		b.insertBefore(a, c)
	},
	_clearList : function() {
		this._listElement.innerHTML = "";
		this.clearStoredFiles()
	},
	_displayFileSize : function(a, b, c) {
		var f = this.getItemByFileId(a);
		a = this.getSize(a);
		a = this._formatSize(a);
		f = this._find(f, "size");
		void 0 !== b && void 0 !== c && (a = this._formatProgress(b, c));
		qq(f).css({
					display : "inline"
				});
		qq(f).setText(a)
	},
	_bindCancelAndRetryEvents : function() {
		var a = this;
		this._disposeSupport.attach(this._listElement, "click", function(b) {
					b = b || window.event;
					var c = b.target || b.srcElement;
					if (qq(c).hasClass(a._classes.cancel)
							|| qq(c).hasClass(a._classes.retry)
							|| qq(c).hasClass(a._classes.deleteButton)) {
						qq.preventDefault(b);
						for (b = c.parentNode; void 0 === b.qqFileId;)
							b = b.parentNode;
						qq(c).hasClass(a._classes.deleteButton) ? a
								.deleteFile(b.qqFileId) : qq(c)
								.hasClass(a._classes.cancel) ? a
								.cancel(b.qqFileId) : (qq(b)
								.removeClass(a._classes.retryable), a
								.retry(b.qqFileId))
					}
				})
	},
	_formatProgress : function(a, b) {
		var c = this._options.text.formatProgress, f = Math.round(a / b * 100), c = c
				.replace("{percent}", f), f = this._formatSize(b);
		return c = c.replace("{total_size}", f)
	},
	_controlFailureTextDisplay : function(a, b) {
		var c, f, e, d;
		c = this._options.failedUploadTextDisplay.mode;
		f = this._options.failedUploadTextDisplay.maxChars;
		e = this._options.failedUploadTextDisplay.responseProperty;
		"custom" === c
				? ((c = b[e])
						? c.length > f && (d = c.substring(0, f) + "...")
						: (c = this._options.text.failUpload, this
								.log(
										"'"
												+ e
												+ "' is not a valid property on the server response.",
										"warn")), qq(this
						._find(a, "statusText")).setText(d || c), this._options.failedUploadTextDisplay.enableTooltip
						&& this._showTooltip(a, c))
				: "default" === c ? qq(this._find(a, "statusText"))
						.setText(this._options.text.failUpload) : "none" !== c
						&& this.log("failedUploadTextDisplay.mode value of '"
										+ c + "' is not valid", "warn")
	},
	_showTooltip : function(a, b) {
		a.title = b
	},
	_showSpinner : function(a) {
		a = this.getItemByFileId(a);
		this._find(a, "spinner").style.display = "inline-block"
	},
	_showCancelLink : function(a) {
		if (!this._options.disableCancelForFormUploads
				|| qq.supportedFeatures.ajaxUploading)
			a = this._find(a, "cancel"), qq(a).css({
						display : "inline"
					})
	},
	_showDeleteLink : function(a) {
		a = this.getItemByFileId(a);
		a = this._find(a, "deleteButton");
		qq(a).css({
					display : "inline"
				})
	},
	_itemError : function(a, b) {
		var c = qq.FineUploaderBasic.prototype._itemError
				.apply(this, arguments);
		this._options.showMessage(c)
	},
	_batchError : function(a) {
		qq.FineUploaderBasic.prototype._batchError.apply(this, arguments);
		this._options.showMessage(a)
	},
	_setupPastePrompt : function() {
		var a = this;
		this._options.callbacks.onPasteReceived = function() {
			return a._options.showPrompt(a._options.paste.namePromptMessage,
					a._options.paste.defaultName)
		}
	},
	_fileOrBlobRejected : function(a, b) {
		this._totalFilesInBatch -= 1;
		qq.FineUploaderBasic.prototype._fileOrBlobRejected.apply(this,
				arguments)
	},
	_prepareItemsForUpload : function(a, b, c) {
		this._totalFilesInBatch = a.length;
		this._filesInBatchAddedToUi = 0;
		qq.FineUploaderBasic.prototype._prepareItemsForUpload.apply(this,
				arguments)
	}
});
(function(a) {
	var b, c, f, e, d, m, k, n, r, h;
	m = ["uploaderType"];
	f = function(a) {
		a
				&& (a = n(a), k(a), "basic" === d("uploaderType")
						? b(new qq.FineUploaderBasic(a))
						: b(new qq.FineUploader(a)));
		return c
	};
	e = function(a, b) {
		var d = c.data("fineuploader");
		if (b)
			void 0 === d && (d = {}), d[a] = b, c.data("fineuploader", d);
		else
			return void 0 === d ? null : d[a]
	};
	b = function(a) {
		return e("uploader", a)
	};
	d = function(a, b) {
		return e(a, b)
	};
	k = function(b) {
		var d = b.callbacks = {};
		b = new qq.FineUploaderBasic;
		a.each(b._options.callbacks, function(a, b) {
					var e, h;
					e = /^on(\w+)/.exec(a)[1];
					e = e.substring(0, 1).toLowerCase() + e.substring(1);
					h = c;
					d[a] = function() {
						var a = Array.prototype.slice.call(arguments);
						return h.triggerHandler(e, a)
					}
				})
	};
	n = function(b, e) {
		var h, f;
		h = void 0 === e ? "basic" !== b.uploaderType ? {
			element : c[0]
		} : {} : e;
		a.each(b, function(b, c) {
					0 <= a.inArray(b, m) ? d(b, c) : c instanceof a
							? h[b] = c[0]
							: a.isPlainObject(c) ? (h[b] = {}, n(c, h[b])) : a
									.isArray(c) ? (f = [], a.each(c, function(
											b, d) {
										d instanceof a ? a.merge(f, d) : f
												.push(d)
									}), h[b] = f) : h[b] = c
				});
		if (void 0 === e)
			return h
	};
	r = function(d) {
		return "string" === a.type(d) && !d.match(/^_/) && void 0 !== b()[d]
	};
	h = function(a) {
		var d = [], c = Array.prototype.slice.call(arguments, 1);
		n(c, d);
		return b()[a].apply(b(), d)
	};
	a.fn.fineUploader = function(d) {
		var e = this, l = arguments, m = [];
		this.each(function(k, n) {
					c = a(n);
					if (b() && r(d)) {
						if (m.push(h.apply(e, l)), 1 === e.length)
							return !1
					} else
						"object" !== typeof d && d ? a.error("Method " + d
								+ " does not exist on jQuery.fineUploader") : f
								.apply(e, l)
				});
		return 1 === m.length ? m[0] : 1 < m.length ? m : this
	}
})(jQuery);
(function(a) {
	function b(a) {
		a || (a = {});
		a.dropZoneElements = [k];
		a = e(a);
		f(a);
		c(new qq.DragAndDrop(a));
		return k
	}
	function c(a) {
		var b = k.data(m);
		a
				? (void 0 === b && (b = {}), b.dndInstance = a, k.data(m, b), a = void 0)
				: a = void 0 === b ? null : b.dndInstance;
		return a
	}
	function f(b) {
		var d = b.callbacks = {};
		new qq.FineUploaderBasic;
		a.each(new qq.DragAndDrop.callbacks, function(a, b) {
					var c;
					c = k;
					d[a] = function() {
						var b = Array.prototype.slice.call(arguments);
						return c.triggerHandler(a, b)
					}
				})
	}
	function e(b, d) {
		var c, p;
		c = void 0 === d ? {} : d;
		a.each(b, function(b, d) {
					d instanceof a ? c[b] = d[0] : a.isPlainObject(d)
							? (c[b] = {}, e(d, c[b]))
							: a.isArray(d) ? (p = [], a.each(d, function(b, d) {
										d instanceof a ? a.merge(p, d) : p
												.push(d)
									}), c[b] = p) : c[b] = d
				});
		if (void 0 === d)
			return c
	}
	function d(a) {
		var b = [], d = Array.prototype.slice.call(arguments, 1);
		e(d, b);
		return c()[a].apply(c(), b)
	}
	var m = "fineUploaderDnd", k;
	a.fn.fineUploaderDnd = function(e) {
		var f = this, h = arguments, p = [];
		this.each(function(g, l) {
					k = a(l);
					if (c() && "string" === a.type(e) && "dispose" === e
							&& void 0 !== c()[e]) {
						if (p.push(d.apply(f, h)), 1 === f.length)
							return !1
					} else
						"object" !== typeof e && e
								? a
										.error("Method "
												+ e
												+ " does not exist in Fine Uploader's DnD module.")
								: b.apply(f, h)
				});
		return 1 === p.length ? p[0] : 1 < p.length ? p : this
	}
})(jQuery);
(function(a) {
	a.Jcrop = function(b, c) {
		function f(a) {
			return Math.round(a) + "px"
		}
		function e(b) {
			b = a(b).offset();
			return [b.left, b.top]
		}
		function d(a) {
			return [a.pageX - N[0], a.pageY - N[1]]
		}
		function m(b) {
			"object" !== typeof b && (b = {});
			q = a.extend(q, b);
			a.each(["onChange", "onSelect", "onRelease", "onDblClick"],
					function(a, b) {
						"function" !== typeof q[b] && (q[b] = function() {
						})
					})
		}
		function k(a, b, d) {
			N = e(C);
			S.setCursor("move" === a ? a : a + "-resize");
			if ("move" === a)
				return S.activateHandlers(r(b), t, d);
			b = I.getFixed();
			var c = h(a), g = I.getCorner(h(c));
			I.setPressed(I.getCorner(c));
			I.setCurrent(g);
			S.activateHandlers(n(a, b), t, d)
		}
		function n(a, b) {
			return function(d) {
				if (q.aspectRatio)
					switch (a) {
						case "e" :
							d[1] = b.y + 1;
							break;
						case "w" :
							d[1] = b.y + 1;
							break;
						case "n" :
							d[0] = b.x + 1;
							break;
						case "s" :
							d[0] = b.x + 1
					}
				else
					switch (a) {
						case "e" :
							d[1] = b.y2;
							break;
						case "w" :
							d[1] = b.y2;
							break;
						case "n" :
							d[0] = b.x2;
							break;
						case "s" :
							d[0] = b.x2
					}
				I.setCurrent(d);
				B.update()
			}
		}
		function r(a) {
			var b = a;
			ha.watchKeys();
			return function(a) {
				I.moveOffset([a[0] - b[0], a[1] - b[1]]);
				b = a;
				B.update()
			}
		}
		function h(a) {
			switch (a) {
				case "n" :
					return "sw";
				case "s" :
					return "nw";
				case "e" :
					return "nw";
				case "w" :
					return "ne";
				case "ne" :
					return "sw";
				case "nw" :
					return "se";
				case "se" :
					return "nw";
				case "sw" :
					return "ne"
			}
		}
		function p(a) {
			return function(b) {
				if (q.disabled || "move" === a && !q.allowMove)
					return !1;
				N = e(C);
				aa = !0;
				k(a, d(b));
				b.stopPropagation();
				b.preventDefault();
				return !1
			}
		}
		function g(a, b, d) {
			var c = a.width(), e = a.height();
			c > b && 0 < b && (c = b, e = b / a.width() * a.height());
			e > d && 0 < d && (e = d, c = d / a.height() * a.width());
			K = a.width() / c;
			L = a.height() / e;
			a.width(c).height(e)
		}
		function l(a) {
			return {
				x : a.x * K,
				y : a.y * L,
				x2 : a.x2 * K,
				y2 : a.y2 * L,
				w : a.w * K,
				h : a.h * L
			}
		}
		function t(a) {
			a = I.getFixed();
			a.w > q.minSelect[0] && a.h > q.minSelect[1]
					? (B.enableHandles(), B.done())
					: B.release();
			S.setCursor(q.allowSelect ? "crosshair" : "default")
		}
		function s(a) {
			if (q.disabled || !q.allowSelect)
				return !1;
			aa = !0;
			N = e(C);
			B.disableHandles();
			S.setCursor("crosshair");
			var b = d(a);
			I.setPressed(b);
			B.update();
			S.activateHandlers(v, t, "touch" === a.type.substring(0, 5));
			ha.watchKeys();
			a.stopPropagation();
			a.preventDefault();
			return !1
		}
		function v(a) {
			I.setCurrent(a);
			B.update()
		}
		function A() {
			var b = a("<div></div>").addClass(q.baseClass + "-tracker");
			u && b.css({
						opacity : 0,
						backgroundColor : "white"
					});
			return b
		}
		function w(a) {
			x([a[0] / K, a[1] / L, a[2] / K, a[3] / L]);
			q.onSelect.call(P, l(I.getFixed()));
			B.enableHandles()
		}
		function x(a) {
			I.setPressed([a[0], a[1]]);
			I.setCurrent([a[2], a[3]]);
			B.update()
		}
		function z() {
			q.disabled = !0;
			B.disableHandles();
			B.setCursor("default");
			S.setCursor("default")
		}
		function D() {
			q.disabled = !1;
			J()
		}
		function M(b, d, c) {
			d = d || q.bgColor;
			q.bgFade && a.fx.step.hasOwnProperty("backgroundColor")
					&& q.fadeTime && !c ? b.animate({
						backgroundColor : d
					}, {
						queue : !1,
						duration : q.fadeTime
					}) : b.css("backgroundColor", d)
		}
		function J(a) {
			q.allowResize ? a ? B.enableOnly() : B.enableHandles() : B
					.disableHandles();
			S.setCursor(q.allowSelect ? "crosshair" : "default");
			B.setCursor(q.allowMove ? "move" : "default");
			q.hasOwnProperty("trueSize")
					&& (K = q.trueSize[0] / y, L = q.trueSize[1] / F);
			q.hasOwnProperty("setSelect")
					&& (w(q.setSelect), B.done(), delete q.setSelect);
			W.refresh();
			q.bgColor != ja
					&& (M(q.shade ? W.getShades() : T, q.shade ? q.shadeColor
									|| q.bgColor : q.bgColor), ja = q.bgColor);
			ba != q.bgOpacity
					&& (ba = q.bgOpacity, q.shade ? W.refresh() : B
							.setBgOpacity(ba));
			ca = q.maxSize[0] || 0;
			da = q.maxSize[1] || 0;
			ea = q.minSize[0] || 0;
			fa = q.minSize[1] || 0;
			q.hasOwnProperty("outerImage")
					&& (C.attr("src", q.outerImage), delete q.outerImage);
			B.refresh()
		}
		var q = a.extend({}, a.Jcrop.defaults), N, G = navigator.userAgent
				.toLowerCase(), u = /msie/.test(G), H = /msie [1-6]\./.test(G);
		"object" !== typeof b && (b = a(b)[0]);
		"object" !== typeof c && (c = {});
		m(c);
		var G = {
			border : "none",
			visibility : "visible",
			margin : 0,
			padding : 0,
			position : "absolute",
			top : 0,
			left : 0
		}, E = a(b), O = !0;
		if ("IMG" == b.tagName) {
			if (0 != E[0].width && 0 != E[0].height)
				E.width(E[0].width), E.height(E[0].height);
			else {
				var R = new Image;
				R.src = E[0].src;
				E.width(R.width);
				E.height(R.height)
			}
			var C = E.clone().removeAttr("id").css(G).show();
			C.width(E.width());
			C.height(E.height());
			E.after(C).hide()
		} else
			C = E.css(G).show(), O = !1, null === q.shade && (q.shade = !0);
		g(C, q.boxWidth, q.boxHeight);
		var y = C.width(), F = C.height(), T = a("<div />").width(y).height(F)
				.addClass(q.baseClass + "-holder").css({
							position : "relative",
							backgroundColor : q.bgColor
						}).insertAfter(E).append(C);
		q.addClass && T.addClass(q.addClass);
		var U = a("<div />"), ga = a("<div />").width("100%").height("100%")
				.css({
							zIndex : 310,
							position : "absolute",
							overflow : "hidden"
						}), X = a("<div />").width("100%").height("100%").css(
				"zIndex", 320), Y = a("<div />").css({
					position : "absolute",
					zIndex : 600
				}).dblclick(function() {
					var a = I.getFixed();
					q.onDblClick.call(P, a)
				}).insertBefore(C).append(ga, X);
		O
				&& (U = a("<img />").attr("src", C.attr("src")).css(G).width(y)
						.height(F), ga.append(U));
		H && Y.css({
					overflowY : "hidden"
				});
		var Z = q.boundary, V = A().width(y + 2 * Z).height(F + 2 * Z).css({
					position : "absolute",
					top : f(-Z),
					left : f(-Z),
					zIndex : 290
				}).mousedown(s), ja = q.bgColor, ba = q.bgOpacity, ca, da, ea, fa, K, L, aa, ia, ka;
		N = e(C);
		var Q = function() {
			function a() {
				var b = {}, d = ["touchstart", "touchmove", "touchend"], c = document
						.createElement("div"), e;
				try {
					for (e = 0; e < d.length; e++) {
						var h = d[e], h = "on" + h, g = h in c;
						g
								|| (c.setAttribute(h, "return;"), g = "function" == typeof c[h]);
						b[d[e]] = g
					}
					return b.touchstart && b.touchend && b.touchmove
				} catch (p) {
					return !1
				}
			}
			var b;
			b = !0 === q.touchSupport || !1 === q.touchSupport
					? q.touchSupport
					: a();
			return {
				createDragger : function(a) {
					return function(b) {
						if (q.disabled || "move" === a && !q.allowMove)
							return !1;
						N = e(C);
						aa = !0;
						k(a, d(Q.cfilter(b)), !0);
						b.stopPropagation();
						b.preventDefault();
						return !1
					}
				},
				newSelection : function(a) {
					return s(Q.cfilter(a))
				},
				cfilter : function(a) {
					a.pageX = a.originalEvent.changedTouches[0].pageX;
					a.pageY = a.originalEvent.changedTouches[0].pageY;
					return a
				},
				isSupported : a,
				support : b
			}
		}(), I = function() {
			function a() {
				if (!q.aspectRatio) {
					var b = g - e, l = p - h;
					ca && Math.abs(b) > ca && (g = 0 < b ? e + ca : e - ca);
					da && Math.abs(l) > da && (p = 0 < l ? h + da : h - da);
					fa / L && Math.abs(l) < fa / L
							&& (p = 0 < l ? h + fa / L : h - fa / L);
					ea / K && Math.abs(b) < ea / K
							&& (g = 0 < b ? e + ea / K : e - ea / K);
					0 > e && (g -= e, e -= e);
					0 > h && (p -= h, h -= h);
					0 > g && (e -= g, g -= g);
					0 > p && (h -= p, p -= p);
					g > y && (b = g - y, e -= b, g -= b);
					p > F && (b = p - F, h -= b, p -= b);
					e > y && (b = e - F, p -= b, h -= b);
					h > F && (b = h - F, p -= b, h -= b);
					return c(d(e, h, g, p))
				}
				var b = q.aspectRatio, l = q.minSize[0] / K, f = q.maxSize[0]
						/ K, m = g - e, k = p - h, t = Math.abs(m), s = Math
						.abs(k);
				0 === f && (f = 10 * y);
				t / s < b ? (t = p, s *= b, s = 0 > m ? e - s : s + e, 0 > s
						? (s = 0, t = Math.abs((s - e) / b), t = 0 > k
								? h - t
								: t + h)
						: s > y
								&& (s = y, t = Math.abs((s - e) / b), t = 0 > k
										? h - t
										: t + h)) : (s = g, t /= b, t = 0 > k
						? h - t
						: h + t, 0 > t
						? (t = 0, s = Math.abs((t - h) * b), s = 0 > m
								? e - s
								: s + e)
						: t > F
								&& (t = F, s = Math.abs(t - h) * b, s = 0 > m
										? e - s
										: s + e));
				s > e
						? (s - e < l ? s = e + l : s - e > f && (s = e + f), t = t > h
								? h + (s - e) / b
								: h - (s - e) / b)
						: s < e
								&& (e - s < l ? s = e - l : e - s > f
										&& (s = e - f), t = t > h ? h + (e - s)
										/ b : h - (e - s) / b);
				0 > s ? (e -= s, s = 0) : s > y && (e -= s - y, s = y);
				0 > t ? (h -= t, t = 0) : t > F && (h -= t - F, t = F);
				return c(d(e, h, s, t))
			}
			function b(a) {
				0 > a[0] && (a[0] = 0);
				0 > a[1] && (a[1] = 0);
				a[0] > y && (a[0] = y);
				a[1] > F && (a[1] = F);
				return [Math.round(a[0]), Math.round(a[1])]
			}
			function d(a, b, c, e) {
				var h = a, g = c, p = b, l = e;
				c < a && (h = c, g = a);
				e < b && (p = e, l = b);
				return [h, p, g, l]
			}
			function c(a) {
				return {
					x : a[0],
					y : a[1],
					x2 : a[2],
					y2 : a[3],
					w : a[2] - a[0],
					h : a[3] - a[1]
				}
			}
			var e = 0, h = 0, g = 0, p = 0, l, f;
			return {
				flipCoords : d,
				setPressed : function(a) {
					a = b(a);
					g = e = a[0];
					p = h = a[1]
				},
				setCurrent : function(a) {
					a = b(a);
					l = a[0] - g;
					f = a[1] - p;
					g = a[0];
					p = a[1]
				},
				getOffset : function() {
					return [l, f]
				},
				moveOffset : function(a) {
					var b = a[0];
					a = a[1];
					0 > e + b && (b -= b + e);
					0 > h + a && (a -= a + h);
					F < p + a && (a += F - (p + a));
					y < g + b && (b += y - (g + b));
					e += b;
					g += b;
					h += a;
					p += a
				},
				getCorner : function(b) {
					var d = a();
					switch (b) {
						case "ne" :
							return [d.x2, d.y];
						case "nw" :
							return [d.x, d.y];
						case "se" :
							return [d.x2, d.y2];
						case "sw" :
							return [d.x, d.y2]
					}
				},
				getFixed : a
			}
		}(), W = function() {
			function b() {
				return d(I.getFixed())
			}
			function d(a) {
				t.top.css({
							left : f(a.x),
							width : f(a.w),
							height : f(a.y)
						});
				t.bottom.css({
							top : f(a.y2),
							left : f(a.x),
							width : f(a.w),
							height : f(F - a.y2)
						});
				t.right.css({
							left : f(a.x2),
							width : f(y - a.x2)
						});
				t.left.css({
							width : f(a.x)
						})
			}
			function c() {
				return a("<div />").css({
							position : "absolute",
							backgroundColor : q.shadeColor || q.bgColor
						}).appendTo(k)
			}
			function e() {
				m
						|| (m = !0, k.insertBefore(C), b(), B.setBgOpacity(1,
								0, 1), U.hide(), h(q.shadeColor || q.bgColor, 1), B
								.isAwake() ? p(q.bgOpacity, 1) : p(1, 1))
			}
			function h(a, b) {
				M(l(), a, b)
			}
			function g() {
				m
						&& (k.remove(), U.show(), m = !1, B.isAwake() ? B
								.setBgOpacity(q.bgOpacity, 1, 1) : (B
								.setBgOpacity(1, 1, 1), B.disableHandles()), M(
								T, 0, 1))
			}
			function p(a, b) {
				m && (q.bgFade && !b ? k.animate({
							opacity : 1 - a
						}, {
							queue : !1,
							duration : q.fadeTime
						}) : k.css({
							opacity : 1 - a
						}))
			}
			function l() {
				return k.children()
			}
			var m = !1, k = a("<div />").css({
						position : "absolute",
						zIndex : 240,
						opacity : 0
					}), t = {
				top : c(),
				left : c().height(F),
				right : c().height(F),
				bottom : c()
			};
			return {
				update : b,
				updateRaw : d,
				getShades : l,
				setBgColor : h,
				enable : e,
				disable : g,
				resize : function(a, b) {
					t.left.css({
								height : f(b)
							});
					t.right.css({
								height : f(b)
							})
				},
				refresh : function() {
					q.shade ? e() : g();
					B.isAwake() && p(q.bgOpacity)
				},
				opacity : p
			}
		}(), B = function() {
			function b(d, c) {
				var e = a("<div />").mousedown(p(d)).css({
							cursor : d + "-resize",
							position : "absolute",
							zIndex : c
						}).addClass("ord-" + d);
				Q.support && e.bind("touchstart.jcrop", Q.createDragger(d));
				X.append(e);
				return e
			}
			function d(a) {
				var c;
				for (c = 0; c < a.length; c++)
					b(a[c], v++).addClass("jcrop-dragbar")
			}
			function c(b) {
				var d, e;
				for (e = 0; e < b.length; e++) {
					switch (b[e]) {
						case "n" :
							d = "hline";
							break;
						case "s" :
							d = "hline bottom";
							break;
						case "e" :
							d = "vline right";
							break;
						case "w" :
							d = "vline"
					}
					var h = w, g = b[e], p = d, p = a("<div />").css({
								position : "absolute",
								opacity : q.borderOpacity
							}).addClass(q.baseClass + "-" + p);
					ga.append(p);
					h[g] = p
				}
			}
			function e(a) {
				var d;
				for (d = 0; d < a.length; d++) {
					var c = O, h = a[d], g = q.handleSize, p = b(a[d], v++)
							.css({
										opacity : q.handleOpacity
									}).addClass(q.baseClass + "-handle");
					g && p.width(g).height(g);
					c[h] = p
				}
			}
			function h() {
				var a = I.getFixed();
				I.setPressed([a.x, a.y]);
				I.setCurrent([a.x2, a.y2]);
				g()
			}
			function g(a) {
				if (r)
					return m(a)
			}
			function m(a) {
				var b = I.getFixed(), d = b.h;
				Y.width(Math.round(b.w)).height(Math.round(d));
				var d = b.x, c = b.y;
				q.shade || U.css({
							top : f(-c),
							left : f(-d)
						});
				Y.css({
							top : f(c),
							left : f(d)
						});
				q.shade && W.updateRaw(b);
				r || (Y.show(), q.shade ? W.opacity(ba) : k(ba, !0), r = !0);
				a ? q.onSelect.call(P, l(b)) : q.onChange.call(P, l(b))
			}
			function k(a, b, d) {
				if (r || b)
					q.bgFade && !d ? C.animate({
								opacity : a
							}, {
								queue : !1,
								duration : q.fadeTime
							}) : C.css("opacity", a)
			}
			function t() {
				x = !0;
				if (q.allowResize)
					return X.show(), !0
			}
			function s() {
				x = !1;
				X.hide()
			}
			function n(a) {
				a ? (ia = !0, s()) : (ia = !1, t())
			}
			var r, v = 370, w = {}, O = {}, x = !1;
			q.dragEdges && a.isArray(q.createDragbars) && d(q.createDragbars);
			a.isArray(q.createHandles) && e(q.createHandles);
			q.drawBorders && a.isArray(q.createBorders) && c(q.createBorders);
			a(document).bind("touchstart.jcrop-ios", function(b) {
				a(b.currentTarget).hasClass("jcrop-tracker")
						&& b.stopPropagation()
			});
			var J = A().mousedown(p("move")).css({
						cursor : "move",
						position : "absolute",
						zIndex : 360
					});
			Q.support && J.bind("touchstart.jcrop", Q.createDragger("move"));
			ga.append(J);
			s();
			return {
				updateVisible : g,
				update : m,
				release : function() {
					s();
					Y.hide();
					q.shade ? W.opacity(1) : k(1);
					r = !1;
					q.onRelease.call(P)
				},
				refresh : h,
				isAwake : function() {
					return r
				},
				setCursor : function(a) {
					J.css("cursor", a)
				},
				enableHandles : t,
				enableOnly : function() {
					x = !0
				},
				showHandles : function() {
					x && X.show()
				},
				disableHandles : s,
				animMode : n,
				setBgOpacity : k,
				done : function() {
					n(!1);
					h()
				}
			}
		}(), S = function() {
			function b(a) {
				g(d(a));
				return !1
			}
			function c(b) {
				b.preventDefault();
				b.stopPropagation();
				aa
						&& (aa = !1, p(d(b)), B.isAwake()
								&& q.onSelect.call(P, l(I.getFixed())), V.css({
									zIndex : 290
								}), a(document).unbind(".jcrop"), g = function() {
						}, p = function() {
						});
				return !1
			}
			function e(a) {
				g(d(Q.cfilter(a)));
				return !1
			}
			function h(a) {
				return c(Q.cfilter(a))
			}
			var g = function() {
			}, p = function() {
			}, f = q.trackDocument;
			f || V.mousemove(b).mouseup(c).mouseout(c);
			C.before(V);
			return {
				activateHandlers : function(d, l, m) {
					aa = !0;
					g = d;
					p = l;
					V.css({
								zIndex : 450
							});
					m ? a(document).bind("touchmove.jcrop", e).bind(
							"touchend.jcrop", h) : f
							&& a(document).bind("mousemove.jcrop", b).bind(
									"mouseup.jcrop", c);
					return !1
				},
				setCursor : function(a) {
					V.css("cursor", a)
				}
			}
		}(), ha = function() {
			function b(a) {
				e.hide()
			}
			function d(a, b, c) {
				q.allowMove && (I.moveOffset([b, c]), B.updateVisible(!0));
				a.preventDefault();
				a.stopPropagation()
			}
			function c(a) {
				if (a.ctrlKey || a.metaKey)
					return !0;
				var b = (ka = a.shiftKey ? !0 : !1) ? 10 : 1;
				switch (a.keyCode) {
					case 37 :
						d(a, -b, 0);
						break;
					case 39 :
						d(a, b, 0);
						break;
					case 38 :
						d(a, 0, -b);
						break;
					case 40 :
						d(a, 0, b);
						break;
					case 27 :
						q.allowSelect && B.release();
						break;
					case 9 :
						return !0
				}
				return !1
			}
			var e = a('<input type="radio" />').css({
						position : "fixed",
						left : "-120px",
						width : "12px"
					}).addClass("jcrop-keymgr"), h = a("<div />").css({
						position : "absolute",
						overflow : "hidden"
					}).append(e);
			q.keySupport
					&& (e.keydown(c).blur(b), H || !q.fixedSupport ? (e.css({
								position : "absolute",
								left : "-20px"
							}), h.append(e).insertBefore(C)) : e
							.insertBefore(C));
			return {
				watchKeys : function() {
					q.keySupport && (e.show(), e.focus())
				}
			}
		}();
		Q.support && V.bind("touchstart.jcrop", Q.newSelection);
		X.hide();
		J(!0);
		var P = {
			setImage : function(a, b) {
				B.release();
				z();
				var d = new Image;
				d.onload = function() {
					var c = d.height, e = q.boxWidth, h = q.boxHeight;
					C.width(d.width).height(c);
					C.attr("src", a);
					U.attr("src", a);
					g(C, e, h);
					y = C.width();
					F = C.height();
					U.width(y).height(F);
					V.width(y + 2 * Z).height(F + 2 * Z);
					T.width(y).height(F);
					W.resize(y, F);
					D();
					"function" === typeof b && b.call(P)
				};
				d.src = a
			},
			animateTo : function(a, b) {
				var d = a[0] / K, c = a[1] / L, e = a[2] / K, h = a[3] / L;
				if (!ia) {
					var g = I.flipCoords(d, c, e, h), p = I.getFixed(), l = [
							p.x, p.y, p.x2, p.y2], f = q.animationDelay, m = g[0]
							- l[0], k = g[1] - l[1], t = g[2] - l[2], s = g[3]
							- l[3], n = 0, r = q.swingSpeed, d = l[0], c = l[1], e = l[2], h = l[3];
					B.animMode(!0);
					var v = function() {
						return function() {
							n += (100 - n) / r;
							l[0] = Math.round(d + n / 100 * m);
							l[1] = Math.round(c + n / 100 * k);
							l[2] = Math.round(e + n / 100 * t);
							l[3] = Math.round(h + n / 100 * s);
							99.8 <= n && (n = 100);
							100 > n
									? (x(l), window.setTimeout(v, f))
									: (B.done(), B.animMode(!1), "function" === typeof b
											&& b.call(P))
						}
					}();
					window.setTimeout(v, f)
				}
			},
			setSelect : w,
			setOptions : function(a) {
				m(a);
				J()
			},
			tellSelect : function() {
				return l(I.getFixed())
			},
			tellScaled : function() {
				return I.getFixed()
			},
			setClass : function(a) {
				T.removeClass().addClass(q.baseClass + "-holder").addClass(a)
			},
			disable : z,
			enable : D,
			cancel : function() {
				B.done();
				S.activateHandlers(null, null)
			},
			release : B.release,
			destroy : function() {
				T.remove();
				E.show();
				E.css("visibility", "visible");
				a(b).removeData("Jcrop")
			},
			focus : ha.watchKeys,
			getBounds : function() {
				return [y * K, F * L]
			},
			getWidgetSize : function() {
				return [y, F]
			},
			getScaleFactor : function() {
				return [K, L]
			},
			getOptions : function() {
				return q
			},
			ui : {
				holder : T,
				selection : Y
			}
		};
		u && T.bind("selectstart", function() {
					return !1
				});
		E.data("Jcrop", P);
		return P
	};
	a.fn.Jcrop = function(b, c) {
		var f;
		this.each(function() {
					if (a(this).data("Jcrop")) {
						if ("api" === b)
							return a(this).data("Jcrop");
						a(this).data("Jcrop").setOptions(b)
					} else
						"IMG" == this.tagName ? a.Jcrop.Loader(this,
								function() {
									a(this).css({
												display : "block",
												visibility : "hidden"
											});
									f = a.Jcrop(this, b);
									a.isFunction(c) && c.call(f)
								}) : (a(this).css({
									display : "block",
									visibility : "hidden"
								}), f = a.Jcrop(this, b), a.isFunction(c)
								&& c.call(f))
				});
		return this
	};
	a.Jcrop.Loader = function(b, c, f) {
		function e() {
			m.complete
					? (d.unbind(".jcloader"), a.isFunction(c) && c.call(m))
					: window.setTimeout(e, 50)
		}
		var d = a(b), m = d[0];
		d.bind("load.jcloader", e).bind("error.jcloader", function(b) {
					d.unbind(".jcloader");
					a.isFunction(f) && f.call(m)
				});
		m.complete && a.isFunction(c) && (d.unbind(".jcloader"), c.call(m))
	};
	a.Jcrop.defaults = {
		allowSelect : !0,
		allowMove : !0,
		allowResize : !0,
		trackDocument : !0,
		baseClass : "jcrop",
		addClass : null,
		bgColor : "black",
		bgOpacity : 0.6,
		bgFade : !1,
		borderOpacity : 0.4,
		handleOpacity : 0.5,
		handleSize : null,
		aspectRatio : 0,
		keySupport : !0,
		createHandles : "n s e w nw ne se sw".split(" "),
		createDragbars : ["n", "s", "e", "w"],
		createBorders : ["n", "s", "e", "w"],
		drawBorders : !0,
		dragEdges : !0,
		fixedSupport : !0,
		touchSupport : null,
		shade : null,
		boxWidth : 0,
		boxHeight : 0,
		boundary : 2,
		fadeTime : 400,
		animationDelay : 20,
		swingSpeed : 3,
		minSelect : [0, 0],
		maxSize : [0, 0],
		minSize : [0, 0],
		onChange : function() {
		},
		onSelect : function() {
		},
		onDblClick : function() {
		},
		onRelease : function() {
		}
	}
})(jQuery);
(function(a) {
	a.ui.timepicker = a.ui.timepicker || {};
	if (!a.ui.timepicker.version) {
		a.extend(a.ui, {
					timepicker : {
						version : "@@version"
					}
				});
		var b = function() {
			this.regional = [];
			this.regional[""] = {
				currentText : "Now",
				closeText : "Done",
				amNames : ["AM", "A"],
				pmNames : ["PM", "P"],
				timeFormat : "HH:mm",
				timeSuffix : "",
				timeOnlyTitle : "Choose Time",
				timeText : "Time",
				hourText : "Hour",
				minuteText : "Minute",
				secondText : "Second",
				millisecText : "Millisecond",
				microsecText : "Microsecond",
				timezoneText : "Time Zone",
				isRTL : !1
			};
			this._defaults = {
				showButtonPanel : !0,
				timeOnly : !1,
				showHour : null,
				showMinute : null,
				showSecond : null,
				showMillisec : null,
				showMicrosec : null,
				showTimezone : null,
				showTime : !0,
				stepHour : 1,
				stepMinute : 1,
				stepSecond : 1,
				stepMillisec : 1,
				stepMicrosec : 1,
				hour : 0,
				minute : 0,
				second : 0,
				millisec : 0,
				microsec : 0,
				timezone : null,
				hourMin : 0,
				minuteMin : 0,
				secondMin : 0,
				millisecMin : 0,
				microsecMin : 0,
				hourMax : 23,
				minuteMax : 59,
				secondMax : 59,
				millisecMax : 999,
				microsecMax : 999,
				minDateTime : null,
				maxDateTime : null,
				onSelect : null,
				hourGrid : 0,
				minuteGrid : 0,
				secondGrid : 0,
				millisecGrid : 0,
				microsecGrid : 0,
				alwaysSetTime : !0,
				separator : " ",
				altFieldTimeOnly : !0,
				altTimeFormat : null,
				altSeparator : null,
				altTimeSuffix : null,
				pickerTimeFormat : null,
				pickerTimeSuffix : null,
				showTimepicker : !0,
				timezoneList : null,
				addSliderAccess : !1,
				sliderAccessArgs : null,
				controlType : "slider",
				defaultValue : null,
				parse : "strict"
			};
			a.extend(this._defaults, this.regional[""])
		};
		a.extend(b.prototype, {
			$input : null,
			$altInput : null,
			$timeObj : null,
			inst : null,
			hour_slider : null,
			minute_slider : null,
			second_slider : null,
			millisec_slider : null,
			microsec_slider : null,
			timezone_select : null,
			hour : 0,
			minute : 0,
			second : 0,
			millisec : 0,
			microsec : 0,
			timezone : null,
			hourMinOriginal : null,
			minuteMinOriginal : null,
			secondMinOriginal : null,
			millisecMinOriginal : null,
			microsecMinOriginal : null,
			hourMaxOriginal : null,
			minuteMaxOriginal : null,
			secondMaxOriginal : null,
			millisecMaxOriginal : null,
			microsecMaxOriginal : null,
			ampm : "",
			formattedDate : "",
			formattedTime : "",
			formattedDateTime : "",
			timezoneList : null,
			units : ["hour", "minute", "second", "millisec", "microsec"],
			support : {},
			control : null,
			setDefaults : function(a) {
				f(this._defaults, a || {});
				return this
			},
			_newInst : function(d, c) {
				var g = new b, l = {}, f = {}, m, k;
				for (m in this._defaults)
					if (this._defaults.hasOwnProperty(m)) {
						var n = d.attr("time:" + m);
						if (n)
							try {
								l[m] = eval(n)
							} catch (r) {
								l[m] = n
							}
					}
				m = {
					beforeShow : function(b, c) {
						if (a.isFunction(g._defaults.evnts.beforeShow))
							return g._defaults.evnts.beforeShow.call(d[0], b,
									c, g)
					},
					onChangeMonthYear : function(b, c, e) {
						g._updateDateTime(e);
						a.isFunction(g._defaults.evnts.onChangeMonthYear)
								&& g._defaults.evnts.onChangeMonthYear.call(
										d[0], b, c, e, g)
					},
					onClose : function(b, c) {
						!0 === g.timeDefined && "" !== d.val()
								&& g._updateDateTime(c);
						a.isFunction(g._defaults.evnts.onClose)
								&& g._defaults.evnts.onClose
										.call(d[0], b, c, g)
					}
				};
				for (k in m)
					m.hasOwnProperty(k) && (f[k] = c[k] || null);
				g._defaults = a.extend({}, this._defaults, l, c, m, {
							evnts : f,
							timepicker : g
						});
				g.amNames = a.map(g._defaults.amNames, function(a) {
							return a.toUpperCase()
						});
				g.pmNames = a.map(g._defaults.pmNames, function(a) {
							return a.toUpperCase()
						});
				g.support = e(g._defaults.timeFormat
						+ (g._defaults.pickerTimeFormat
								? g._defaults.pickerTimeFormat
								: "")
						+ (g._defaults.altTimeFormat
								? g._defaults.altTimeFormat
								: ""));
				"string" === typeof g._defaults.controlType
						? ("slider" === g._defaults.controlType
								&& "undefined" === typeof a.ui.slider
								&& (g._defaults.controlType = "select"), g.control = g._controls[g._defaults.controlType])
						: g.control = g._defaults.controlType;
				l = [-720, -660, -600, -570, -540, -480, -420, -360, -300,
						-270, -240, -210, -180, -120, -60, 0, 60, 120, 180,
						210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525,
						540, 570, 600, 630, 660, 690, 720, 765, 780, 840];
				null !== g._defaults.timezoneList
						&& (l = g._defaults.timezoneList);
				f = l.length;
				k = 0;
				m = null;
				if (0 < f && "object" !== typeof l[0])
					for (; k < f; k++)
						m = l[k], l[k] = {
							value : m,
							label : a.timepicker.timezoneOffsetString(m,
									g.support.iso8601)
						};
				g._defaults.timezoneList = l;
				g.timezone = null !== g._defaults.timezone ? a.timepicker
						.timezoneOffsetNumber(g._defaults.timezone) : -1
						* (new Date).getTimezoneOffset();
				g.hour = g._defaults.hour < g._defaults.hourMin
						? g._defaults.hourMin
						: g._defaults.hour > g._defaults.hourMax
								? g._defaults.hourMax
								: g._defaults.hour;
				g.minute = g._defaults.minute < g._defaults.minuteMin
						? g._defaults.minuteMin
						: g._defaults.minute > g._defaults.minuteMax
								? g._defaults.minuteMax
								: g._defaults.minute;
				g.second = g._defaults.second < g._defaults.secondMin
						? g._defaults.secondMin
						: g._defaults.second > g._defaults.secondMax
								? g._defaults.secondMax
								: g._defaults.second;
				g.millisec = g._defaults.millisec < g._defaults.millisecMin
						? g._defaults.millisecMin
						: g._defaults.millisec > g._defaults.millisecMax
								? g._defaults.millisecMax
								: g._defaults.millisec;
				g.microsec = g._defaults.microsec < g._defaults.microsecMin
						? g._defaults.microsecMin
						: g._defaults.microsec > g._defaults.microsecMax
								? g._defaults.microsecMax
								: g._defaults.microsec;
				g.ampm = "";
				g.$input = d;
				g._defaults.altField
						&& (g.$altInput = a(g._defaults.altField).css({
									cursor : "pointer"
								}).focus(function() {
									d.trigger("focus")
								}));
				if (0 === g._defaults.minDate || 0 === g._defaults.minDateTime)
					g._defaults.minDate = new Date;
				if (0 === g._defaults.maxDate || 0 === g._defaults.maxDateTime)
					g._defaults.maxDate = new Date;
				void 0 !== g._defaults.minDate
						&& g._defaults.minDate instanceof Date
						&& (g._defaults.minDateTime = new Date(g._defaults.minDate
								.getTime()));
				void 0 !== g._defaults.minDateTime
						&& g._defaults.minDateTime instanceof Date
						&& (g._defaults.minDate = new Date(g._defaults.minDateTime
								.getTime()));
				void 0 !== g._defaults.maxDate
						&& g._defaults.maxDate instanceof Date
						&& (g._defaults.maxDateTime = new Date(g._defaults.maxDate
								.getTime()));
				void 0 !== g._defaults.maxDateTime
						&& g._defaults.maxDateTime instanceof Date
						&& (g._defaults.maxDate = new Date(g._defaults.maxDateTime
								.getTime()));
				g.$input.bind("focus", function() {
							g._onFocus()
						});
				return g
			},
			_addTimePicker : function(a) {
				var b = this.$altInput && this._defaults.altFieldTimeOnly
						? this.$input.val() + " " + this.$altInput.val()
						: this.$input.val();
				this.timeDefined = this._parseTime(b);
				this._limitMinMaxDateTime(a, !1);
				this._injectTimePicker()
			},
			_parseTime : function(b, d) {
				this.inst
						|| (this.inst = a.datepicker._getInst(this.$input[0]));
				if (d || !this._defaults.timeOnly) {
					var c = a.datepicker._get(this.inst, "dateFormat");
					try {
						var e = n(c, this._defaults.timeFormat, b, a.datepicker
										._getFormatConfig(this.inst),
								this._defaults);
						if (!e.timeObj)
							return !1;
						a.extend(this, e.timeObj)
					} catch (f) {
						return a.timepicker
								.log("Error parsing the date/time string: " + f
										+ "\ndate/time string = " + b
										+ "\ntimeFormat = "
										+ this._defaults.timeFormat
										+ "\ndateFormat = " + c), !1
					}
				} else {
					c = a.datepicker.parseTime(this._defaults.timeFormat, b,
							this._defaults);
					if (!c)
						return !1;
					a.extend(this, c)
				}
				return !0
			},
			_injectTimePicker : function() {
				var b = this.inst.dpDiv, d = this.inst.settings, c = this, e = "", f = "", m = null, k = {}, n = {}, w = null, x = 0, z = 0;
				if (0 === b.find("div.ui-timepicker-div").length
						&& d.showTimepicker) {
					w = '<div class="ui-timepicker-div'
							+ (d.isRTL ? " ui-timepicker-rtl" : "")
							+ '"><dl><dt class="ui_tpicker_time_label"'
							+ (d.showTime ? "" : ' style="display:none;"')
							+ ">" + d.timeText
							+ '</dt><dd class="ui_tpicker_time"'
							+ (d.showTime ? "" : ' style="display:none;"')
							+ "></dd>";
					x = 0;
					for (z = this.units.length; x < z; x++) {
						e = this.units[x];
						f = e.substr(0, 1).toUpperCase() + e.substr(1);
						m = null !== d["show" + f]
								? d["show" + f]
								: this.support[e];
						k[e] = parseInt(d[e + "Max"]
										- (d[e + "Max"] - d[e + "Min"])
										% d["step" + f], 10);
						n[e] = 0;
						w += '<dt class="ui_tpicker_' + e + '_label"'
								+ (m ? "" : ' style="display:none;"') + ">"
								+ d[e + "Text"] + '</dt><dd class="ui_tpicker_'
								+ e + '"><div class="ui_tpicker_' + e
								+ '_slider"'
								+ (m ? "" : ' style="display:none;"')
								+ "></div>";
						if (m && 0 < d[e + "Grid"]) {
							w += '<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';
							if ("hour" === e)
								for (f = d[e + "Min"]; f <= k[e]; f += parseInt(
										d[e + "Grid"], 10))
									n[e]++, m = a.datepicker.formatTime(
											this.support.ampm ? "hht" : "HH", {
												hour : f
											}, d), w += '<td data-for="' + e
											+ '">' + m + "</td>";
							else
								for (f = d[e + "Min"]; f <= k[e]; f += parseInt(
										d[e + "Grid"], 10))
									n[e]++, w += '<td data-for="' + e + '">'
											+ (10 > f ? "0" : "") + f + "</td>";
							w += "</tr></table></div>"
						}
						w += "</dd>"
					}
					var x = null !== d.showTimezone
							? d.showTimezone
							: this.support.timezone, w = w
							+ ('<dt class="ui_tpicker_timezone_label"'
									+ (x ? "" : ' style="display:none;"') + ">"
									+ d.timezoneText + "</dt>"), w = w
							+ ('<dd class="ui_tpicker_timezone" '
									+ (x ? "" : ' style="display:none;"') + "></dd>")
							+ "</dl></div>", D = a(w);
					!0 === d.timeOnly
							&& (D
									.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'
											+ d.timeOnlyTitle + "</div></div>"), b
									.find(".ui-datepicker-header, .ui-datepicker-calendar")
									.hide());
					x = 0;
					for (z = c.units.length; x < z; x++)
						e = c.units[x], f = e.substr(0, 1).toUpperCase()
								+ e.substr(1), m = null !== d["show" + f]
								? d["show" + f]
								: this.support[e], c[e + "_slider"] = c.control
								.create(c, D.find(".ui_tpicker_" + e
												+ "_slider"), e, c[e], d[e
												+ "Min"], k[e], d["step" + f]), m
								&& 0 < d[e + "Grid"]
								&& (w = 100 * n[e] * d[e + "Grid"]
										/ (k[e] - d[e + "Min"]), D
										.find(".ui_tpicker_" + e + " table")
										.css({
											width : w + "%",
											marginLeft : d.isRTL ? "0" : w
													/ (-2 * n[e]) + "%",
											marginRight : d.isRTL ? w
													/ (-2 * n[e]) + "%" : "0",
											borderCollapse : "collapse"
										}).find("td").click(function(b) {
											var d = a(this), h = d.html();
											b = parseInt(h.replace(/[^0-9]/g),
													10);
											h = h.replace(/[^apm]/ig);
											d = d.data("for");
											"hour" === d
													&& (-1 !== h.indexOf("p")
															&& 12 > b
															? b += 12
															: -1 !== h
																	.indexOf("a")
																	&& 12 === b
																	&& (b = 0));
											c.control.value(c,
													c[d + "_slider"], e, b);
											c._onTimeChange();
											c._onSelectHandler()
										}).css({
													cursor : "pointer",
													width : 100 / n[e] + "%",
													textAlign : "center",
													overflow : "hidden"
												}));
					this.timezone_select = D.find(".ui_tpicker_timezone")
							.append("<select></select>").find("select");
					a.fn.append.apply(this.timezone_select, a.map(
									d.timezoneList, function(b, d) {
										return a("<option />")
												.val("object" === typeof b
														? b.value
														: b)
												.text("object" === typeof b
														? b.label
														: b)
									}));
					"undefined" !== typeof this.timezone
							&& null !== this.timezone && "" !== this.timezone
							? -1
									* (new Date(this.inst.selectedYear,
											this.inst.selectedMonth,
											this.inst.selectedDay, 12))
											.getTimezoneOffset() === this.timezone
									? r(c)
									: this.timezone_select.val(this.timezone)
							: "undefined" !== typeof this.hour
									&& null !== this.hour && "" !== this.hour
									? this.timezone_select.val(d.timezone)
									: r(c);
					this.timezone_select.change(function() {
								c._onTimeChange();
								c._onSelectHandler()
							});
					d = b.find(".ui-datepicker-buttonpane");
					d.length ? d.before(D) : b.append(D);
					this.$timeObj = D.find(".ui_tpicker_time");
					null !== this.inst
							&& (b = this.timeDefined, this._onTimeChange(), this.timeDefined = b);
					if (this._defaults.addSliderAccess) {
						var M = this._defaults.sliderAccessArgs, J = this._defaults.isRTL;
						M.isRTL = J;
						setTimeout(function() {
									if (0 === D.find(".ui-slider-access").length) {
										D.find(".ui-slider:visible")
												.sliderAccess(M);
										var b = D
												.find(".ui-slider-access:eq(0)")
												.outerWidth(!0);
										b
												&& D.find("table:visible")
														.each(function() {
															var d = a(this), c = d
																	.outerWidth(), e = d
																	.css(J
																			? "marginRight"
																			: "marginLeft")
																	.toString()
																	.replace(
																			"%",
																			""), h = c
																	- b, g = {
																width : h,
																marginRight : 0,
																marginLeft : 0
															};
															g[J
																	? "marginRight"
																	: "marginLeft"] = e
																	* h
																	/ c
																	+ "%";
															d.css(g)
														})
									}
								}, 10)
					}
					c._limitMinMaxDateTime(this.inst, !0)
				}
			},
			_limitMinMaxDateTime : function(b, d) {
				var c = this._defaults, e = new Date(b.selectedYear,
						b.selectedMonth, b.selectedDay);
				if (this._defaults.showTimepicker) {
					if (null !== a.datepicker._get(b, "minDateTime")
							&& void 0 !== a.datepicker._get(b, "minDateTime")
							&& e) {
						var f = a.datepicker._get(b, "minDateTime"), m = new Date(
								f.getFullYear(), f.getMonth(), f.getDate(), 0,
								0, 0, 0);
						if (null === this.hourMinOriginal
								|| null === this.minuteMinOriginal
								|| null === this.secondMinOriginal
								|| null === this.millisecMinOriginal
								|| null === this.microsecMinOriginal)
							this.hourMinOriginal = c.hourMin, this.minuteMinOriginal = c.minuteMin, this.secondMinOriginal = c.secondMin, this.millisecMinOriginal = c.millisecMin, this.microsecMinOriginal = c.microsecMin;
						b.settings.timeOnly || m.getTime() === e.getTime()
								? (this._defaults.hourMin = f.getHours(), this.hour <= this._defaults.hourMin
										? (this.hour = this._defaults.hourMin, this._defaults.minuteMin = f
												.getMinutes(), this.minute <= this._defaults.minuteMin
												? (this.minute = this._defaults.minuteMin, this._defaults.secondMin = f
														.getSeconds(), this.second <= this._defaults.secondMin
														? (this.second = this._defaults.secondMin, this._defaults.millisecMin = f
																.getMilliseconds(), this.millisec <= this._defaults.millisecMin
																? (this.millisec = this._defaults.millisecMin, this._defaults.microsecMin = f
																		.getMicroseconds())
																: (this.microsec < this._defaults.microsecMin
																		&& (this.microsec = this._defaults.microsecMin), this._defaults.microsecMin = this.microsecMinOriginal))
														: (this._defaults.millisecMin = this.millisecMinOriginal, this._defaults.microsecMin = this.microsecMinOriginal))
												: (this._defaults.secondMin = this.secondMinOriginal, this._defaults.millisecMin = this.millisecMinOriginal, this._defaults.microsecMin = this.microsecMinOriginal))
										: (this._defaults.minuteMin = this.minuteMinOriginal, this._defaults.secondMin = this.secondMinOriginal, this._defaults.millisecMin = this.millisecMinOriginal, this._defaults.microsecMin = this.microsecMinOriginal))
								: (this._defaults.hourMin = this.hourMinOriginal, this._defaults.minuteMin = this.minuteMinOriginal, this._defaults.secondMin = this.secondMinOriginal, this._defaults.millisecMin = this.millisecMinOriginal, this._defaults.microsecMin = this.microsecMinOriginal)
					}
					if (null !== a.datepicker._get(b, "maxDateTime")
							&& void 0 !== a.datepicker._get(b, "maxDateTime")
							&& e) {
						f = a.datepicker._get(b, "maxDateTime");
						m = new Date(f.getFullYear(), f.getMonth(),
								f.getDate(), 0, 0, 0, 0);
						if (null === this.hourMaxOriginal
								|| null === this.minuteMaxOriginal
								|| null === this.secondMaxOriginal
								|| null === this.millisecMaxOriginal)
							this.hourMaxOriginal = c.hourMax, this.minuteMaxOriginal = c.minuteMax, this.secondMaxOriginal = c.secondMax, this.millisecMaxOriginal = c.millisecMax, this.microsecMaxOriginal = c.microsecMax;
						b.settings.timeOnly || m.getTime() === e.getTime()
								? (this._defaults.hourMax = f.getHours(), this.hour >= this._defaults.hourMax
										? (this.hour = this._defaults.hourMax, this._defaults.minuteMax = f
												.getMinutes(), this.minute >= this._defaults.minuteMax
												? (this.minute = this._defaults.minuteMax, this._defaults.secondMax = f
														.getSeconds(), this.second >= this._defaults.secondMax
														? (this.second = this._defaults.secondMax, this._defaults.millisecMax = f
																.getMilliseconds(), this.millisec >= this._defaults.millisecMax
																? (this.millisec = this._defaults.millisecMax, this._defaults.microsecMax = f
																		.getMicroseconds())
																: (this.microsec > this._defaults.microsecMax
																		&& (this.microsec = this._defaults.microsecMax), this._defaults.microsecMax = this.microsecMaxOriginal))
														: (this._defaults.millisecMax = this.millisecMaxOriginal, this._defaults.microsecMax = this.microsecMaxOriginal))
												: (this._defaults.secondMax = this.secondMaxOriginal, this._defaults.millisecMax = this.millisecMaxOriginal, this._defaults.microsecMax = this.microsecMaxOriginal))
										: (this._defaults.minuteMax = this.minuteMaxOriginal, this._defaults.secondMax = this.secondMaxOriginal, this._defaults.millisecMax = this.millisecMaxOriginal, this._defaults.microsecMax = this.microsecMaxOriginal))
								: (this._defaults.hourMax = this.hourMaxOriginal, this._defaults.minuteMax = this.minuteMaxOriginal, this._defaults.secondMax = this.secondMaxOriginal, this._defaults.millisecMax = this.millisecMaxOriginal, this._defaults.microsecMax = this.microsecMaxOriginal)
					}
					if (void 0 !== d && !0 === d) {
						var c = parseInt(
								this._defaults.hourMax
										- (this._defaults.hourMax - this._defaults.hourMin)
										% this._defaults.stepHour, 10), e = parseInt(
								this._defaults.minuteMax
										- (this._defaults.minuteMax - this._defaults.minuteMin)
										% this._defaults.stepMinute, 10), f = parseInt(
								this._defaults.secondMax
										- (this._defaults.secondMax - this._defaults.secondMin)
										% this._defaults.stepSecond, 10), m = parseInt(
								this._defaults.millisecMax
										- (this._defaults.millisecMax - this._defaults.millisecMin)
										% this._defaults.stepMillisec, 10), k = parseInt(
								this._defaults.microsecMax
										- (this._defaults.microsecMax - this._defaults.microsecMin)
										% this._defaults.stepMicrosec, 10);
						this.hour_slider
								&& (this.control.options(this,
										this.hour_slider, "hour", {
											min : this._defaults.hourMin,
											max : c
										}), this.control.value(this,
										this.hour_slider, "hour", this.hour
												- this.hour
												% this._defaults.stepHour));
						this.minute_slider
								&& (this.control.options(this,
										this.minute_slider, "minute", {
											min : this._defaults.minuteMin,
											max : e
										}), this.control.value(this,
										this.minute_slider, "minute",
										this.minute - this.minute
												% this._defaults.stepMinute));
						this.second_slider
								&& (this.control.options(this,
										this.second_slider, "second", {
											min : this._defaults.secondMin,
											max : f
										}), this.control.value(this,
										this.second_slider, "second",
										this.second - this.second
												% this._defaults.stepSecond));
						this.millisec_slider
								&& (this.control.options(this,
										this.millisec_slider, "millisec", {
											min : this._defaults.millisecMin,
											max : m
										}), this.control.value(this,
										this.millisec_slider, "millisec",
										this.millisec - this.millisec
												% this._defaults.stepMillisec));
						this.microsec_slider
								&& (this.control.options(this,
										this.microsec_slider, "microsec", {
											min : this._defaults.microsecMin,
											max : k
										}), this.control.value(this,
										this.microsec_slider, "microsec",
										this.microsec - this.microsec
												% this._defaults.stepMicrosec))
					}
				}
			},
			_onTimeChange : function() {
				if (this._defaults.showTimepicker) {
					var b = this.hour_slider ? this.control.value(this,
							this.hour_slider, "hour") : !1, d = this.minute_slider
							? this.control.value(this, this.minute_slider,
									"minute")
							: !1, c = this.second_slider ? this.control.value(
							this, this.second_slider, "second") : !1, e = this.millisec_slider
							? this.control.value(this, this.millisec_slider,
									"millisec")
							: !1, f = this.microsec_slider ? this.control
							.value(this, this.microsec_slider, "microsec") : !1, m = this.timezone_select
							? this.timezone_select.val()
							: !1, k = this._defaults, n = k.pickerTimeFormat
							|| k.timeFormat, r = k.pickerTimeSuffix
							|| k.timeSuffix;
					"object" === typeof b && (b = !1);
					"object" === typeof d && (d = !1);
					"object" === typeof c && (c = !1);
					"object" === typeof e && (e = !1);
					"object" === typeof f && (f = !1);
					"object" === typeof m && (m = !1);
					!1 !== b && (b = parseInt(b, 10));
					!1 !== d && (d = parseInt(d, 10));
					!1 !== c && (c = parseInt(c, 10));
					!1 !== e && (e = parseInt(e, 10));
					!1 !== f && (f = parseInt(f, 10));
					!1 !== m && (m = m.toString());
					var x = k[12 > b ? "amNames" : "pmNames"][0], z = b !== parseInt(
							this.hour, 10)
							|| d !== parseInt(this.minute, 10)
							|| c !== parseInt(this.second, 10)
							|| e !== parseInt(this.millisec, 10)
							|| f !== parseInt(this.microsec, 10)
							|| 0 < this.ampm.length
							&& 12 > b !== (-1 !== a.inArray(this.ampm
											.toUpperCase(), this.amNames))
							|| null !== this.timezone
							&& m !== this.timezone.toString();
					z
							&& (!1 !== b && (this.hour = b), !1 !== d
									&& (this.minute = d), !1 !== c
									&& (this.second = c), !1 !== e
									&& (this.millisec = e), !1 !== f
									&& (this.microsec = f), !1 !== m
									&& (this.timezone = m), this.inst
									|| (this.inst = a.datepicker
											._getInst(this.$input[0])), this
									._limitMinMaxDateTime(this.inst, !0));
					this.support.ampm && (this.ampm = x);
					this.formattedTime = a.datepicker.formatTime(k.timeFormat,
							this, k);
					this.$timeObj
							&& (n === k.timeFormat
									? this.$timeObj
											.text(this.formattedTime + r)
									: this.$timeObj.text(a.datepicker
											.formatTime(n, this, k)
											+ r));
					this.timeDefined = !0;
					z && (this._updateDateTime(), this.$input.focus())
				}
			},
			_onSelectHandler : function() {
				var a = this._defaults.onSelect || this.inst.settings.onSelect, b = this.$input
						? this.$input[0]
						: null;
				a && b && a.apply(b, [this.formattedDateTime, this])
			},
			_updateDateTime : function(b) {
				b = this.inst || b;
				var d = a.datepicker._daylightSavingAdjust(0 < b.currentYear
						? new Date(b.currentYear, b.currentMonth, b.currentDay)
						: new Date(b.selectedYear, b.selectedMonth,
								b.selectedDay)), c = a.datepicker._get(b,
						"dateFormat"), e = a.datepicker._getFormatConfig(b), f = null !== d
						&& this.timeDefined, c = this.formattedDate = a.datepicker
						.formatDate(c, null === d ? new Date : d, e);
				"" === b.lastVal
						&& (b.currentYear = b.selectedYear, b.currentMonth = b.selectedMonth, b.currentDay = b.selectedDay);
				!0 === this._defaults.timeOnly
						? c = this.formattedTime
						: !0 !== this._defaults.timeOnly
								&& (this._defaults.alwaysSetTime || f)
								&& (c += this._defaults.separator
										+ this.formattedTime
										+ this._defaults.timeSuffix);
				this.formattedDateTime = c;
				this._defaults.showTimepicker
						? this.$altInput && !1 === this._defaults.timeOnly
								&& !0 === this._defaults.altFieldTimeOnly
								? (this.$altInput.val(this.formattedTime), this.$input
										.val(this.formattedDate))
								: this.$altInput
										? (this.$input.val(c), b = "", f = this._defaults.altSeparator
												? this._defaults.altSeparator
												: this._defaults.separator, c = this._defaults.altTimeSuffix
												? this._defaults.altTimeSuffix
												: this._defaults.timeSuffix, this._defaults.timeOnly
												|| (b = this._defaults.altFormat
														? a.datepicker
																.formatDate(
																		this._defaults.altFormat,
																		null === d
																				? new Date
																				: d,
																		e)
														: this.formattedDate)
												&& (b += f), b = this._defaults.altTimeFormat
												? b
														+ (a.datepicker
																.formatTime(
																		this._defaults.altTimeFormat,
																		this,
																		this._defaults) + c)
												: b + (this.formattedTime + c), this.$altInput
												.val(b))
										: this.$input.val(c)
						: this.$input.val(this.formattedDate);
				this.$input.trigger("change")
			},
			_onFocus : function() {
				if (!this.$input.val() && this._defaults.defaultValue) {
					this.$input.val(this._defaults.defaultValue);
					var b = a.datepicker._getInst(this.$input.get(0)), d = a.datepicker
							._get(b, "timepicker");
					if (d && d._defaults.timeOnly
							&& b.input.val() !== b.lastVal)
						try {
							a.datepicker._updateDatepicker(b)
						} catch (c) {
							a.timepicker.log(c)
						}
				}
			},
			_controls : {
				slider : {
					create : function(b, d, c, e, f, m, k) {
						var n = b._defaults.isRTL;
						return d.prop("slide", null).slider({
							orientation : "horizontal",
							value : n ? -1 * e : e,
							min : n ? -1 * m : f,
							max : n ? -1 * f : m,
							step : k,
							slide : function(d, e) {
								b.control.value(b, a(this), c, n
												? -1 * e.value
												: e.value);
								b._onTimeChange()
							},
							stop : function(a, d) {
								b._onSelectHandler()
							}
						})
					},
					options : function(a, b, d, c, e) {
						if (a._defaults.isRTL) {
							if ("string" === typeof c)
								return "min" === c || "max" === c
										? void 0 !== e
												? b.slider(c, -1 * e)
												: Math.abs(b.slider(c))
										: b.slider(c);
							a = c.min;
							d = c.max;
							c.min = c.max = null;
							void 0 !== a && (c.max = -1 * a);
							void 0 !== d && (c.min = -1 * d);
							return b.slider(c)
						}
						return "string" === typeof c && void 0 !== e ? b
								.slider(c, e) : b.slider(c)
					},
					value : function(a, b, d, c) {
						return a._defaults.isRTL
								? void 0 !== c
										? b.slider("value", -1 * c)
										: Math.abs(b.slider("value"))
								: void 0 !== c ? b.slider("value", c) : b
										.slider("value")
					}
				},
				select : {
					create : function(b, d, c, e, f, m, k) {
						for (var n = '<select class="ui-timepicker-select" data-unit="'
								+ c
								+ '" data-min="'
								+ f
								+ '" data-max="'
								+ m
								+ '" data-step="' + k + '">', r = b._defaults.pickerTimeFormat
								|| b._defaults.timeFormat; f <= m; f += k)
							n += '<option value="' + f + '"'
									+ (f === e ? " selected" : "") + ">", n = "hour" === c
									? n
											+ a.datepicker.formatTime(a.trim(r
															.replace(
																	/[^ht ]/ig,
																	"")), {
														hour : f
													}, b._defaults)
									: "millisec" === c || "microsec" === c
											|| 10 <= f ? n + f : n
											+ ("0" + f.toString()), n += "</option>";
						n += "</select>";
						d.children("select").remove();
						a(n).appendTo(d).change(function(a) {
									b._onTimeChange();
									b._onSelectHandler()
								});
						return d
					},
					options : function(a, b, d, c, e) {
						d = {};
						var f = b.children("select");
						if ("string" === typeof c) {
							if (void 0 === e)
								return f.data(c);
							d[c] = e
						} else
							d = c;
						return a.control.create(a, b, f.data("unit"), f.val(),
								d.min || f.data("min"), d.max || f.data("max"),
								d.step || f.data("step"))
					},
					value : function(a, b, d, c) {
						a = b.children("select");
						return void 0 !== c ? a.val(c) : a.val()
					}
				}
			}
		});
		a.fn.extend({
					timepicker : function(b) {
						b = b || {};
						var d = Array.prototype.slice.call(arguments);
						"object" === typeof b && (d[0] = a.extend(b, {
									timeOnly : !0
								}));
						return a(this).each(function() {
									a.fn.datetimepicker.apply(a(this), d)
								})
					},
					datetimepicker : function(b) {
						b = b || {};
						var d = arguments;
						return "string" === typeof b ? "getDate" === b
								? a.fn.datepicker.apply(a(this[0]), d)
								: this.each(function() {
											var b = a(this);
											b.datepicker.apply(b, d)
										}) : this.each(function() {
									var d = a(this);
									d
											.datepicker(a.timepicker._newInst(
													d, b)._defaults)
								})
					}
				});
		a.datepicker.parseDateTime = function(a, b, d, c, e) {
			a = n(a, b, d, c, e);
			a.timeObj
					&& (b = a.timeObj, a.date.setHours(b.hour, b.minute,
							b.second, b.millisec), a.date
							.setMicroseconds(b.microsec));
			return a.date
		};
		a.datepicker.parseTime = function(b, d, c) {
			c = f(f({}, a.timepicker._defaults), c || {});
			b.replace(/\'.*?\'/g, "").indexOf("Z");
			var e = function(b, d, c) {
				var e = function(b, d) {
					var c = [];
					b && a.merge(c, b);
					d && a.merge(c, d);
					c = a.map(c, function(a) {
								return a.replace(/[.*+?|()\[\]{}\\]/g, "\\$&")
							});
					return "(" + c.join("|") + ")?"
				}, f = "^"
						+ b
								.toString()
								.replace(
										/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,
										function(a) {
											var b = a.length;
											switch (a.charAt(0).toLowerCase()) {
												case "h" :
													return 1 === b
															? "(\\d?\\d)"
															: "(\\d{" + b
																	+ "})";
												case "m" :
													return 1 === b
															? "(\\d?\\d)"
															: "(\\d{" + b
																	+ "})";
												case "s" :
													return 1 === b
															? "(\\d?\\d)"
															: "(\\d{" + b
																	+ "})";
												case "l" :
													return "(\\d?\\d?\\d)";
												case "c" :
													return "(\\d?\\d?\\d)";
												case "z" :
													return "(z|[-+]\\d\\d:?\\d\\d|\\S+)?";
												case "t" :
													return e(c.amNames,
															c.pmNames);
												default :
													return "("
															+ a
																	.replace(
																			/\'/g,
																			"")
																	.replace(
																			/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,
																			function(
																					a) {
																				return "\\"
																						+ a
																			})
															+ ")?"
											}
										}).replace(/\s/g, "\\s?")
						+ c.timeSuffix + "$";
				b = function(a) {
					a = a
							.toLowerCase()
							.match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g);
					var b = {
						h : -1,
						m : -1,
						s : -1,
						l : -1,
						c : -1,
						t : -1,
						z : -1
					};
					if (a)
						for (var d = 0; d < a.length; d++)
							-1 === b[a[d].toString().charAt(0)]
									&& (b[a[d].toString().charAt(0)] = d + 1);
					return b
				}(b);
				var h = "";
				d = d.match(RegExp(f, "i"));
				f = {
					hour : 0,
					minute : 0,
					second : 0,
					millisec : 0,
					microsec : 0
				};
				return d
						? (-1 !== b.t
								&& (void 0 === d[b.t] || 0 === d[b.t].length
										? (h = "", f.ampm = "")
										: (h = -1 !== a.inArray(d[b.t]
														.toUpperCase(),
												c.amNames) ? "AM" : "PM", f.ampm = c["AM" === h
												? "amNames"
												: "pmNames"][0])), -1 !== b.h
								&& (f.hour = "AM" === h && "12" === d[b.h]
										? 0
										: "PM" === h && "12" !== d[b.h]
												? parseInt(d[b.h], 10) + 12
												: Number(d[b.h])), -1 !== b.m
								&& (f.minute = Number(d[b.m])), -1 !== b.s
								&& (f.second = Number(d[b.s])), -1 !== b.l
								&& (f.millisec = Number(d[b.l])), -1 !== b.c
								&& (f.microsec = Number(d[b.c])), -1 !== b.z
								&& void 0 !== d[b.z]
								&& (f.timezone = a.timepicker
										.timezoneOffsetNumber(d[b.z])), f)
						: !1
			}, m = function(b, d, c) {
				try {
					var f = new Date("2012-01-01 " + d);
					if (isNaN(f.getTime())
							&& (f = new Date("2012-01-01T" + d), isNaN(f
									.getTime())
									&& (f = new Date("01/01/2012 " + d), isNaN(f
											.getTime()))))
						throw "Unable to parse time with native Date: " + d;
					return {
						hour : f.getHours(),
						minute : f.getMinutes(),
						second : f.getSeconds(),
						millisec : f.getMilliseconds(),
						microsec : f.getMicroseconds(),
						timezone : -1 * f.getTimezoneOffset()
					}
				} catch (h) {
					try {
						return e(b, d, c)
					} catch (g) {
						a.timepicker.log("Unable to parse \ntimeString: " + d
								+ "\ntimeFormat: " + b)
					}
				}
				return !1
			};
			return "function" === typeof c.parse
					? c.parse(b, d, c)
					: "loose" === c.parse ? m(b, d, c) : e(b, d, c)
		};
		a.datepicker.formatTime = function(b, c, e) {
			e = e || {};
			e = a.extend({}, a.timepicker._defaults, e);
			c = a.extend({
						hour : 0,
						minute : 0,
						second : 0,
						millisec : 0,
						microsec : 0,
						timezone : null
					}, c);
			var f = e.amNames[0], m = parseInt(c.hour, 10);
			11 < m && (f = e.pmNames[0]);
			return b = b.replace(
					/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function(
							b) {
						switch (b) {
							case "HH" :
								return ("0" + m).slice(-2);
							case "H" :
								return m;
							case "hh" :
								return ("0" + d(m)).slice(-2);
							case "h" :
								return d(m);
							case "mm" :
								return ("0" + c.minute).slice(-2);
							case "m" :
								return c.minute;
							case "ss" :
								return ("0" + c.second).slice(-2);
							case "s" :
								return c.second;
							case "l" :
								return ("00" + c.millisec).slice(-3);
							case "c" :
								return ("00" + c.microsec).slice(-3);
							case "z" :
								return a.timepicker.timezoneOffsetString(
										null === c.timezone
												? e.timezone
												: c.timezone, !1);
							case "Z" :
								return a.timepicker.timezoneOffsetString(
										null === c.timezone
												? e.timezone
												: c.timezone, !0);
							case "T" :
								return f.charAt(0).toUpperCase();
							case "TT" :
								return f.toUpperCase();
							case "t" :
								return f.charAt(0).toLowerCase();
							case "tt" :
								return f.toLowerCase();
							default :
								return b.replace(/'/g, "")
						}
					})
		};
		a.datepicker._base_selectDate = a.datepicker._selectDate;
		a.datepicker._selectDate = function(b, d) {
			var c = this._getInst(a(b)[0]), e = this._get(c, "timepicker");
			e
					? (e._limitMinMaxDateTime(c, !0), c.inline = c.stay_open = !0, this
							._base_selectDate(b, d), c.inline = c.stay_open = !1, this
							._notifyChange(c), this._updateDatepicker(c))
					: this._base_selectDate(b, d)
		};
		a.datepicker._base_updateDatepicker = a.datepicker._updateDatepicker;
		a.datepicker._updateDatepicker = function(b) {
			var d = b.input[0];
			if (!a.datepicker._curInst || a.datepicker._curInst === b
					|| !a.datepicker._datepickerShowing
					|| a.datepicker._lastInput === d)
				if ("boolean" !== typeof b.stay_open || !1 === b.stay_open)
					this._base_updateDatepicker(b), (d = this._get(b,
							"timepicker"))
							&& d._addTimePicker(b)
		};
		a.datepicker._base_doKeyPress = a.datepicker._doKeyPress;
		a.datepicker._doKeyPress = function(b) {
			var d = a.datepicker._getInst(b.target), c = a.datepicker._get(d,
					"timepicker");
			if (c && a.datepicker._get(d, "constrainInput")) {
				var e = c.support.ampm, f = null !== c._defaults.showTimezone
						? c._defaults.showTimezone
						: c.support.timezone, d = a.datepicker
						._possibleChars(a.datepicker._get(d, "dateFormat")), c = c._defaults.timeFormat
						.toString().replace(/[hms]/g, "").replace(/TT/g,
								e ? "APM" : "").replace(/Tt/g,
								e ? "AaPpMm" : "").replace(/tT/g,
								e ? "AaPpMm" : "").replace(/T/g, e ? "AP" : "")
						.replace(/tt/g, e ? "apm" : "").replace(/t/g,
								e ? "ap" : "")
						+ " "
						+ c._defaults.separator
						+ c._defaults.timeSuffix
						+ (f ? c._defaults.timezoneList.join("") : "")
						+ c._defaults.amNames.join("")
						+ c._defaults.pmNames.join("") + d, e = String
						.fromCharCode(void 0 === b.charCode
								? b.keyCode
								: b.charCode);
				return b.ctrlKey || " " > e || !d || -1 < c.indexOf(e)
			}
			return a.datepicker._base_doKeyPress(b)
		};
		a.datepicker._base_updateAlternate = a.datepicker._updateAlternate;
		a.datepicker._updateAlternate = function(b) {
			var d = this._get(b, "timepicker");
			if (d) {
				var c = d._defaults.altField;
				if (c) {
					var e = this._getDate(b);
					b = a.datepicker._getFormatConfig(b);
					var f, m = d._defaults.altSeparator
							? d._defaults.altSeparator
							: d._defaults.separator;
					f = d._defaults.altTimeSuffix
							? d._defaults.altTimeSuffix
							: d._defaults.timeSuffix;
					f = ""
							+ (a.datepicker.formatTime(
									null !== d._defaults.altTimeFormat
											? d._defaults.altTimeFormat
											: d._defaults.timeFormat, d,
									d._defaults) + f);
					d._defaults.timeOnly
							|| d._defaults.altFieldTimeOnly
							|| null === e
							|| (f = d._defaults.altFormat ? a.datepicker
									.formatDate(d._defaults.altFormat, e, b)
									+ m + f : d.formattedDate + m + f);
					a(c).val(f)
				}
			} else
				a.datepicker._base_updateAlternate(b)
		};
		a.datepicker._base_doKeyUp = a.datepicker._doKeyUp;
		a.datepicker._doKeyUp = function(b) {
			var d = a.datepicker._getInst(b.target), c = a.datepicker._get(d,
					"timepicker");
			if (c && c._defaults.timeOnly && d.input.val() !== d.lastVal)
				try {
					a.datepicker._updateDatepicker(d)
				} catch (e) {
					a.timepicker.log(e)
				}
			return a.datepicker._base_doKeyUp(b)
		};
		a.datepicker._base_gotoToday = a.datepicker._gotoToday;
		a.datepicker._gotoToday = function(b) {
			var d = this._getInst(a(b)[0]), c = d.dpDiv;
			this._base_gotoToday(b);
			b = this._get(d, "timepicker");
			r(b);
			this._setTime(d, new Date);
			a(".ui-datepicker-today", c).click()
		};
		a.datepicker._disableTimepickerDatepicker = function(b) {
			var d = this._getInst(b);
			if (d) {
				var c = this._get(d, "timepicker");
				a(b).datepicker("getDate");
				c
						&& (d.settings.showTimepicker = !1, c._defaults.showTimepicker = !1, c
								._updateDateTime(d))
			}
		};
		a.datepicker._enableTimepickerDatepicker = function(b) {
			var d = this._getInst(b);
			if (d) {
				var c = this._get(d, "timepicker");
				a(b).datepicker("getDate");
				c
						&& (d.settings.showTimepicker = !0, c._defaults.showTimepicker = !0, c
								._addTimePicker(d), c._updateDateTime(d))
			}
		};
		a.datepicker._setTime = function(a, b) {
			var d = this._get(a, "timepicker");
			if (d) {
				var c = d._defaults;
				d.hour = b ? b.getHours() : c.hour;
				d.minute = b ? b.getMinutes() : c.minute;
				d.second = b ? b.getSeconds() : c.second;
				d.millisec = b ? b.getMilliseconds() : c.millisec;
				d.microsec = b ? b.getMicroseconds() : c.microsec;
				d._limitMinMaxDateTime(a, !0);
				d._onTimeChange();
				d._updateDateTime(a)
			}
		};
		a.datepicker._setTimeDatepicker = function(a, b, d) {
			if (a = this._getInst(a)) {
				var c = this._get(a, "timepicker");
				c
						&& (this._setDateFromField(a), b
								&& ("string" === typeof b
										? (c._parseTime(b, d), d = new Date, d
												.setHours(c.hour, c.minute,
														c.second, c.millisec), d
												.setMicroseconds(c.microsec))
										: (d = new Date(b.getTime()), d
												.setMicroseconds(b
														.getMicroseconds())), "Invalid Date" === d
										.toString()
										&& (d = void 0), this._setTime(a, d)))
			}
		};
		a.datepicker._base_setDateDatepicker = a.datepicker._setDateDatepicker;
		a.datepicker._setDateDatepicker = function(b, d) {
			var c = this._getInst(b);
			if (c) {
				"string" === typeof d
						&& (d = new Date(d), d.getTime()
								|| a.timepicker
										.log("Error creating Date object from string."));
				var e = this._get(c, "timepicker"), f;
				d instanceof Date ? (f = new Date(d.getTime()), f
						.setMicroseconds(d.getMicroseconds())) : f = d;
				e
						&& (e.support.timezone || null !== e._defaults.timezone
								|| (e.timezone = -1 * f.getTimezoneOffset()), d = a.timepicker
								.timezoneAdjust(d, e.timezone), f = a.timepicker
								.timezoneAdjust(f, e.timezone));
				this._updateDatepicker(c);
				this._base_setDateDatepicker.apply(this, arguments);
				this._setTimeDatepicker(b, f, !0)
			}
		};
		a.datepicker._base_getDateDatepicker = a.datepicker._getDateDatepicker;
		a.datepicker._getDateDatepicker = function(b, d) {
			var c = this._getInst(b);
			if (c) {
				var e = this._get(c, "timepicker");
				return e
						? (void 0 === c.lastVal && this._setDateFromField(c, d), (c = this
								._getDate(c))
								&& e._parseTime(a(b).val(), e.timeOnly)
								&& (c.setHours(e.hour, e.minute, e.second,
										e.millisec), c
										.setMicroseconds(e.microsec), null != e.timezone
										&& (e.support.timezone
												|| null !== e._defaults.timezone
												|| (e.timezone = -1
														* c.getTimezoneOffset()), c = a.timepicker
												.timezoneAdjust(c, e.timezone))), c)
						: this._base_getDateDatepicker(b, d)
			}
		};
		a.datepicker._base_parseDate = a.datepicker.parseDate;
		a.datepicker.parseDate = function(b, d, c) {
			var e;
			try {
				e = this._base_parseDate(b, d, c)
			} catch (f) {
				if (0 <= f.indexOf(":"))
					e = this._base_parseDate(b, d.substring(0, d.length
											- (f.length - f.indexOf(":") - 2)),
							c), a.timepicker
							.log("Error parsing the date string: " + f
									+ "\ndate string = " + d
									+ "\ndate format = " + b);
				else
					throw f;
			}
			return e
		};
		a.datepicker._base_formatDate = a.datepicker._formatDate;
		a.datepicker._formatDate = function(a, b, d, c) {
			return (b = this._get(a, "timepicker"))
					? (b._updateDateTime(a), b.$input.val())
					: this._base_formatDate(a)
		};
		a.datepicker._base_optionDatepicker = a.datepicker._optionDatepicker;
		a.datepicker._optionDatepicker = function(b, d, e) {
			var f = this._getInst(b), m;
			if (!f)
				return null;
			if (f = this._get(f, "timepicker")) {
				var k = null, n = null, r = null, w = f._defaults.evnts, x = {}, z;
				if ("string" === typeof d)
					if ("minDate" === d || "minDateTime" === d)
						k = e;
					else if ("maxDate" === d || "maxDateTime" === d)
						n = e;
					else if ("onSelect" === d)
						r = e;
					else {
						if (w.hasOwnProperty(d)) {
							if ("undefined" === typeof e)
								return w[d];
							x[d] = e;
							m = {}
						}
					}
				else if ("object" === typeof d)
					for (z in d.minDate ? k = d.minDate : d.minDateTime
							? k = d.minDateTime
							: d.maxDate ? n = d.maxDate : d.maxDateTime
									&& (n = d.maxDateTime), w)
						w.hasOwnProperty(z) && d[z] && (x[z] = d[z]);
				for (z in x)
					x.hasOwnProperty(z)
							&& (w[z] = x[z], m || (m = a.extend({}, d)), delete m[z]);
				if (m && c(m))
					return;
				k
						? (k = 0 === k ? new Date : new Date(k), f._defaults.minDate = k, f._defaults.minDateTime = k)
						: n
								? (n = 0 === n ? new Date : new Date(n), f._defaults.maxDate = n, f._defaults.maxDateTime = n)
								: r && (f._defaults.onSelect = r)
			}
			return void 0 === e ? this._base_optionDatepicker.call(
					a.datepicker, b, d) : this._base_optionDatepicker.call(
					a.datepicker, b, m || d, e)
		};
		var c = function(a) {
			for (var b in a)
				if (a.hasOwnProperty(b))
					return !1;
			return !0
		}, f = function(b, d) {
			a.extend(b, d);
			for (var c in d)
				if (null === d[c] || void 0 === d[c])
					b[c] = d[c];
			return b
		}, e = function(a) {
			var b = a.replace(/'.*?'/g, "").toLowerCase(), d = function(a, b) {
				return -1 !== a.indexOf(b) ? !0 : !1
			};
			return {
				hour : d(b, "h"),
				minute : d(b, "m"),
				second : d(b, "s"),
				millisec : d(b, "l"),
				microsec : d(b, "c"),
				timezone : d(b, "z"),
				ampm : d(b, "t") && d(a, "h"),
				iso8601 : d(a, "Z")
			}
		}, d = function(a) {
			a %= 12;
			0 === a && (a = 12);
			return String(a)
		}, m = function(b, d) {
			return b && b[d] ? b[d] : a.timepicker._defaults[d]
		}, k = function(a, b) {
			var d = m(b, "separator"), c = m(b, "timeFormat").split(d).length, e = a
					.split(d), f = e.length;
			return 1 < f ? {
				dateString : e.splice(0, f - c).join(d),
				timeString : e.splice(0, c).join(d)
			} : {
				dateString : a,
				timeString : ""
			}
		}, n = function(b, d, c, e, f) {
			c = k(c, f);
			b = a.datepicker._base_parseDate(b, c.dateString, e);
			if ("" === c.timeString)
				return {
					date : b
				};
			d = a.datepicker.parseTime(d, c.timeString, f);
			if (!d)
				throw "Wrong time format";
			return {
				date : b,
				timeObj : d
			}
		}, r = function(a, b) {
			a
					&& a.timezone_select
					&& a.timezone_select.val(-(b || new Date)
							.getTimezoneOffset())
		};
		a.timepicker = new b;
		a.timepicker.timezoneOffsetString = function(a, b) {
			if (isNaN(a) || 840 < a || -720 > a)
				return a;
			var d = a % 60, c = b ? ":" : "", d = (0 <= a ? "+" : "-")
					+ ("0" + Math.abs((a - d) / 60)).slice(-2) + c
					+ ("0" + Math.abs(d)).slice(-2);
			return "+00:00" === d ? "Z" : d
		};
		a.timepicker.timezoneOffsetNumber = function(a) {
			var b = a.toString().replace(":", "");
			return "Z" === b.toUpperCase() ? 0 : /^(\-|\+)\d{4}$/.test(b)
					? ("-" === b.substr(0, 1) ? -1 : 1)
							* (60 * parseInt(b.substr(1, 2), 10) + parseInt(b
											.substr(3, 2), 10))
					: a
		};
		a.timepicker.timezoneAdjust = function(b, d) {
			var c = a.timepicker.timezoneOffsetNumber(d);
			isNaN(c)
					|| b
							.setMinutes(b.getMinutes() + -b.getTimezoneOffset()
									- c);
			return b
		};
		a.timepicker.timeRange = function(b, d, c) {
			return a.timepicker.handleRange("timepicker", b, d, c)
		};
		a.timepicker.datetimeRange = function(b, d, c) {
			a.timepicker.handleRange("datetimepicker", b, d, c)
		};
		a.timepicker.dateRange = function(b, d, c) {
			a.timepicker.handleRange("datepicker", b, d, c)
		};
		a.timepicker.handleRange = function(b, d, c, e) {
			function f(a, m) {
				var k = d[b]("getDate"), n = c[b]("getDate"), r = a[b]("getDate");
				if (null !== k) {
					var s = new Date(k.getTime()), t = new Date(k.getTime());
					s.setMilliseconds(s.getMilliseconds() + e.minInterval);
					t.setMilliseconds(t.getMilliseconds() + e.maxInterval);
					if (0 < e.minInterval && s > n)
						c[b]("setDate", s);
					else if (0 < e.maxInterval && t < n)
						c[b]("setDate", t);
					else if (k > n)
						m[b]("setDate", r)
				}
			}
			function m(a, d, c) {
				a.val()
						&& (a = a[b].call(a, "getDate"), null !== a
								&& 0 < e.minInterval
								&& ("minDate" === c
										&& a.setMilliseconds(a
												.getMilliseconds()
												+ e.minInterval), "maxDate" === c
										&& a.setMilliseconds(a
												.getMilliseconds()
												- e.minInterval)), a.getTime
								&& d[b].call(d, "option", c, a))
			}
			e = a.extend({}, {
						minInterval : 0,
						maxInterval : 0,
						start : {},
						end : {}
					}, e);
			a.fn[b].call(d, a.extend({
								onClose : function(b, d) {
									f(a(this), c)
								},
								onSelect : function(b) {
									m(a(this), c, "minDate")
								}
							}, e, e.start));
			a.fn[b].call(c, a.extend({
								onClose : function(b, c) {
									f(a(this), d)
								},
								onSelect : function(b) {
									m(a(this), d, "maxDate")
								}
							}, e, e.end));
			f(d, c);
			m(d, c, "minDate");
			m(c, d, "maxDate");
			return a([d.get(0), c.get(0)])
		};
		a.timepicker.log = function(a) {
			window.console && window.console.log(a)
		};
		a.timepicker._util = {
			_extendRemove : f,
			_isEmptyObject : c,
			_convert24to12 : d,
			_detectSupport : e,
			_selectLocalTimezone : r,
			_computeEffectiveSetting : m,
			_splitDateTime : k,
			_parseDateTimeInternal : n
		};
		Date.prototype.getMicroseconds
				|| (Date.prototype.microseconds = 0, Date.prototype.getMicroseconds = function() {
					return this.microseconds
				}, Date.prototype.setMicroseconds = function(a) {
					this.setMilliseconds(this.getMilliseconds()
							+ Math.floor(a / 1E3));
					this.microseconds = a % 1E3;
					return this
				});
		a.timepicker.version = "@@version"
	}
})(jQuery);
(function(a) {
	a.timepicker.regional["zh-CN"] = {
		timeOnlyTitle : "\u9009\u62e9\u65f6\u95f4",
		timeText : "\u65f6\u95f4",
		hourText : "\u5c0f\u65f6",
		minuteText : "\u5206\u949f",
		secondText : "\u79d2\u949f",
		millisecText : "\u5fae\u79d2",
		microsecText : "\u5fae\u79d2",
		timezoneText : "\u65f6\u533a",
		currentText : "\u73b0\u5728\u65f6\u95f4",
		closeText : "\u5173\u95ed",
		timeFormat : "HH:mm",
		amNames : ["AM", "A"],
		pmNames : ["PM", "P"],
		isRTL : !1
	};
	a.timepicker.setDefaults(a.timepicker.regional["zh-CN"])
})(jQuery);
var ImageClipping = function(a, b, c, f, e, d) {
	this.xsize = a;
	this.ysize = b;
	this.quality = f;
	this.on_complete = e;
	this.on_cancel = d;
	this.photo_id = c;
	this.crop_param = this.jcrop_api = this.photo = null;
	this.image_size = {};
	this.photo_size = {}
};
ImageClipping.prototype = {
	open : function() {
		var a = this, b = 0 < this.xsize ? "\u5bbd\u5ea6: " + this.xsize
				+ "\u50cf\u7d20" : "\u5bbd\u5ea6: \u4e0d\u9650", c = 0 < this.ysize
				? "\u9ad8\u5ea6: " + this.ysize + "\u50cf\u7d20"
				: "\u9ad8\u5ea6: \u4e0d\u9650", f = $("#image_clipping_dialog");
		f.dialog({
					autoOpen : !1,
					resizable : !1,
					modal : !0,
					width : 522,
					position : "center top",
					title : "\u4e0a\u4f20\u56fe\u7247   (" + b + " , " + c
							+ ")"
				});
		f.empty();
		$("#image_clipping_dialog_tmpl").tmpl(this).appendTo(f);
		f.dialog("open");
		b = f.find("#image_clipping");
		b.width(b.parents(".preview-inside").width());
		b.height(b.parents(".preview-inside").height());
		b = f.find("#image_preview");
		b.width(b.parents(".preview-inside").width());
		b.height(b.parents(".preview-inside").height());
		0 < a.photo_id ? (OpenLoadingDialog(), $.ajax({
					url : getActionPath("GetPhoto", "AdminOperation"),
					dataType : "json",
					contentType : "application/json",
					type : "POST",
					data : stringify({
								photo_id : this.photo_id
							}),
					success : function(b) {
						!0 == b.success
								? null != b.photo_org ? a
										.init_clipping_image(b.photo_org,
												b.photo.TransformParameter) : a
										.init_clipping_image(b.photo, null)
								: (a.photo_id = 0, ShowActionError(b.error,
										"admin"))
					},
					error : function(a, b, c) {
						ShowAjaxError(a, b, c)
					}
				})) : a.photo_id = 0;
		f.find("#image_clipping_preview").click(function() {
					a.show_preview()
				});
		f.find("#clipping_preview").click(function() {
					a.show_preview()
				});
		f.find("#clipping_ok").click(function() {
					a.clipping_photo()
				});
		f.find("#clipping_cancel").click(function() {
					f.dialog("close");
					if (null != a.on_cancel)
						a.on_cancel()
				});
		f.find(".upload_status").hide();
		f.find(".upload_status").fineUploader({
			button : f.find("#local_image"),
			messages : {
				typeError : "\u4e0d\u652f\u6301\u6587\u4ef6{file}\u7684\u7c7b\u578b",
				sizeError : "\u6587\u4ef6{file}\u8fc7\u5927, \u6700\u5927\u4e0d\u80fd\u8d85\u8fc7{sizeLimit}.",
				minSizeError : "\u6587\u4ef6{file}\u8fc7\u5c0f,\u6700\u5c0f\u4e0d\u80fd\u5c0f\u4e8e{minSizeLimit}.",
				emptyError : "\u6587\u4ef6{file}\u662f\u7a7a\u6587\u4ef6,\u8bf7\u9009\u62e9\u5176\u4ed6\u6587\u4ef6.",
				noFilesError : "\u6ca1\u6709\u6587\u4ef6\u53ef\u4ee5\u4e0a\u4f20.",
				onLeave : "\u6587\u4ef6\u6b63\u5728\u4e0a\u4f20,\u5982\u679c\u79bb\u5f00,\u4e0a\u4f20\u7684\u6587\u4ef6\u5c06\u88ab\u53d6\u6d88."
			},
			validation : {
				allowedExtensions : ["jpg", "jpeg", "png", "bmp", "gif"],
				sizeLimit : Constant.ALBUM_UPLOAD_FILE_SIZE_MAX,
				minSizeLimit : 0,
				stopOnFirstInvalidFile : !0
			},
			request : {
				//endpoint : getActionPath("UploadTempPhoto", "AdminOperation"),
				endpoint : "eop/keuploader.do?CKEditor=intro&CKEditorFuncNum=1&langCode=zh-cn",
				params : {}
			}
		}).on("submit", function(a, b, c) {
					OpenLoadingDialog()
				}).on("complete", function(b, d, c, f) {
			!0 == f.success
					? (b = f.photo, null != b
							? a.init_clipping_image(b, null)
							: CloseLoadingDialog())
					: (CloseLoadingDialog(), ShowActionError(f.error, "admin"))
		})
	},
	init_clipping_image : function(a, b) {
		function c(a) {
			e.crop_param = a;
			if (0 < parseInt(a.w)) {
				var b = r.width() / a.w, d = r.height() / a.h, c = 0 != t
						? t
						: Number(a.w) / Number(a.h);
				l > c ? (r.width(Number(g) * c), r.height(g), r.css("top",
						"0px"), r.css("left", (p - r.width()) / 2 + "px")) : (r
						.width(p), r.height(Number(p) / c), r
						.css("left", "0px"), r.css("top", (g - r.height()) / 2
								+ "px"));
				h.css({
							width : Math.round(b * e.image_size.width) + "px",
							height : Math.round(d * e.image_size.height) + "px",
							marginLeft : "-" + Math.round(b * a.x) + "px",
							marginTop : "-" + Math.round(d * a.y) + "px"
						});
				h.show()
			}
		}
		function f() {
			k.Jcrop({
						keySupport : !1,
						aspectRatio : 0 < t ? t : null,
						onChange : c,
						onSelect : c
					}, function() {
						e.jcrop_api = this;
						var a = e.image_size.width / e.photo_size.width, d = e.image_size.height
								/ e.photo_size.height;
						null != b
								? e.jcrop_api.animateTo([b.crop.x1 * a,
										b.crop.y1 * d, b.crop.x2 * a,
										b.crop.y2 * d])
								: e.jcrop_api.animateTo([0, 0,
										e.image_size.width - 1,
										e.image_size.height - 1]);
						CloseLoadingDialog()
					})
		}
		var e = this;
		null != this.jcrop_api
				&& (this.jcrop_api.destroy(), this.crop_param = this.jcrop_api = null, this.image_size = {}, this.photo_size = {});
		this.photo = a;
		var d = $("#image_clipping_dialog");
		$("#image_clipping_preview_dialog");
		var m = d.find(".preview-inside"), k = d.find("#image_clipping"), n = d
				.find("#area_clipping"), r = d.find("#area_preview"), h = d
				.find("#image_preview");
		this.photo_size.width = this.photo.Width;
		this.photo_size.height = this.photo.Height;
		var p = Number(m.width()), g = Number(m.height()), l = p / g, d = Number(a.Width)
				/ Number(a.Height), t = 0 != e.xsize && 0 != e.ysize
				? Number(e.xsize) / Number(e.ysize)
				: 0;
		l > d
				? (this.image_size.width = Number(g) * d, this.image_size.height = g, n
						.css("top", "0px"), n.css("left",
						(p - this.image_size.width) / 2 + "px"))
				: (this.image_size.width = p, this.image_size.height = Number(p)
						/ d, n.css("left", "0px"), n.css("top",
						(g - this.image_size.height) / 2 + "px"));
		k.width(this.image_size.width);
		k.height(this.image_size.height);
		n.width(this.image_size.width);
		n.height(this.image_size.height);
		k.load(function() {
					h.attr("src", a.Path);
					h.hide();
					setTimeout(f, 10)
				});
		k.attr("src", a.Path)
	},
	show_preview : function() {
		if (null != this.crop_param) {
			var a = this.calc_real_size(this.crop_param), b = $("#image_clipping_preview_dialog");
			b.dialog({
						autoOpen : !1,
						resizable : !1,
						modal : !0,
						width : a.w + 15,
						height : a.h + 60,
						title : "\u5b9e\u9645\u5927\u5c0f\u9884\u89c8"
					});
			b.find("#real_preview_box").width(a.w);
			b.find("#real_preview_box").height(a.h);
			var c = a.w / this.crop_param.w, a = a.h / this.crop_param.h, f = b
					.find("#real_preview_image");
			f.attr("src", this.photo.Path);
			f.css({
						width : Math.round(c * this.image_size.width) + "px",
						height : Math.round(a * this.image_size.height) + "px",
						marginLeft : "-" + Math.round(c * this.crop_param.x)
								+ "px",
						marginTop : "-" + Math.round(a * this.crop_param.y)
								+ "px"
					});
			b.dialog("open")
		} else
			alert("\u8bf7\u5148\u526a\u88c1\u56fe\u7247\u540e\u518d\u8fdb\u884c\u9884\u89c8")
	},
	clipping_photo : function() {
		var a = this;
		if (null != this.crop_param) {
			var b = this.photo_size.width / this.image_size.width, c = this.photo_size.height
					/ this.image_size.height, f = {};
			f.size = this.calc_real_size(this.crop_param);
			var e, d;
			e = 0 > (this.crop_param.x - 1) * b ? 0 : Math
					.round(this.crop_param.x * b);
			b = (this.crop_param.x2 + 1) * b > this.photo_size.width
					? this.photo_size.width - 1
					: Math.round(this.crop_param.x2 * b);
			d = 0 > (this.crop_param.y - 1) * c ? 0 : Math
					.round(this.crop_param.y * c);
			c = (this.crop_param.y2 + 1) * c > this.photo_size.height
					? this.photo_size.height - 1
					: Math.round(this.crop_param.y2 * c);
			f.crop = {
				x1 : e,
				y1 : d,
				x2 : b,
				y2 : c
			};
			f.quality = null == this.quality ? 0 : this.quality;
			OpenLoadingDialog();
			$.ajax({
				url : getActionPath("CorpPhoto", "AdminOperation"),
				dataType : "json",
				contentType : "application/json",
				type : "POST",
				data : stringify({
							temp_photo_id : this.photo.Id,
							tran_param : f
						}),
				success : function(b) {
					CloseLoadingDialog();
					if (!0 == b.success) {
						if ($("#image_clipping_dialog").dialog("close"), null != a.on_complete)
							a.on_complete(b.photo)
					} else
						ShowActionError(b.error, "admin")
				},
				error : function(a, b, d) {
					ShowAjaxError(a, b, d)
				}
			})
		} else
			alert("\u8bf7\u5148\u526a\u88c1\u56fe\u7247")
	},
	calc_real_size : function(a) {
		ret = {
			w : 0,
			h : 0
		};
		if (0 == this.xsize && 0 == this.ysize) {
			var b = this.photo_size.height / this.image_size.height;
			ret.w = this.photo_size.width / this.image_size.width * a.w;
			ret.h = a.h * b
		} else
			0 == this.ysize
					? (ret.w = this.xsize, ret.h = parseInt(Number(this.xsize)
							* Number(a.h) / Number(a.w)))
					: (ret.w = 0 == this.xsize ? parseInt(Number(this.ysize)
							* Number(a.w) / Number(a.h)) : this.xsize, ret.h = this.ysize);
		return ret
	}
};
var Toolbar = function(a, b) {
	this.show = $(a);
	this.bar_type = b;
	this.account_data = this.pages_edit = null;
	this.page_editing = !1;
	this.curr_solution = -1;
	this.store_status = null;
	this.store_status_call = []
};
function alertobj(obj){
	var msg ="";
	for(p in obj)
		msg+=p+":"+obj[p]+",";
	alert(msg);
}
Toolbar.prototype = {
	show_toolbar : function() {
		var a = this;
		a.get_store_status(!0, function() {
//				alertobj(arguments[0])
					switch (a.bar_type) {
						case 0 :
							a.show_back();
							break;
						case 1 :
							a.show_front_design();
							break;
						case 2 :
							a.show_front_preview();
							break;
						case 3 :
							a.show_front_mobile();
							break;
						case 4 :
							a.show_front_weixin()
					}
					a.show.scrollFixed({
								fixed : "left"
							})
				})
	},
	build_static : function() {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u8fdb\u884c\u53d1\u5e03\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u5df2\u4fdd\u5b58\u7684\u9875\u9762\u53d1\u5e03\u5230\u5f53\u524d\u7f51\u7ad9!",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("BuildStatic", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? alert("\u5546\u57ce\u9875\u9762\u53d1\u5e03\u6210\u529f")
									: alert("\u5546\u57ce\u9875\u9762\u53d1\u5e03\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, b, c) {
							ShowAjaxError(a, b, c)
						}
					})
				})
	},
	save_page : function() {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u4fdd\u5b58\u9875\u9762\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u5bf9\u5f53\u524d\u9875\u9762\u8fdb\u884c\u4fdd\u5b58<br>\u6b64\u524d\u4fdd\u5b58\u7684\u9875\u9762\u5c06\u88ab\u5f53\u524d\u7f16\u8f91\u7684\u9875\u9762\u66ff\u6362!",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("SaveStorePage", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? alert("\u9875\u9762\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u5207\u6362\u81f3\u9884\u89c8\u6a21\u5f0f\u53d1\u5e03\u60a8\u7684\u7f51\u7ad9\u3002")
									: alert("\u9875\u9762\u4fdd\u5b58\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, b, c) {
							ShowAjaxError(a, b, c)
						}
					})
				})
	},
	recover_page : function() {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u6062\u590d\u9875\u9762\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u4f7f\u7528\u6b64\u524d\u4fdd\u5b58\u7684\u9875\u9762\u8fdb\u884c\u6062\u590d<br>\u5f53\u524d\u8bbe\u8ba1\u7684\u9875\u9762\u5c06\u88ab\u5f53\u524d\u4fdd\u5b58\u7684\u9875\u9762\u66ff\u6362!",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("RecoverStorePage", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? (alert("\u9875\u9762\u6062\u590d\u6210\u529f"), goto_reload())
									: alert("\u9875\u9762\u6062\u590d\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, b, c) {
							ShowAjaxError(a, b, c)
						}
					})
				})
	},
	mobile_build_static : function() {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u8fdb\u884c\u53d1\u5e03\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u5df2\u4fdd\u5b58\u7684\u9875\u9762\u53d1\u5e03\u5230\u5f53\u524d\u7f51\u7ad9!",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("MobileBuildStatic", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? alert("\u5546\u57ce\u9875\u9762\u53d1\u5e03\u6210\u529f")
									: alert("\u5546\u57ce\u9875\u9762\u53d1\u5e03\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, b, c) {
							ShowAjaxError(a, b, c)
						}
					})
				})
	},
	mobile_save_page : function() {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u4fdd\u5b58\u9875\u9762\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u5bf9\u5f53\u524d\u9875\u9762\u8fdb\u884c\u4fdd\u5b58<br>\u6b64\u524d\u4fdd\u5b58\u7684\u9875\u9762\u5c06\u88ab\u5f53\u524d\u7f16\u8f91\u7684\u9875\u9762\u66ff\u6362!",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("MobileSaveStorePage", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? alert("\u9875\u9762\u4fdd\u5b58\u6210\u529f\uff0c\u8bf7\u70b9\u51fb[\u4e8c\u7ef4\u7801\u9884\u89c8]\u6309\u94ae\u4f7f\u7528\u624b\u673a\u9884\u89c8\u60a8\u4fdd\u5b58\u7684\u7f51\u7ad9\u3002\u786e\u8ba4\u65e0\u8bef\u540e,\u60a8\u53ef\u4ee5\u70b9\u51fb[\u53d1\u5e03]\u6309\u94ae\u53d1\u5e03\u60a8\u7684\u7f51\u7ad9\u3002")
									: alert("\u9875\u9762\u4fdd\u5b58\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, b, c) {
							ShowAjaxError(a, b, c)
						}
					})
				})
	},
	mobile_preview_page : function() {
		var a = CurrentIndexId;
		null == a && (a = 0);
		OpenLoadingDialog();
		$.ajax({
					url : getActionPath("GetMobilePreviewUrl", "AdminOperation"),
					dataType : "json",
					contentType : "application/json",
					type : "POST",
					data : stringify({
								index_id : a
							}),
					success : function(a) {
						CloseLoadingDialog();
						if (!0 == a.success) {
							var c = $("#toolbar_qrcode_preview_dialog");
							c.empty();
							$("#toolbar_qrcode_preview_dialog_tmpl").tmpl(null)
									.appendTo(c);
							c.dialog({
										autoOpen : !1,
										resizable : !1,
										modal : !0,
										width : 340,
										title : "\u4e8c\u7ef4\u7801\u9884\u89c8"
									});
							c.dialog("open");
							c.find(".qrcode_preview").qrcode({
										render : $.browser.msie
												? "div"
												: "canvas",
										width : 300,
										height : 300,
										text : a.url
									})
						} else
							ShowActionError(a.error, "admin")
					},
					error : function(a, c, f) {
						ShowAjaxError(a, c, f)
					}
				})
	},
	mobile_store_qrcode : function() {
		var a = $("#toolbar_qrcode_dialog");
		a.empty();
		$("#toolbar_qrcode_dialog_tmpl").tmpl(null).appendTo(a);
		a.dialog({
					autoOpen : !1,
					resizable : !1,
					modal : !0,
					width : 240,
					title : "\u5546\u57ce\u4e8c\u7ef4\u7801"
				});
		a.dialog("open");
		a.find(".qrcode_preview").qrcode({
					render : $.browser.msie ? "div" : "canvas",
					width : 200,
					height : 200,
					text : "http://" + window.location.host
				})
	},
	mobile_recover_page : function() {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u6062\u590d\u9875\u9762\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u4f7f\u7528\u6b64\u524d\u4fdd\u5b58\u7684\u9875\u9762\u8fdb\u884c\u6062\u590d<br>\u5f53\u524d\u8bbe\u8ba1\u7684\u9875\u9762\u5c06\u88ab\u5f53\u524d\u4fdd\u5b58\u7684\u9875\u9762\u66ff\u6362!",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("MobileRecoverStorePage", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? (alert("\u9875\u9762\u6062\u590d\u6210\u529f"), goto_reload())
									: alert("\u9875\u9762\u6062\u590d\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, b, c) {
							ShowAjaxError(a, b, c)
						}
					})
				})
	},
	show_set_default_template : function() {
		OpenLoadingDialog("\u6b63\u5728\u4e3a\u60a8\u7684\u5546\u5e97\u7b2c\u4e00\u6b21\u4f7f\u7528\u505a\u51c6\u5907, \u8bf7\u8010\u5fc3\u7b49\u5019\u4e00\u4f1a...");
		$.ajax({
			url : getActionPath("StoreSetInitTemplate", "Store"),
			dataType : "json",
			contentType : "application/json",
			type : "POST",
			success : function(a) {
				CloseLoadingDialog();
				!0 == a.success
						? alert("\u5546\u5e97\u521d\u59cb\u5316\u6210\u529f!")
						: alert("\u5546\u5e97\u521d\u59cb\u5316\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5");
				a = window.location.href.replace(/[\?&]tmpl\=(\d)+/i, "");
				goto_link(a)
			},
			error : function(a, b, c) {
				ShowAjaxError(a, b, c)
			}
		})
	},
	show_set_template_dialog : function(a) {
		function b(b, e) {
			var d = {};
			d.Belong = e;
			d.Device = a;
			d.First = 0;
			d.Max = 100;
			OpenLoadingDialog();
			$.ajax({
				url : getActionPath("ZcloudTemplateSearch", "SystemOperation"),
				dataType : "json",
				contentType : "application/json",
				type : "POST",
				data : stringify({
							option : d
						}),
				success : function(a) {
					CloseLoadingDialog();
					!0 == a.success
							? (b.empty(), $("#toolbar_template_store_tmpl")
									.tmpl(a.tmpl).appendTo(b), b
									.find(".Template_ImgBox_state_submit")
									.click(function() {
												var a = $(this).attr("tmpl_id");
												c.set_template(a)
											}))
							: ShowActionError(a.error, "admin")
				},
				error : function(a, b, d) {
					ShowAjaxError(a, b, d)
				}
			})
		}
		var c = this;
		$.ajax({
			url : getActionPath("ZcloudTemplateBelongGet", "SystemOperation"),
			dataType : "json",
			contentType : "application/json",
			async : !1,
			type : "POST",
			success : function(a) {
				if (!0 == a.success) {
					var c = $("#toolbar_template_dialog");
					c.empty();
					$("#toolbar_template_dialog_tmpl").tmpl(a).appendTo(c);
					c.dialog({
								autoOpen : !1,
								resizable : !1,
								modal : !0,
								height : $(window).height(),
								position : "center bottom",
								width : 1150,
								title : "\u9009\u62e9\u5546\u5e97\u6a21\u677f",
								buttons : {
									"\u5173\u95ed" : function() {
										c.dialog("close")
									}
								}
							});
					c.find(".Template_Title_list a").click(function() {
						c.find(".Template_Title_list a").removeClass("checked");
						$(this).addClass("checked");
						var a = $(this).attr("belong_id");
						b(c.find(".Template_ImgBox"), a)
					});
					null != a.belong && 0 < a.belong.length
							&& b(c.find(".Template_ImgBox"), a.belong[0].Id);
					c.dialog("open")
				} else
					ShowActionError(a.error, "admin")
			},
			error : function(a, b, d) {
				ShowAjaxError(a, b, d)
			}
		})
	},
	set_template : function(a) {
		ShowConfirmDialog(
				"\u786e\u5b9e\u8981\u4f7f\u7528\u8be5\u6a21\u677f\u5417?<br>\u70b9\u51fb\u786e\u5b9a\u5c06\u4f7f\u7528\u5df2\u9009\u62e9\u6a21\u7248\u7684\u9875\u9762\u66ff\u6362\u5230\u672c\u5546\u5e97,\u5f53\u524d\u8bbe\u8ba1\u7684\u9875\u9762\u5c06\u88ab\u6a21\u7248\u7684\u9875\u9762\u66ff\u6362!<br>\u9009\u62e9\u4f7f\u7528\u6a21\u7248\u4ee5\u540e,\u4e5f\u53ef\u4ee5\u70b9\u51fb\u6062\u590d\u6309\u94ae\u5c06\u9875\u9762\u6062\u590d\u4e3a\u4f7f\u7528\u6a21\u7248\u4e4b\u524d\u6240\u4fdd\u5b58\u7684\u9875\u9762.",
				function() {
					OpenLoadingDialog();
					$.ajax({
						url : getActionPath("StoreSetTemplate", "Store"),
						dataType : "json",
						contentType : "application/json",
						type : "POST",
						data : stringify({
									template_id : a
								}),
						success : function(a) {
							CloseLoadingDialog();
							!0 == a.success
									? (alert("\u8bbe\u7f6e\u6a21\u7248\u6210\u529f"), goto_reload())
									: alert("\u8bbe\u7f6e\u6a21\u7248\u5931\u8d25,\u8bf7\u7a0d\u5019\u91cd\u8bd5")
						},
						error : function(a, c, f) {
							ShowAjaxError(a, c, f)
						}
					})
				})
	},
	general_action : function() {
		var a = this;
		a.show.find(".toolbar #admin_design,.toolbarb #admin_design").click(function() {
					goto_design()
				});
		a.show.find(".toolbar #admin_preview,.toolbarb #admin_preview").click(function() {
					goto_preview()
				});
		a.show.find(".toolbar #admin_backstage,.toolbarb #admin_backstage").click(function() {
					goto_backstage()
				});
		a.show.find(".toolbar #admin_mobile_design,.toolbarb #admin_mobile_design").click(function() {
					goto_mobile_design()
				});
		a.show.find(".toolbar #admin_weixin_design,.toolbarb #admin_weixin_design").click(function() {
					goto_weixin_design()
				});
		a.show.find(".toolbar #admin_static").click(function() {
			var a=getActionPath("Preview","Admin");goto_link(a);
		});
		a.show.find("#admin_password_change").click(function() {
					a.show_change_password_dialog()
				});
		a.show.find("#zhuyun_search").click(function() {
			var b = a.show.find("#zhuyun_search_key").val(), b = "http://zhuyun.cn/Home/Search?key="
					+ encodeURIComponent(b);
			window.open(b)
		});
		a.show.find("input[name=zhuyun_search_key]").keyup(function(b) {
			13 == b.keyCode
					&& (b = a.show.find("#zhuyun_search_key").val(), b = "http://zhuyun.cn/Home/Search?key="
							+ encodeURIComponent(b), window.open(b))
		})
	},
	show_front_design : function() {
		this.front_design_show();
		this.general_action()
	},
	front_design_show : function() {
		var a = this;
		this.show.empty();
		
		$("#toolbar_front_design_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show);
		permissions[permisson_map.RecoverPage]
				|| (a.show.find("#save_page").hide(), a.show
						.find("#recover_page").hide());
		permissions[permisson_map.SetTemplate]
				|| a.show.find("#set_template").hide();
		permissions[permisson_map.StoreDesign]
				|| a.show.find(".toolbar_pagestyle").hide();
		permissions[permisson_map.PageDesign]
				|| a.show.find(".toolbar_plugin").hide();
		a.front_show_page(Constant.STORE_DEVICE_PC, !0);
		a.show.find(".toolbar_pagedesign").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		a.show.find(".toolbar_popup").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		a.show.find(".toolbar_pagestyle").hover(function() {
					a.show.find(".toolbar_style_popup").show()
				}, function() {
					a.show.find(".toolbar_style_popup").hide()
				});
		a.show.find(".toolbar_style_popup").hover(function() {
					a.show.find(".toolbar_style_popup").show()
				}, function() {
					a.show.find(".toolbar_style_popup").hide()
				});
		a.show.find(".toolbar_page-edit").hover(function() {
					a.show.find(".toolbar_edit_popup").show()
				}, function() {
					a.page_editing || a.show.find(".toolbar_edit_popup").hide()
				});
		a.show.find(".toolbar_edit_popup").hover(function() {
					a.show.find(".toolbar_edit_popup").show()
				}, function() {
					a.page_editing || a.show.find(".toolbar_edit_popup").hide()
				});
		a.show.find(".toolbar_plugin1").hover(function() {
					a.show.find(".toolbar_plugin1 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin1 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin1 .toolbar_plugin_popup").hover(function() {
					a.show.find(".toolbar_plugin1 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin1 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin2").hover(function() {
					a.show.find(".toolbar_plugin2 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin2 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin2 .toolbar_plugin_popup").hover(function() {
					a.show.find(".toolbar_plugin2 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin2 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin3").hover(function() {
					a.show.find(".toolbar_plugin3 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin3 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin3 .toolbar_plugin_popup").hover(function() {
					a.show.find(".toolbar_plugin3 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin3 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin4").hover(function() {
					a.show.find(".toolbar_plugin4 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin4 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin4 .toolbar_plugin_popup").hover(function() {
					a.show.find(".toolbar_plugin4 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin4 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin5").hover(function() {
					a.show.find(".toolbar_plugin5 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin5 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar_plugin5 .toolbar_plugin_popup").hover(function() {
					a.show.find(".toolbar_plugin5 .toolbar_plugin_popup")
							.show()
				}, function() {
					a.show.find(".toolbar_plugin5 .toolbar_plugin_popup")
							.hide()
				});
		a.show.find(".toolbar #save_page").click(function() {
					a.save_page()
				});
		a.show.find(".toolbar #recover_page").click(function() {
					a.recover_page()
				});
		a.show.find(".toolbar #set_template").click(function() {
					a.show_set_template_dialog(Constant.STORE_DEVICE_PC)
				})
	},
	front_show_page : function(a, b) {
		var c = this;
		this.pages_edit = new StorePage(null, a, Constant.PAGE_SAVE_LEVEL_EDIT,
				Constant.STORE_PAGE_TYPE_MAIN, function(a) {
					var e = c.show.find("#toolbar_pages_show"), f = {};
					f.Pages = null != a.data ? a.data : [];
					e.empty();
					$("#toolbar_pages_show_tmpl").tmpl(f).appendTo(e);
					b ? permissions[permisson_map.StoreDesign] ? (e
							.find(".toolbar_page").sortable({
								stop : function(b, c) {
									var f = c.item.find("a").attr("page_id"), k = e
											.find(".toolbar_page li")
											.index(c.item)
											+ 2;
									a.move_page(f, k)
								}
							}), c.page_editing ? e.find(".new_page").show() : e
							.find(".toolbar_page").sortable("disable"), e
							.find(".page_link").click(function() {
								if (c.page_editing) {
									if ("true" != $(this).attr("is_home")) {
										var a = $(this).attr("page_id");
										c.edit_store_page(
												Constant.STORE_PAGE_TYPE_MAIN,
												a)
									}
								} else{
//									"true" != $(this).attr("is_home")
//										? (a = $(this).attr("index_id"), goto_design_page(a))
//										: goto_design()
									var a = $(this).attr("open_url");
									goto_design_page(a)
								}
									
							}), e.find(".new_page").click(function() {
						c.page_editing
								&& c.edit_store_page(
										Constant.STORE_PAGE_TYPE_MAIN, -1)
					}))
							: e.find(".page_link").click(function() {
//										if ("true" != $(this).attr("is_home")) {
//											var a = $(this).attr("index_id");
//											goto_design_page(a)
//										} else
//											goto_design()
										var a = $(this).attr("open_url");
										goto_design_page(a);
									})
							: e.find(".page_link").click(function() {
										var a = $(this).attr("open_url")
										goto_preview_page(a)
//										if ("true" != $(this).attr("is_home")) {
//											var a = $(this).attr("index_id");
//											goto_preview_page(a)
//										} else
//											goto_preview()
									})
				});
		this.pages_edit.get_data();
		this.custom_pages_edit = new StorePage(null, a,
				Constant.PAGE_SAVE_LEVEL_EDIT, Constant.STORE_PAGE_TYPE_CUSTOM,
				function(a) {
					var e = c.show.find("#toolbar_custom_page_show"), f = {};
					f.Pages = null != a.data ? a.data : [];
					e.empty();
					$("#toolbar_custom_pages_show_tmpl").tmpl(f).appendTo(e);
					b ? permissions[permisson_map.StoreDesign] ? (e
							.find("#enter_edit").show(), c.page_editing ? (e
							.find(".new_page").show(), e.find("#enter_edit")
							.text("\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f")) : e
							.find("#enter_edit")
							.text("\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f"), e
							.find(".page_link").click(function() {
								if (c.page_editing) {
									var a = $(this).attr("page_id");
									c.edit_store_page(
											Constant.STORE_PAGE_TYPE_CUSTOM, a)
								} else{
//									a = $(this).attr("index_id"), goto_design_page(a)
									var a = $(this).attr("open_url");
									goto_design_page(a);
								}
							}), e.find(".new_page").click(function() {
						c.page_editing
								&& c.edit_store_page(
										Constant.STORE_PAGE_TYPE_CUSTOM, -1)
					}), e.find("#enter_edit").click(function() {
						c.page_editing
								? (c.page_editing = !1, c.show
										.find("#toolbar_pages_show")
										.find(".toolbar_page")
										.sortable("disable"), e
										.find("#enter_edit")
										.text("\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f"), c.show
										.find(".toolbar_edit_popup .new_page")
										.hide(), goto_reload())
								: (c.show.find("#toolbar_pages_show")
										.find(".toolbar_page")
										.sortable("enable"), c.page_editing = !0, e
										.find("#enter_edit")
										.text("\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f"), c.show
										.find(".toolbar_edit_popup .new_page")
										.show())
					}))
							: (e.find("#enter_edit").hide(), e
									.find(".page_link").click(function() {
//												var a = $(this)
//														.attr("index_id");
//												goto_design_page(a)
												var a = $(this).attr("open_url");
												goto_design_page(a);
											}))
							: (e.find("#enter_edit").hide(), e
									.find(".page_link").click(function() {
												var a = $(this)
														.attr("open_url");
												goto_preview_page(a)
											}));
					var n = $("#toolbar_custom_pages_edit_dialog");
					n.find("#dialog_content").empty();
					$("#toolbar_custom_pages_edit_dialog_tmpl").tmpl(f)
							.appendTo(n.find("#dialog_content"));
					n.find("#dialog_content").height($(window).height() - 80);
					e.find("#custom_pages_edit").click(function() {
						n.dialog({
							title : c.page_editing
									? "\u66f4\u591a\u81ea\u5b9a\u4e49\u5185\u9875(\u7f16\u8f91\u6a21\u5f0f)"
									: "\u66f4\u591a\u81ea\u5b9a\u4e49\u5185\u9875",
							autoOpen : !1,
							modal : !0,
							resizable : !1,
							width : 1E3,
							height : $(window).height(),
							position : "center bottom",
							close : function() {
								c.page_editing && goto_reload()
							}
						});
						n.find("#dialog_content").height($(window).height()
								- 80);
						c.page_editing ? n.find("#button_new_page").show() : n
								.find("#button_new_page").hide();
						n.dialog("open");
						n.find("#button_new_page").click(function() {
							c.page_editing
									&& c
											.edit_store_page(
													Constant.STORE_PAGE_TYPE_CUSTOM,
													-1)
						});
						n.find("#button_ok").click(function() {
									n.dialog("close")
								});
						b ? n.find(".page_link").click(function() {
							if (permissions[permisson_map.StoreDesign]
									&& c.page_editing) {
								var a = $(this).attr("page_id");
								c.edit_store_page(
										Constant.STORE_PAGE_TYPE_CUSTOM, a)
							} else{
//								a = $(this).attr("index_id"), goto_design_page(a)
								var a = $(this).attr("open_url");
								goto_design_page(a);
							}
						})
								: n.find(".page_link").click(function() {
											var a = $(this).attr("open_url");
											goto_preview_page(a)
										})
					})
				});
		this.custom_pages_edit.get_data();
		if (b) {
			var f = function() {
				var a = $.extend({}, store_tmpl_data, !0);
				a.HeaderStyle = c.show.find("#toolbar_style_popup_show")
						.find("input[name=header_style]:checked").val();
				a.MajorColor = c.show.find("#toolbar_style_popup_show")
						.find("input[name=major_color]:checked").val();
				a.MinorColor = c.show.find("#toolbar_style_popup_show")
						.find("input[name=minor_color]:checked").val();
				a.BorderStyle = c.show.find("#toolbar_style_popup_show")
						.find("input[name=border_style]:checked").val();
				a.ShowHeader = c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_header]:checked").val();
				a.ShowHeaderAd = c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_header_ad]:checked").val();
				a.ShowNav = c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_nav]:checked").val();
				a.ShowZhuyun = c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_zhuyun]:checked").val();
				a.ShowHelp = c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_help]:checked").val();
				store_info.edit_store_template(a, !1, function() {
							$("link[rel*=style][css_name=css_major]").attr(
									"href",
									getContentPath("Content/Tmpl_"
											+ a.TemplateId + "/css/mainColor_"
											+ a.MajorColor + ".css"));
							$("link[rel*=style][css_name=css_minor]").attr(
									"href",
									getContentPath("Content/Tmpl_"
											+ a.TemplateId
											+ "/css/deputyColor_"
											+ a.MinorColor + ".css"));
							$("link[rel*=style][css_name=css_border]").attr(
									"href",
									getContentPath("Content/Tmpl_"
											+ a.TemplateId
											+ "/css/borderColor_"
											+ a.BorderStyle + ".css"))
						}, null)
			};
			if (permissions[permisson_map.StoreDesign]) {
				var e = $.extend({}, store_tmpl_data, !0);
				e.curr_solution = this.curr_solution;
				c.show.find("#toolbar_style_popup_show").empty();
				$("#toolbar_style_popup_show_tmpl").tmpl(e).appendTo(c.show
						.find("#toolbar_style_popup_show"));
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=header_style]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=major_color]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=minor_color]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=border_style]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_nav]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_header_ad]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_header]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_zhuyun]").click(function() {
									f()
								});
				c.show.find("#toolbar_style_popup_show")
						.find("input[name=show_help]").click(function() {
									f()
								})
			}
		}
	},
	edit_store_page : function(a, b) {
		var c;
		c = a == Constant.STORE_PAGE_TYPE_MAIN
				? this.pages_edit
				: this.custom_pages_edit;
		var f = null;
		if (0 < b) {
			if (f = c.get_page(b), null == f) {
				alert("\u64cd\u4f5c\u53d1\u751f\u9519\u8bef,\u8bf7\u7a0d\u5019\u91cd\u8bd5");
				return
			}
		} else
			f = {
				Name : "",
				Title : "",
				Keyword : "",
				Description : "",
				IsShow : !0,
				Device : "0"
			};
		var e = $("#store_page_edit_dialog");
		e.empty();
		f.store_page_type = a;
		$("#store_page_edit_dialog_tmpl").tmpl(f).appendTo(e);
		
		if(b < 0){			//新增页面
			e.find("#page_url_type").show();
			e.find("#add_page_url").hide();
		}
		
		e.dialog({
					autoOpen : !1,
					resizable : !1,
					modal : !0,
					width : 500,
					title : "\u5546\u5e97\u9875\u9762\u4fe1\u606f\u7f16\u8f91"
				});
		0 >= b ? e.find("#button_delete").hide() : 0 == f.IndexId ? (e
				.find("#button_delete").hide(), e.find("input[name=page_name]")
				.attr("disabled", "disabled")) : e.find("#button_delete")
				.show();
		e.dialog("open");
		e.find("#button_cancel").click(function() {
					e.dialog("close")
				});
		e.find("#button_ok").click(function() {
					var d = {};
					d.Name = e.find("#page_name").val();
					d.Page_url = e.find("#page_url").val();
					d.Title = e.find("#page_title").val();
					d.Keyword = e.find("#page_keyword").val();
					d.Description = e.find("#page_description").val();
					d.Type = a;
					d.IsShow = e.find("input:radio[name=page_is_show]:checked").val();
					d.Device = e.find("input:radio[name=page_device]:checked").val();
					d.IsShow = "false" == d.IsShow ? !1 : !0;
					0 < b ? c.edit_page(b, d, function() {
								e.dialog("close")
							}, null) : c.add_page(d, function() {
								e.dialog("close")
							}, null)
				});
		e.find("#button_delete").click(function() {
			null != f
					&& ShowConfirmDialog(
							"\u786e\u5b9e\u8981\u5220\u9664\u8fd9\u4e2a\u9875\u9762\u5417?<br>\u51fb\u786e\u5b9a\u5c06\u5220\u9664\u8be5\u9875\u9762\u4ee5\u53ca\u5176\u4e2d\u7684\u6240\u6709\u63d2\u4ef6!",
							function() {
								c.delete_page(b);
								e.dialog("close")
							})
		});
		
		e.find("input:radio[name=url_type]").click(function(){
			var val = $(this).val();
			if(val == 0){
				e.find("#add_page_url").hide();
			}else {
				e.find("#add_page_url").show();
			}
		});
		
	},
	show_front_preview : function() {
		this.front_preview_show();
		this.general_action()
	},
	front_preview_show : function() {
		var a = this;
		this.show.empty();
		$("#toolbar_front_preview_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show);
		permissions[permisson_map.BuildStatic]
				|| a.show.find("#build_static_li").hide();
		a.front_show_page(Constant.STORE_DEVICE_PC, !1);
		a.show.find(".toolbar_pagedesign").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		a.show.find(".toolbar_popup").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		a.show.find(".toolbar_page-edit").hover(function() {
					a.show.find(".toolbar_edit_popup").show()
				}, function() {
					a.page_editing || a.show.find(".toolbar_edit_popup").hide()
				});
		a.show.find(".toolbar_edit_popup").hover(function() {
					a.show.find(".toolbar_edit_popup").show()
				}, function() {
					a.page_editing || a.show.find(".toolbar_edit_popup").hide()
				});
		a.show.find(".toolbar #build_static").click(function() {
					a.build_static()
				})
	},
	show_front_mobile : function() {
		this.front_mobile_show();
		this.general_action()
	},
	front_mobile_show : function() {
		function a() {
			var a = $.extend({}, store_tmpl_data, !0);
			a.MainStyle = b.show.find("#toolbar_style_popup_show")
					.find("input[name=main_style]:checked").val();
			a.MajorColor = b.show.find("#toolbar_style_popup_show")
					.find("input[name=major_color]:checked").val();
			a.MinorColor = b.show.find("#toolbar_style_popup_show")
					.find("input[name=minor_color]:checked").val();
			a.BorderStyle = b.show.find("#toolbar_style_popup_show")
					.find("input[name=border_style]:checked").val();
			store_info.edit_store_template(a, !1, function() {
						$("link[rel*=style][css_name=css_major]").attr(
								"href",
								getContentPath("Content/Mobile/css/mainColor_"
										+ a.MainStyle + "_" + a.MajorColor
										+ ".css"));
						$("link[rel*=style][css_name=css_minor]")
								.attr(
										"href",
										getContentPath("Content/Mobile/css/deputyColor_"
												+ a.MainStyle
												+ "_"
												+ a.MinorColor + ".css"));
						$("link[rel*=style][css_name=css_border]")
								.attr(
										"href",
										getContentPath("Content/Mobile/css/borderColor_"
												+ a.MainStyle
												+ "_"
												+ a.BorderStyle + ".css"))
					}, null)
		}
		var b = this;
		this.show.empty();
		$("#toolbar_front_mobile_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show);
		permissions[permisson_map.RecoverPage]
				|| (b.show.find("#save_page").hide(), b.show
						.find("#recover_page").hide());
		permissions[permisson_map.SetTemplate]
				|| b.show.find("#set_template").hide();
		permissions[permisson_map.BuildStatic]
				|| b.show.find("#build_static").hide();
		permissions[permisson_map.StoreDesign]
				|| b.show.find(".toolbar_pagestyle").hide();
		permissions[permisson_map.PageDesign]
				|| b.show.find(".toolbar_plugin").hide();
		b.front_show_page(Constant.STORE_DEVICE_MOBILE, !0);
		b.show.find(".toolbar_pagedesign").hover(function() {
					b.show.find(".toolbar_popup").show()
				}, function() {
					b.show.find(".toolbar_popup").hide()
				});
		b.show.find(".toolbar_popup").hover(function() {
					b.show.find(".toolbar_popup").show()
				}, function() {
					b.show.find(".toolbar_popup").hide()
				});
		b.show.find(".toolbar_pagestyle").hover(function() {
					b.show.find(".toolbar_style_popup").show()
				}, function() {
					b.show.find(".toolbar_style_popup").hide()
				});
		b.show.find(".toolbar #save_page").click(function() {
					b.mobile_save_page()
				});
		b.show.find(".toolbar #preview_page").click(function() {
					b.mobile_preview_page()
				});
		b.show.find(".toolbar #store_qrcode").click(function() {
					b.mobile_store_qrcode()
				});
		b.show.find(".toolbar #recover_page").click(function() {
					b.mobile_recover_page()
				});
		b.show.find(".toolbar #set_template").click(function() {
					b.show_set_template_dialog(Constant.STORE_DEVICE_MOBILE)
				});
		b.show.find(".toolbar #build_static").click(function() {
					b.mobile_build_static()
				});
		if (permissions[permisson_map.StoreDesign]) {
			var c = $.extend({}, store_tmpl_data, !0);
			b.show.find("#toolbar_style_popup_show").empty();
			$("#toolbar_style_popup_show_mobile_tmpl").tmpl(c).appendTo(b.show
					.find("#toolbar_style_popup_show"));
			b.show.find("#toolbar_style_popup_show")
					.find("input[name=main_style]").click(function() {
								a()
							});
			b.show.find("#toolbar_style_popup_show")
					.find("input[name=major_color]").click(function() {
								a()
							});
			b.show.find("#toolbar_style_popup_show")
					.find("input[name=minor_color]").click(function() {
								a()
							});
			b.show.find("#toolbar_style_popup_show")
					.find("input[name=border_style]").click(function() {
								a()
							})
		}
	},
	show_front_weixin : function() {
		this.front_weixin_show();
		this.general_action()
	},
	front_weixin_show : function() {
		var a = this;
		this.show.empty();
		$("#toolbar_front_weixin_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show);
		permissions[permisson_map.EditWeixin]
				|| (a.show.find("#weixin_interface").hide(), a.show
						.find("#weixin_app").hide());
		a.show.find(".toolbar_pagedesign").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		a.show.find(".toolbar_popup").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		a.show.find(".toolbar #weixin_interface").click(function() {
					a.weixin_interface_edit()
				});
		a.show.find(".toolbar #weixin_app").click(function() {
					a.weixin_app_edit()
				})
	},
	weixin_interface_edit : function() {
		OpenLoadingDialog();
		$.ajax({
			url : getActionPath("GetStoreSetWeixin", "AdminOperation"),
			dataType : "json",
			contentType : "application/json",
			type : "POST",
			success : function(a) {
				CloseLoadingDialog();
				if (!0 == a.success) {
					var b = $("#weixini_interface_edit_dialog");
					b.empty();
					a.weixin.WeixinIfUrl = "http://" + window.location.host
							+ "/Weixin/Interface";
					$("#weixini_interface_edit_dialog_tmpl").tmpl(a.weixin)
							.appendTo(b);
					b.dialog({
								title : "\u63a5\u53e3\u914d\u7f6e\u4fe1\u606f",
								modal : !0,
								width : 500
							});
					b.find("#if_change_token").click(function() {
						OpenLoadingDialog();
						$.ajax({
									url : getActionPath(
											"ChangeStoreSetWeixinToken",
											"AdminOperation"),
									dataType : "json",
									contentType : "application/json",
									type : "POST",
									success : function(a) {
										CloseLoadingDialog();
										!0 == a.success
												? b
														.find("input[name=if_token]")
														.val(a.token)
												: ShowActionError(a.error,
														"admin")
									},
									error : function(a, b, e) {
										ShowAjaxError(a, b, e)
									}
								})
					});
					b.dialog("open")
				} else
					ShowActionError(a.error, "admin")
			},
			error : function(a, b, c) {
				ShowAjaxError(a, b, c)
			}
		})
	},
	weixin_app_edit : function() {
		OpenLoadingDialog();
		$.ajax({
			url : getActionPath("GetStoreSetWeixin", "AdminOperation"),
			dataType : "json",
			contentType : "application/json",
			type : "POST",
			success : function(a) {
				CloseLoadingDialog();
				if (!0 == a.success) {
					var b = $("#weixini_app_edit_dialog");
					b.empty();
					a.weixin.WeixinIfUrl = "http://" + window.location.host
							+ "/Weixin/Interface";
					$("#weixini_app_edit_dialog_tmpl").tmpl(a.weixin)
							.appendTo(b);
					b.dialog({
								title : "\u5f00\u53d1\u8005\u51ed\u636e",
								modal : !0,
								width : 500
							});
					b.find("#button_ok").click(function() {
						a.weixin.WeixinAppId = $.trim(b
								.find("input[name=if_app_id]").val());
						a.weixin.WeixinAppSecret = $.trim(b
								.find("input[name=if_app_secret]").val());
						CheckInput.IsEmpty(a.weixin.WeixinAppId)
								? alert("\u8bf7\u8f93\u5165appID")
								: a.weixin.WeixinAppId.length > Constant.INPUT_WEIXIN_APP_ID_MAX
										? alert("appID\u4e0d\u80fd\u8d85\u8fc7"
												+ Constant.INPUT_WEIXIN_APP_ID_MAX
												+ "\u5b57")
										: CheckInput
												.IsEmpty(a.weixin.WeixinAppSecret)
												? alert("\u8bf7\u8f93\u5165appsecret")
												: a.weixin.WeixinAppSecret.length > Constant.INPUT_WEIXIN_APP_SECRET_MAX
														? alert("appsecret\u4e0d\u80fd\u8d85\u8fc7"
																+ Constant.INPUT_WEIXIN_APP_SECRET_MAX
																+ "\u5b57")
														: (OpenLoadingDialog(), $
																.ajax({
																	url : getActionPath(
																			"UpdateStoreSetWeixin",
																			"AdminOperation"),
																	dataType : "json",
																	contentType : "application/json",
																	type : "POST",
																	data : stringify(
																			{
																				weixin : a.weixin
																			}),
																	success : function(
																			a) {
																		CloseLoadingDialog();
																		!0 == a.success
																				? b
																						.dialog("close")
																				: ShowActionError(
																						a.error,
																						"admin")
																	},
																	error : function(
																			a,
																			b,
																			e) {
																		ShowAjaxError(
																				a,
																				b,
																				e)
																	}
																}))
					});
					b.find("#button_cancel").click(function() {
								b.dialog("close")
							});
					b.dialog("open")
				} else
					ShowActionError(a.error, "admin")
			},
			error : function(a, b, c) {
				ShowAjaxError(a, b, c)
			}
		})
	},
	show_back : function() {
		this.back_show();
		this.general_action()
	},
	back_show : function() {
		var a = this;
		this.show.empty();
		$("#toolbar_back_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show);
		permissions[permisson_map.StoreDesign]
				|| permissions[permisson_map.BuildStatic]
				|| permissions[permisson_map.RecoverPage]
				|| permissions[permisson_map.PageDesign]
				|| permissions[permisson_map.PageContent]
				|| (a.show.find("#admin_design_li").hide(), a.show
						.find("#admin_preview_li").hide());
		this.show.find(".toolbar_pagedesign").hover(function() {
			
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		this.show.find(".toolbar_popup").hover(function() {
					a.show.find(".toolbar_popup").show()
				}, function() {
					a.show.find(".toolbar_popup").hide()
				});
		this.show.find(".toolbar_state").hover(function() {
					a.show.find(".toolbar_state_popup").show()
				}, function() {
					a.show.find(".toolbar_state_popup").hide()
				});
		this.show.find(".toolbar_state_popup").hover(function() {
					a.show.find(".toolbar_state_popup").show()
				}, function() {
					a.show.find(".toolbar_state_popup").hide()
				});
		this.show.find(".toolbar_shop").hover(function() {
					a.show.find(".toolbar_shop_popup").show()
				}, function() {
					a.show.find(".toolbar_shop_popup").hide()
				});
		this.show.find(".toolbar_shop_popup").hover(function() {
					a.show.find(".toolbar_shop_popup").show()
				}, function() {
					a.show.find(".toolbar_shop_popup").hide()
				})
	},
	show_change_password_dialog : function() {
		var a = this;
		$("#password_change_dialog").empty();
		$("#password_change_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo($("#password_change_dialog"));
		$("#password_change_dialog").find("#OldPassword").keydown(function(b) {
			13 == b.keyCode && a.change_password()
					&& $("#password_change_dialog").dialog("close")
		});
		$("#password_change_dialog").find("#NewPassword").keydown(function(b) {
			13 == b.keyCode && a.change_password()
					&& $("#password_change_dialog").dialog("close")
		});
		$("#password_change_dialog").find("#ConfirmPassword").keydown(
				function(b) {
					13 == b.keyCode && a.change_password()
							&& $("#password_change_dialog").dialog("close")
				});
		$("#password_change_dialog").dialog({
					title : "\u5bc6\u7801\u4fee\u6539",
					modal : !0,
					width : 550,
					buttons : {
						"\u4fdd\u5b58" : function() {
							a.change_password() && $(this).dialog("close")
						},
						"\u53d6\u6d88" : function() {
							$(this).dialog("close")
						}
					}
				})
	},
	change_password : function() {
		var a = !1, b = {};
		b.OldPassword = $("#password_change_dialog").find("#OldPassword").val();
		b.NewPassword = $("#password_change_dialog").find("#NewPassword").val();
		b.ConfirmPassword = $("#password_change_dialog")
				.find("#ConfirmPassword").val();
		if (null == b.OldPassword || "" == b.OldPassword)
			return alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"), !1;
		if (null == b.NewPassword || "" == b.NewPassword)
			return alert("\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"), !1;
		if (!CheckInput.IsPassword(b.NewPassword))
			return alert("\u65b0\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"), !1;
		if (null == b.ConfirmPassword || "" == b.ConfirmPassword)
			return alert("\u786e\u8ba4\u5bc6\u7801\u786e\u8ba4\u4e0d\u80fd\u4e3a\u7a7a"), !1;
		if (!CheckInput.IsPassword(b.ConfirmPassword))
			return alert("\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"), !1;
		if (b.ConfirmPassword != b.NewPassword)
			return alert("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"), !1;
		$.ajax({
			url : getActionPath("ChangePassword", "AdminOperation"),
			dataType : "json",
			contentType : "application/json",
			type : "POST",
			data : stringify({
						password : b
					}),
			async : !1,
			success : function(b) {
				!0 == b.success
						? (a = !0, alert("\u5bc6\u7801\u4fee\u6539\u6210\u529f\u8bf7\u7262\u8bb0\u60a8\u7684\u65b0\u5bc6\u7801"))
						: (a = !1, ShowActionError(b.error, "admin"))
			},
			error : function(b, f, e) {
				a = !1;
				ShowAjaxError(b, f, e)
			}
		});
		return a
	},
	get_shop_newstatus : function(a) {
		this.get_store_status(a, function(a) {
					$("#toolbar_shop_popup").empty();
					$("#toolbar_shop_popup_tmpl").tmpl(a)
							.appendTo($("#toolbar_shop_popup"));
					$("#top_store_newstatus").empty();
					$("#toolbar_shop_newstatus_tmpl").tmpl(a)
							.appendTo($("#top_store_newstatus"))
				})
	},
	get_store_status : function(a, b) {
		
		var c = this;
		var dd =a;
//		alert(c+":"+c.store_status+":"+a+":"+c.store_status_call.length)
		null == c.store_status || a
				? (null != b && c.store_status_call.push(b), 1 >= c.store_status_call.length
						&& ($.ajax({
							url : getActionPath("GetStoreNewStatus","AdminOperation"),
							dataType : "json",
							contentType : "application/json",
							type : "POST",
							success : function(a) {
								if (null != a.id && "" != $.trim(a.id)) {
									var b = $.cookie.json;
									$.cookie.json = !1;
									null == $.cookie("ASP.NET_SessionId")
											&& $.cookie("ASP.NET_SessionId", $
															.trim(a.id), {
														path : "/"
													});
//													alert($.cookie("ASP.NET_SessionId"))
									$.cookie.json = b
								}
								
								if (!0 == a.success) {
									if (OperatorName = a.name, permissions = permissions_get(
											a.permissions,
											Constant.SYS_PERMISSIONS_MAX), a.status_info.EndTime = jsonTime(a.status_info.EndTime), a.status_info.HaveTime = GetDateDiff(
											new Date, a.status_info.EndTime,
											"day")
											+ 1, c.store_status = $.extend(!0,
											{}, a.status_info), 0 < c.store_status_call.length) {
										for (a = 0; a < c.store_status_call.length; a++){
//											alert(c.store_status_call[a])
											c.store_status_call[a](c.store_status);
										}
										c.store_status_call = []
									}
								} else
									ShowActionError(a.error, "admin")
							},
							error : function(a, b, d) {
								
								ShowAjaxError(a, b, d)
							}
						})))
				: null != b && b(c.store_status)
	}
};
var SubToolbar = function(a, b) {
	this.show = $(a);
	this.bar_type = b;
	this.account_data = this.pages_edit = null;
	this.page_editing = !1;
	this.curr_solution = -1;
	this.store_status = null;
	this.store_status_call = []
};
SubToolbar.prototype = {
	show_toolbar : function() {
		var a = this;
		a.get_store_sub_status(!0, function() {
					switch (a.bar_type) {
						case 0 :
							a.show_back()
					}
					a.show.scrollFixed({
								fixed : "left"
							})
				})
	},
	general_action : function() {
		var a = this;
		a.show.find("#admin_password_change").click(function() {
					a.show_change_password_dialog()
				});
		a.show.find("#zhuyun_search").click(function() {
			var b = a.show.find("#zhuyun_search_key").val(), b = "http://zhuyun.cn/Home/Search?key="
					+ encodeURIComponent(b);
			window.open(b)
		});
		a.show.find("input[name=zhuyun_search_key]").keyup(function(b) {
			13 == b.keyCode
					&& (b = a.show.find("#zhuyun_search_key").val(), b = "http://zhuyun.cn/Home/Search?key="
							+ encodeURIComponent(b), window.open(b))
		})
	},
	front_design_show : function() {
		this.show.empty();
		$("#toolbar_front_design_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show)
	},
	show_back : function() {
		this.back_show();
		this.general_action()
	},
	back_show : function() {
		var a = this;
		this.show.empty();
		$("#sub_toolbar_back_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo(this.show);
		a.get_shop_newstatus(!1);
		this.show.find(".toolbar_state").hover(function() {
					a.show.find(".toolbar_state_popup").show()
				}, function() {
					a.show.find(".toolbar_state_popup").hide()
				});
		this.show.find(".toolbar_state_popup").hover(function() {
					a.show.find(".toolbar_state_popup").show()
				}, function() {
					a.show.find(".toolbar_state_popup").hide()
				})
	},
	show_change_password_dialog : function() {
		var a = this;
		$("#password_change_dialog").empty();
		$("#password_change_tmpl").tmpl({
					OperatorName : OperatorName
				}).appendTo($("#password_change_dialog"));
		$("#password_change_dialog").find("#OldPassword").keydown(function(b) {
			13 == b.keyCode && a.change_password()
					&& $("#password_change_dialog").dialog("close")
		});
		$("#password_change_dialog").find("#NewPassword").keydown(function(b) {
			13 == b.keyCode && a.change_password()
					&& $("#password_change_dialog").dialog("close")
		});
		$("#password_change_dialog").find("#ConfirmPassword").keydown(
				function(b) {
					13 == b.keyCode && a.change_password()
							&& $("#password_change_dialog").dialog("close")
				});
		$("#password_change_dialog").dialog({
					title : "\u5bc6\u7801\u4fee\u6539",
					modal : !0,
					width : 550,
					buttons : {
						"\u4fdd\u5b58" : function() {
							a.change_password() && $(this).dialog("close")
						},
						"\u53d6\u6d88" : function() {
							$(this).dialog("close")
						}
					}
				})
	},
	change_password : function() {
		var a = !1, b, c, f;
		b = $("#password_change_dialog").find("#OldPassword").val();
		c = $("#password_change_dialog").find("#NewPassword").val();
		f = $("#password_change_dialog").find("#ConfirmPassword").val();
		if (null == b || "" == b)
			return alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"), !1;
		if (null == c || "" == c)
			return alert("\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"), !1;
		if (!CheckInput.IsPassword(c))
			return alert("\u65b0\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"), !1;
		if (null == f || "" == f)
			return alert("\u786e\u8ba4\u5bc6\u7801\u786e\u8ba4\u4e0d\u80fd\u4e3a\u7a7a"), !1;
		if (!CheckInput.IsPassword(f))
			return alert("\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"), !1;
		if (f != c)
			return alert("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"), !1;
		$.ajax({
			url : getActionPath("ChangePassword", "AdminSubOperation"),
			dataType : "json",
			contentType : "application/json",
			type : "POST",
			data : stringify({
						old_password : b,
						new_password : c
					}),
			async : !1,
			success : function(b) {
				!0 == b.success
						? (a = !0, alert("\u5bc6\u7801\u4fee\u6539\u6210\u529f\u8bf7\u7262\u8bb0\u60a8\u7684\u65b0\u5bc6\u7801"))
						: (a = !1, ShowActionError(b.error, "adminsub"))
			},
			error : function(b, d, c) {
				a = !1;
				ShowAjaxError(b, d, c)
			}
		});
		return a
	},
	get_shop_newstatus : function(a) {
		this.get_store_sub_status(a, function(a) {
					$("#top_store_newstatus").empty();
					$("#toolbar_shop_newstatus_tmpl").tmpl(a)
							.appendTo($("#top_store_newstatus"))
				})
	},
	get_store_sub_status : function(a, b) {
		var c = this;
		null == c.store_status || a
				? (null != b && c.store_status_call.push(b), 1 >= c.store_status_call.length
						&& $.ajax({
							url : getActionPath("GetStoreSubNewStatus",
									"AdminSubOperation"),
							dataType : "json",
							contentType : "application/json",
							type : "POST",
							success : function(a) {
								if (null != a.id && "" != $.trim(a.id)) {
									var b = $.cookie.json;
									$.cookie.json = !1;
									null == $.cookie("ASP.NET_SessionId")
											&& $.cookie("ASP.NET_SessionId", $
															.trim(a.id), {
														path : "/"
													});
									$.cookie.json = b
								}
								if (!0 == a.success) {
									if (OperatorName = a.name, a.status_info.EndTime = jsonTime(a.status_info.EndTime), a.status_info.HaveTime = GetDateDiff(
											new Date, a.status_info.EndTime,
											"day")
											+ 1, c.store_status = $.extend(!0,
											{}, a.status_info), 0 < c.store_status_call.length) {
										for (a = 0; a < c.store_status_call.length; a++)
											c.store_status_call[a](c.store_status);
										c.store_status_call = []
									}
								} else
									ShowActionError(a.error, "adminsub")
							},
							error : function(a, b, d) {
								ShowAjaxError(a, b, d)
							}
						}))
				: null != b && b(c.store_status)
	}
};
(function(a) {
	var b = {
		init : function(b) {
			b = a.extend(!0, {
						set_width : !1,
						set_height : !1,
						horizontalScroll : !1,
						scrollInertia : 950,
						mouseWheel : !0,
						mouseWheelPixels : "auto",
						autoDraggerLength : !0,
						autoHideScrollbar : !1,
						alwaysShowScrollbar : !1,
						snapAmount : null,
						snapOffset : 0,
						scrollButtons : {
							enable : !1,
							scrollType : "continuous",
							scrollSpeed : "auto",
							scrollAmount : 40
						},
						advanced : {
							updateOnBrowserResize : !0,
							updateOnContentResize : !1,
							autoExpandHorizontalScroll : !1,
							autoScrollOnFocus : !0,
							normalizeMouseWheelDelta : !1
						},
						contentTouchScroll : !0,
						callbacks : {
							onScrollStart : function() {
							},
							onScroll : function() {
							},
							onTotalScroll : function() {
							},
							onTotalScrollBack : function() {
							},
							onTotalScrollOffset : 0,
							onTotalScrollBackOffset : 0,
							whileScrolling : function() {
							}
						},
						theme : "light"
					}, b);
			return this.each(function() {
				var d = a(this);
				b.set_width && d.css("width", b.set_width);
				b.set_height && d.css("height", b.set_height);
				if (a(document).data("mCustomScrollbar-index")) {
					var c = parseInt(a(document).data("mCustomScrollbar-index"));
					a(document).data("mCustomScrollbar-index", c + 1)
				} else
					a(document).data("mCustomScrollbar-index", "1");
				d
						.wrapInner("<div class='mCustomScrollBox mCS-"
								+ b.theme
								+ "' id='mCSB_"
								+ a(document).data("mCustomScrollbar-index")
								+ "' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />")
						.addClass("mCustomScrollbar _mCS_"
								+ a(document).data("mCustomScrollbar-index"));
				var f = d.children(".mCustomScrollBox");
				b.horizontalScroll
						? (f
								.addClass("mCSB_horizontal")
								.wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"), c = f
								.children(".mCSB_h_wrapper"), c
								.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />")
								.children(".mCSB_container").css({
											width : c.children().outerWidth(),
											position : "relative"
										}).unwrap())
						: f
								.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");
				var n = f.children(".mCSB_container");
				a.support.touch && n.addClass("mCS_touch");
				n
						.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");
				var c = f.children(".mCSB_scrollTools"), r = c
						.children(".mCSB_draggerContainer")
						.children(".mCSB_dragger");
				b.horizontalScroll ? r.data("minDraggerWidth", r.width()) : r
						.data("minDraggerHeight", r.height());
				b.scrollButtons.enable
						&& (b.horizontalScroll
								? c
										.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>")
										.append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>")
								: c
										.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>")
										.append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>"));
				f.bind("scroll", function() {
							d.is(".mCS_disabled")
									|| f.scrollTop(0).scrollLeft(0)
						});
				d.data({
					mCS_Init : !0,
					mCustomScrollbarIndex : a(document)
							.data("mCustomScrollbar-index"),
					horizontalScroll : b.horizontalScroll,
					scrollInertia : b.scrollInertia,
					scrollEasing : "mcsEaseOut",
					mouseWheel : b.mouseWheel,
					mouseWheelPixels : b.mouseWheelPixels,
					autoDraggerLength : b.autoDraggerLength,
					autoHideScrollbar : b.autoHideScrollbar,
					alwaysShowScrollbar : b.alwaysShowScrollbar,
					snapAmount : b.snapAmount,
					snapOffset : b.snapOffset,
					scrollButtons_enable : b.scrollButtons.enable,
					scrollButtons_scrollType : b.scrollButtons.scrollType,
					scrollButtons_scrollSpeed : b.scrollButtons.scrollSpeed,
					scrollButtons_scrollAmount : b.scrollButtons.scrollAmount,
					autoExpandHorizontalScroll : b.advanced.autoExpandHorizontalScroll,
					autoScrollOnFocus : b.advanced.autoScrollOnFocus,
					normalizeMouseWheelDelta : b.advanced.normalizeMouseWheelDelta,
					contentTouchScroll : b.contentTouchScroll,
					onScrollStart_Callback : b.callbacks.onScrollStart,
					onScroll_Callback : b.callbacks.onScroll,
					onTotalScroll_Callback : b.callbacks.onTotalScroll,
					onTotalScrollBack_Callback : b.callbacks.onTotalScrollBack,
					onTotalScroll_Offset : b.callbacks.onTotalScrollOffset,
					onTotalScrollBack_Offset : b.callbacks.onTotalScrollBackOffset,
					whileScrolling_Callback : b.callbacks.whileScrolling,
					bindEvent_scrollbar_drag : !1,
					bindEvent_content_touch : !1,
					bindEvent_scrollbar_click : !1,
					bindEvent_mousewheel : !1,
					bindEvent_buttonsContinuous_y : !1,
					bindEvent_buttonsContinuous_x : !1,
					bindEvent_buttonsPixels_y : !1,
					bindEvent_buttonsPixels_x : !1,
					bindEvent_focusin : !1,
					bindEvent_autoHideScrollbar : !1,
					mCSB_buttonScrollRight : !1,
					mCSB_buttonScrollLeft : !1,
					mCSB_buttonScrollDown : !1,
					mCSB_buttonScrollUp : !1
				});
				if (b.horizontalScroll)
					"none" === d.css("max-width")
							|| b.advanced.updateOnContentResize
							|| (b.advanced.updateOnContentResize = !0);
				else if ("none" !== d.css("max-height")) {
					var h = !1, c = parseInt(d.css("max-height"));
					0 <= d.css("max-height").indexOf("%")
							&& (h = c, c = d.parent().height() * h / 100);
					d.css("overflow", "hidden");
					f.css("max-height", c)
				}
				d.mCustomScrollbar("update");
				if (b.advanced.updateOnBrowserResize) {
					var p, g = a(window).width(), l = a(window).height();
					a(window).bind("resize." + d.data("mCustomScrollbarIndex"),
							function() {
								p && clearTimeout(p);
								p = setTimeout(function() {
									if (!d.is(".mCS_disabled")
											&& !d.is(".mCS_destroyed")) {
										var b = a(window).width(), c = a(window)
												.height();
										if (g !== b || l !== c)
											"none" !== d.css("max-height")
													&& h
													&& f.css("max-height", d
																	.parent()
																	.height()
																	* h / 100), d
													.mCustomScrollbar("update"), g = b, l = c
									}
								}, 150)
							})
				}
				if (b.advanced.updateOnContentResize) {
					var t = b.horizontalScroll ? n.outerWidth() : n
							.outerHeight();
					setInterval(function() {
						if (b.horizontalScroll) {
							b.advanced.autoExpandHorizontalScroll
									&& n
											.css({
														position : "absolute",
														width : "auto"
													})
											.wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />")
											.css({
														width : n.outerWidth(),
														position : "relative"
													}).unwrap();
							var a = n.outerWidth()
						} else
							a = n.outerHeight();
						a != t && (d.mCustomScrollbar("update"), t = a)
					}, 300)
				}
			})
		},
		update : function() {
			var b = a(this), d = b.children(".mCustomScrollBox"), c = d
					.children(".mCSB_container");
			c.removeClass("mCS_no_scrollbar");
			b.removeClass("mCS_disabled mCS_destroyed");
			d.scrollTop(0).scrollLeft(0);
			var f = d.children(".mCSB_scrollTools"), n = f
					.children(".mCSB_draggerContainer"), r = n
					.children(".mCSB_dragger");
			if (b.data("horizontalScroll")) {
				var h = f.children(".mCSB_buttonLeft"), p = f
						.children(".mCSB_buttonRight"), g = d.width();
				b.data("autoExpandHorizontalScroll")
						&& c
								.css({
											position : "absolute",
											width : "auto"
										})
								.wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />")
								.css({
											width : c.outerWidth(),
											position : "relative"
										}).unwrap();
				var l = c.outerWidth()
			} else
				var t = f.children(".mCSB_buttonUp"), s = f
						.children(".mCSB_buttonDown"), v = d.height(), A = c
						.outerHeight();
			A > v && !b.data("horizontalScroll")
					? (f.css("display", "block"), g = n.height(), b
							.data("autoDraggerLength")
							&& (l = Math.round(v / A * g), f = r
									.data("minDraggerHeight"), l <= f ? r.css({
										height : f
									}) : l >= g - 10 ? r.css({
										height : g - 10
									}) : r.css({
										height : l
									}), r.children(".mCSB_dragger_bar").css({
										"line-height" : r.height() + "px"
									})), l = r.height(), b.data("scrollAmount",
							(A - v) / (g - l)).mCustomScrollbar("scrolling", d,
							c, n, r, t, s, h, p), d = Math
							.abs(c.position().top), b.mCustomScrollbar(
							"scrollTo", d, {
								scrollInertia : 0,
								trigger : "internal"
							}))
					: l > g && b.data("horizontalScroll") ? (f.css("display",
							"block"), v = n.width(), b
							.data("autoDraggerLength")
							&& (A = Math.round(g / l * v), f = r
									.data("minDraggerWidth"), A <= f ? r.css({
										width : f
									}) : A >= v - 10 ? r.css({
										width : v - 10
									}) : r.css({
										width : A
									})), A = r.width(), b.data("scrollAmount",
							(l - g) / (v - A)).mCustomScrollbar("scrolling", d,
							c, n, r, t, s, h, p), d = Math
							.abs(c.position().left), b.mCustomScrollbar(
							"scrollTo", d, {
								scrollInertia : 0,
								trigger : "internal"
							})) : (d.unbind("mousewheel focusin"), b
							.data("horizontalScroll")
							? r.add(c).css("left", 0)
							: r.add(c).css("top", 0), b
							.data("alwaysShowScrollbar") ? b
							.data("horizontalScroll") ? b
							.data("horizontalScroll")
							&& r.css({
										width : n.width()
									}) : r.css({
								height : n.height()
							}) : (f.css("display", "none"), c
							.addClass("mCS_no_scrollbar")), b.data({
								bindEvent_mousewheel : !1,
								bindEvent_focusin : !1
							}))
		},
		scrolling : function(b, d, f, k, n, r, h, p) {
			function g(a, b, d, c) {
				l.data("horizontalScroll") ? l.mCustomScrollbar("scrollTo", k
								.position().left
								- b + c, {
							moveDragger : !0,
							trigger : "internal"
						}) : l.mCustomScrollbar("scrollTo", k.position().top
								- a + d, {
							moveDragger : !0,
							trigger : "internal"
						})
			}
			var l = a(this);
			if (!l.data("bindEvent_scrollbar_drag")) {
				var t, s, v, A, w;
				a.support.pointer
						? (v = "pointerdown", A = "pointermove", w = "pointerup")
						: a.support.msPointer
								&& (v = "MSPointerDown", A = "MSPointerMove", w = "MSPointerUp");
				a.support.pointer || a.support.msPointer ? (k.bind(v, function(
								b) {
							b.preventDefault();
							l.data({
										on_drag : !0
									});
							k.addClass("mCSB_dragger_onDrag");
							var d = a(this), c = d.offset(), e = b.originalEvent.pageX
									- c.left;
							b = b.originalEvent.pageY - c.top;
							e < d.width() && 0 < e && b < d.height() && 0 < b
									&& (t = b, s = e)
						}), a(document).bind(
						A + "." + l.data("mCustomScrollbarIndex"), function(a) {
							a.preventDefault();
							if (l.data("on_drag")) {
								var b = k.offset();
								g(t, s, a.originalEvent.pageY - b.top,
										a.originalEvent.pageX - b.left)
							}
						}).bind(w + "." + l.data("mCustomScrollbarIndex"),
						function(a) {
							l.data({
										on_drag : !1
									});
							k.removeClass("mCSB_dragger_onDrag")
						}))
						: (k.bind("mousedown touchstart", function(b) {
							b.preventDefault();
							b.stopImmediatePropagation();
							var d = a(this), c = d.offset(), e;
							"touchstart" === b.type
									? b = b.originalEvent.touches[0]
											|| b.originalEvent.changedTouches[0]
									: (l.data({
												on_drag : !0
											}), k
											.addClass("mCSB_dragger_onDrag"));
							e = b.pageX - c.left;
							c = b.pageY - c.top;
							e < d.width() && 0 < e && c < d.height() && 0 < c
									&& (t = c, s = e)
						}).bind("touchmove", function(b) {
							b.preventDefault();
							b.stopImmediatePropagation();
							b = b.originalEvent.touches[0]
									|| b.originalEvent.changedTouches[0];
							var d = a(this).offset();
							g(t, s, b.pageY - d.top, b.pageX - d.left)
						}), a(document).bind(
								"mousemove." + l.data("mCustomScrollbarIndex"),
								function(a) {
									if (l.data("on_drag")) {
										var b = k.offset();
										g(t, s, a.pageY - b.top, a.pageX
														- b.left)
									}
								}).bind(
								"mouseup." + l.data("mCustomScrollbarIndex"),
								function(a) {
									l.data({
												on_drag : !1
											});
									k.removeClass("mCSB_dragger_onDrag")
								}));
				l.data({
							bindEvent_scrollbar_drag : !0
						})
			}
			if (a.support.touch && l.data("contentTouchScroll")
					&& !l.data("bindEvent_content_touch")) {
				var x, z, D, M, J, q, N;
				d.bind("touchstart", function(b) {
							b.stopImmediatePropagation();
							x = b.originalEvent.touches[0]
									|| b.originalEvent.changedTouches[0];
							z = a(this);
							D = z.offset();
							J = x.pageX - D.left;
							q = M = x.pageY - D.top;
							N = J
						});
				d.bind("touchmove", function(b) {
							b.preventDefault();
							b.stopImmediatePropagation();
							x = b.originalEvent.touches[0]
									|| b.originalEvent.changedTouches[0];
							z = a(this).parent();
							D = z.offset();
							J = x.pageX - D.left;
							M = x.pageY - D.top;
							l.data("horizontalScroll") ? l.mCustomScrollbar(
									"scrollTo", N - J, {
										trigger : "internal"
									}) : l.mCustomScrollbar("scrollTo", q - M,
									{
										trigger : "internal"
									})
						})
			}
			l.data("bindEvent_scrollbar_click")
					|| (f.bind("click", function(b) {
								var d = (b.pageY - f.offset().top)
										* l.data("scrollAmount"), c = a(b.target);
								l.data("horizontalScroll")
										&& (d = (b.pageX - f.offset().left)
												* l.data("scrollAmount"));
								(c.hasClass("mCSB_draggerContainer") || c
										.hasClass("mCSB_draggerRail"))
										&& l.mCustomScrollbar("scrollTo", d, {
													trigger : "internal",
													scrollEasing : "draggerRailEase"
												})
							}), l.data({
								bindEvent_scrollbar_click : !0
							}));
			l.data("mouseWheel") && !l.data("bindEvent_mousewheel")
					&& (b.bind("mousewheel", function(a, b) {
								var c = l.data("mouseWheelPixels"), e = Math
										.abs(d.position().top), h = k
										.position().top, g = f.height()
										- k.height();
								l.data("normalizeMouseWheelDelta")
										&& (b = 0 > b ? -1 : 1);
								"auto" === c
										&& (c = 100
												+ Math.round(l
														.data("scrollAmount")
														/ 2));
								l.data("horizontalScroll")
										&& (h = k.position().left, g = f
												.width()
												- k.width(), e = Math.abs(d
												.position().left));
								if (0 < b && 0 !== h || 0 > b && h !== g)
									a.preventDefault(), a
											.stopImmediatePropagation();
								l.mCustomScrollbar("scrollTo", e - b * c, {
											trigger : "internal"
										})
							}), l.data({
								bindEvent_mousewheel : !0
							}));
			if (l.data("scrollButtons_enable"))
				if ("pixels" === l.data("scrollButtons_scrollType")) {
					l.data("horizontalScroll")
							? (p
									.add(h)
									.unbind(
											"mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",
											u, H), l.data({
										bindEvent_buttonsContinuous_x : !1
									}), l.data("bindEvent_buttonsPixels_x")
									|| (p.bind("click", function(a) {
										a.preventDefault();
										G(Math.abs(d.position().left)
												+ l
														.data("scrollButtons_scrollAmount"))
									}), h.bind("click", function(a) {
										a.preventDefault();
										G(Math.abs(d.position().left)
												- l
														.data("scrollButtons_scrollAmount"))
									}), l.data({
												bindEvent_buttonsPixels_x : !0
											})))
							: (r
									.add(n)
									.unbind(
											"mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",
											u, H), l.data({
										bindEvent_buttonsContinuous_y : !1
									}), l.data("bindEvent_buttonsPixels_y")
									|| (r.bind("click", function(a) {
										a.preventDefault();
										G(Math.abs(d.position().top)
												+ l
														.data("scrollButtons_scrollAmount"))
									}), n.bind("click", function(a) {
										a.preventDefault();
										G(Math.abs(d.position().top)
												- l
														.data("scrollButtons_scrollAmount"))
									}), l.data({
												bindEvent_buttonsPixels_y : !0
											})));
					var G = function(a) {
						k.data("preventAction")
								|| (k.data("preventAction", !0), l
										.mCustomScrollbar("scrollTo", a, {
													trigger : "internal"
												}))
					}
				} else {
					if (l.data("horizontalScroll")) {
						if (p.add(h).unbind("click"), l.data({
									bindEvent_buttonsPixels_x : !1
								}), !l.data("bindEvent_buttonsContinuous_x")) {
							p
									.bind(
											"mousedown touchstart MSPointerDown pointerdown",
											function(a) {
												a.preventDefault();
												var b = E();
												l.data({
													mCSB_buttonScrollRight : setInterval(
															function() {
																l
																		.mCustomScrollbar(
																				"scrollTo",
																				Math
																						.abs(d
																								.position().left)
																						+ b,
																				{
																					trigger : "internal",
																					scrollEasing : "easeOutCirc"
																				})
															}, 17)
												})
											});
							var u = function(a) {
								a.preventDefault();
								clearInterval(l.data("mCSB_buttonScrollRight"))
							};
							p
									.bind(
											"mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",
											u);
							h
									.bind(
											"mousedown touchstart MSPointerDown pointerdown",
											function(a) {
												a.preventDefault();
												var b = E();
												l.data({
													mCSB_buttonScrollLeft : setInterval(
															function() {
																l
																		.mCustomScrollbar(
																				"scrollTo",
																				Math
																						.abs(d
																								.position().left)
																						- b,
																				{
																					trigger : "internal",
																					scrollEasing : "easeOutCirc"
																				})
															}, 17)
												})
											});
							var H = function(a) {
								a.preventDefault();
								clearInterval(l.data("mCSB_buttonScrollLeft"))
							};
							h
									.bind(
											"mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",
											H);
							l.data({
										bindEvent_buttonsContinuous_x : !0
									})
						}
					} else
						r.add(n).unbind("click"), l.data({
									bindEvent_buttonsPixels_y : !1
								}), l.data("bindEvent_buttonsContinuous_y")
								|| (r
										.bind(
												"mousedown touchstart MSPointerDown pointerdown",
												function(a) {
													a.preventDefault();
													var b = E();
													l.data({
														mCSB_buttonScrollDown : setInterval(
																function() {
																	l
																			.mCustomScrollbar(
																					"scrollTo",
																					Math
																							.abs(d
																									.position().top)
																							+ b,
																					{
																						trigger : "internal",
																						scrollEasing : "easeOutCirc"
																					})
																}, 17)
													})
												}), r
										.bind(
												"mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",
												function(a) {
													a.preventDefault();
													clearInterval(l
															.data("mCSB_buttonScrollDown"))
												}), n
										.bind(
												"mousedown touchstart MSPointerDown pointerdown",
												function(a) {
													a.preventDefault();
													var b = E();
													l.data({
														mCSB_buttonScrollUp : setInterval(
																function() {
																	l
																			.mCustomScrollbar(
																					"scrollTo",
																					Math
																							.abs(d
																									.position().top)
																							- b,
																					{
																						trigger : "internal",
																						scrollEasing : "easeOutCirc"
																					})
																}, 17)
													})
												}), n
										.bind(
												"mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",
												function(a) {
													a.preventDefault();
													clearInterval(l
															.data("mCSB_buttonScrollUp"))
												}), l.data({
											bindEvent_buttonsContinuous_y : !0
										}));
					var E = function() {
						var a = l.data("scrollButtons_scrollSpeed");
						"auto" === l.data("scrollButtons_scrollSpeed")
								&& (a = Math
										.round((l.data("scrollInertia") + 100)
												/ 40));
						return a
					}
				}
			l.data("autoScrollOnFocus") && !l.data("bindEvent_focusin")
					&& (b.bind("focusin", function() {
						b.scrollTop(0).scrollLeft(0);
						var c = a(document.activeElement);
						if (c
								.is("input,textarea,select,button,a[tabindex],area,object")) {
							var f = d.position().top, k = c.position().top, m = b
									.height()
									- c.outerHeight();
							l.data("horizontalScroll")
									&& (f = d.position().left, k = c.position().left, m = b
											.width()
											- c.outerWidth());
							(0 > f + k || f + k > m)
									&& l.mCustomScrollbar("scrollTo", k, {
												trigger : "internal"
											})
						}
					}), l.data({
								bindEvent_focusin : !0
							}));
			!l.data("autoHideScrollbar") || l.data("alwaysShowScrollbar")
					|| l.data("bindEvent_autoHideScrollbar")
					|| (b.bind("mouseenter", function(a) {
								b.addClass("mCS-mouse-over");
								c.showScrollbar.call(b
										.children(".mCSB_scrollTools"))
							}).bind("mouseleave touchend", function(a) {
						b.removeClass("mCS-mouse-over");
						"mouseleave" === a.type
								&& c.hideScrollbar.call(b
										.children(".mCSB_scrollTools"))
					}), l.data({
								bindEvent_autoHideScrollbar : !0
							}))
		},
		scrollTo : function(b, d) {
			function f(a) {
				if (k.data("mCustomScrollbarIndex"))
					switch (this.mcs = {
						top : p.position().top,
						left : p.position().left,
						draggerTop : t.position().top,
						draggerLeft : t.position().left,
						topPct : Math.round(100 * Math.abs(p.position().top)
								/ Math.abs(p.outerHeight() - h.height())),
						leftPct : Math.round(100 * Math.abs(p.position().left)
								/ Math.abs(p.outerWidth() - h.width()))
					}, a) {
						case "onScrollStart" :
							k.data("mCS_tweenRunning", !0)
									.data("onScrollStart_Callback").call(k,
											this.mcs);
							break;
						case "whileScrolling" :
							k.data("whileScrolling_Callback").call(k, this.mcs);
							break;
						case "onScroll" :
							k.data("onScroll_Callback").call(k, this.mcs);
							break;
						case "onTotalScrollBack" :
							k.data("onTotalScrollBack_Callback").call(k,
									this.mcs);
							break;
						case "onTotalScroll" :
							k.data("onTotalScroll_Callback").call(k, this.mcs)
					}
			}
			var k = a(this), n = {
				moveDragger : !1,
				trigger : "external",
				callbacks : !0,
				scrollInertia : k.data("scrollInertia"),
				scrollEasing : k.data("scrollEasing")
			};
			d = a.extend(n, d);
			var r, h = k.children(".mCustomScrollBox"), p = h
					.children(".mCSB_container"), g = h
					.children(".mCSB_scrollTools"), l = g
					.children(".mCSB_draggerContainer"), t = l
					.children(".mCSB_dragger"), n = draggerSpeed = d.scrollInertia, s, v, A, w;
			!p.hasClass("mCS_no_scrollbar")
					&& (k.data({
								mCS_trigger : d.trigger
							}), k.data("mCS_Init") && (d.callbacks = !1), b
							|| 0 === b)
					&& ("number" === typeof b
							? d.moveDragger
									? (r = b, b = k.data("horizontalScroll")
											? t.position().left
													* k.data("scrollAmount")
											: t.position().top
													* k.data("scrollAmount"), draggerSpeed = 0)
									: r = b / k.data("scrollAmount")
							: "string" === typeof b
									&& (r = "top" === b
											? 0
											: "bottom" !== b
													|| k
															.data("horizontalScroll")
													? "left" === b
															? 0
															: "right" === b
																	&& k
																			.data("horizontalScroll")
																	? p
																			.outerWidth()
																			- h
																					.width()
																	: "first" === b
																			? k
																					.find(".mCSB_container")
																					.find(":first")
																			: "last" === b
																					? k
																							.find(".mCSB_container")
																							.find(":last")
																					: k
																							.find(b)
													: p.outerHeight()
															- h.height(), 1 === r.length
											? (b = k.data("horizontalScroll")
													? r.position().left
													: r.position().top, r = b
													/ k.data("scrollAmount"))
											: r = b = r), k
							.data("horizontalScroll") ? (k
							.data("onTotalScrollBack_Offset")
							&& (v = -k.data("onTotalScrollBack_Offset")), k
							.data("onTotalScroll_Offset")
							&& (w = h.width() - p.outerWidth()
									+ k.data("onTotalScroll_Offset")), 0 > r
							? (r = b = 0, clearInterval(k
									.data("mCSB_buttonScrollLeft")), v
									|| (s = !0))
							: r >= l.width() - t.width()
									? (r = l.width() - t.width(), b = h.width()
											- p.outerWidth(), clearInterval(k
											.data("mCSB_buttonScrollRight")), w
											|| (A = !0))
									: b = -b, (l = k.data("snapAmount"))
							&& (b = Math.round(b / l) * l
									- k.data("snapOffset")), c.mTweenAxis.call(
							this, t[0], "left", Math.round(r), draggerSpeed,
							d.scrollEasing), c.mTweenAxis.call(this, p[0],
							"left", Math.round(b), n, d.scrollEasing, {
								onStart : function() {
									d.callbacks && !k.data("mCS_tweenRunning")
											&& f("onScrollStart");
									k.data("autoHideScrollbar")
											&& !k.data("alwaysShowScrollbar")
											&& c.showScrollbar.call(g)
								},
								onUpdate : function() {
									d.callbacks && f("whileScrolling")
								},
								onComplete : function() {
									d.callbacks
											&& (f("onScroll"), (s || v
													&& p.position().left >= v)
													&& f("onTotalScrollBack"), (A || w
													&& p.position().left <= w)
													&& f("onTotalScroll"));
									t.data("preventAction", !1);
									k.data("mCS_tweenRunning", !1);
									k.data("autoHideScrollbar")
											&& !k.data("alwaysShowScrollbar")
											&& (h.hasClass("mCS-mouse-over") || c.hideScrollbar
													.call(g))
								}
							}))
							: (k.data("onTotalScrollBack_Offset")
									&& (v = -k.data("onTotalScrollBack_Offset")), k
									.data("onTotalScroll_Offset")
									&& (w = h.height() - p.outerHeight()
											+ k.data("onTotalScroll_Offset")), 0 > r
									? (r = b = 0, clearInterval(k
											.data("mCSB_buttonScrollUp")), v
											|| (s = !0))
									: r >= l.height() - t.height() ? (r = l
											.height()
											- t.height(), b = h.height()
											- p.outerHeight(), clearInterval(k
											.data("mCSB_buttonScrollDown")), w
											|| (A = !0)) : b = -b, (l = k
									.data("snapAmount"))
									&& (b = Math.round(b / l) * l
											- k.data("snapOffset")), c.mTweenAxis
									.call(this, t[0], "top", Math.round(r),
											draggerSpeed, d.scrollEasing), c.mTweenAxis
									.call(this, p[0], "top", Math.round(b), n,
											d.scrollEasing, {
												onStart : function() {
													d.callbacks
															&& !k
																	.data("mCS_tweenRunning")
															&& f("onScrollStart");
													k.data("autoHideScrollbar")
															&& !k
																	.data("alwaysShowScrollbar")
															&& c.showScrollbar
																	.call(g)
												},
												onUpdate : function() {
													d.callbacks
															&& f("whileScrolling")
												},
												onComplete : function() {
													d.callbacks
															&& (f("onScroll"), (s || v
																	&& p
																			.position().top >= v)
																	&& f("onTotalScrollBack"), (A || w
																	&& p
																			.position().top <= w)
																	&& f("onTotalScroll"));
													t.data("preventAction", !1);
													k.data("mCS_tweenRunning",
															!1);
													k.data("autoHideScrollbar")
															&& !k
																	.data("alwaysShowScrollbar")
															&& (h
																	.hasClass("mCS-mouse-over") || c.hideScrollbar
																	.call(g))
												}
											})), k.data("mCS_Init") && k.data({
								mCS_Init : !1
							}))
		},
		stop : function() {
			var b = a(this), d = b.children().children(".mCSB_container"), b = b
					.children().children().children().children(".mCSB_dragger");
			c.mTweenAxisStop.call(this, d[0]);
			c.mTweenAxisStop.call(this, b[0])
		},
		disable : function(b) {
			var d = a(this), c = d.children(".mCustomScrollBox"), f = c
					.children(".mCSB_container"), n = c
					.children(".mCSB_scrollTools"), r = n.children()
					.children(".mCSB_dragger");
			c.unbind("mousewheel focusin mouseenter mouseleave touchend");
			f.unbind("touchstart touchmove");
			b
					&& (d.data("horizontalScroll")
							? r.add(f).css("left", 0)
							: r.add(f).css("top", 0));
			n.css("display", "none");
			f.addClass("mCS_no_scrollbar");
			d.data({
						bindEvent_mousewheel : !1,
						bindEvent_focusin : !1,
						bindEvent_content_touch : !1,
						bindEvent_autoHideScrollbar : !1
					}).addClass("mCS_disabled")
		},
		destroy : function() {
			var b = a(this);
			b.removeClass("mCustomScrollbar _mCS_"
					+ b.data("mCustomScrollbarIndex"))
					.addClass("mCS_destroyed").children()
					.children(".mCSB_container").unwrap().children().unwrap()
					.siblings(".mCSB_scrollTools").remove();
			a(document).unbind("mousemove." + b.data("mCustomScrollbarIndex")
					+ " mouseup." + b.data("mCustomScrollbarIndex")
					+ " MSPointerMove." + b.data("mCustomScrollbarIndex")
					+ " MSPointerUp." + b.data("mCustomScrollbarIndex"));
			a(window).unbind("resize." + b.data("mCustomScrollbarIndex"))
		}
	}, c = {
		showScrollbar : function() {
			this.stop().animate({
						opacity : 1
					}, "fast")
		},
		hideScrollbar : function() {
			this.stop().animate({
						opacity : 0
					}, "fast")
		},
		mTweenAxis : function(a, b, c, f, n, r) {
			function h() {
				return window.performance && window.performance.now
						? window.performance.now()
						: window.performance && window.performance.webkitNow
								? window.performance.webkitNow()
								: Date.now ? Date.now() : (new Date).getTime()
			}
			function p() {
				x || t.call();
				x = h() - A;
				g();
				x >= a._time
						&& (a._time = x > a._time ? x + w - (x - a._time) : x
								+ w - 1, a._time < x + 1 && (a._time = x + 1));
				a._time < f ? a._id = _request(p) : v.call()
			}
			function g() {
				0 < f ? (a.currVal = l(a._time, z, M, f, n), D[b] = Math
						.round(a.currVal)
						+ "px") : D[b] = c + "px";
				s.call()
			}
			function l(a, b, d, c, e) {
				switch (e) {
					case "linear" :
						return d * a / c + b;
					case "easeOutQuad" :
						return a /= c, -d * a * (a - 2) + b;
					case "easeInOutQuad" :
						a /= c / 2;
						if (1 > a)
							return d / 2 * a * a + b;
						a--;
						return -d / 2 * (a * (a - 2) - 1) + b;
					case "easeOutCubic" :
						return a /= c, a--, d * (a * a * a + 1) + b;
					case "easeOutQuart" :
						return a /= c, a--, -d * (a * a * a * a - 1) + b;
					case "easeOutQuint" :
						return a /= c, a--, d * (a * a * a * a * a + 1) + b;
					case "easeOutCirc" :
						return a /= c, a--, d * Math.sqrt(1 - a * a) + b;
					case "easeOutSine" :
						return d * Math.sin(a / c * (Math.PI / 2)) + b;
					case "easeOutExpo" :
						return d * (-Math.pow(2, -10 * a / c) + 1) + b;
					case "mcsEaseOut" :
						return c = (a /= c) * a, e = c * a, b
								+ d
								* (0.499999999999997 * e * c + -2.5 * c * c
										+ 5.5 * e + -6.5 * c + 4 * a);
					case "draggerRailEase" :
						a /= c / 2;
						if (1 > a)
							return d / 2 * a * a * a + b;
						a -= 2;
						return d / 2 * (a * a * a + 2) + b
				}
			}
			r = r || {};
			var t = r.onStart || function() {
			}, s = r.onUpdate || function() {
			}, v = r.onComplete || function() {
			}, A = h(), w, x = 0, z = a.offsetTop, D = a.style;
			"left" === b && (z = a.offsetLeft);
			var M = c - z;
			null != a._id
					&& (window.requestAnimationFrame ? window
							.cancelAnimationFrame(a._id) : clearTimeout(a._id), a._id = null);
			(function() {
				w = 1E3 / 60;
				a._time = x + w;
				_request = window.requestAnimationFrame
						? window.requestAnimationFrame
						: function(a) {
							g();
							return setTimeout(a, 0.01)
						};
				a._id = _request(p)
			})()
		},
		mTweenAxisStop : function(a) {
			null != a._id
					&& (window.requestAnimationFrame ? window
							.cancelAnimationFrame(a._id) : clearTimeout(a._id), a._id = null)
		},
		rafPolyfill : function() {
			for (var a = ["ms", "moz", "webkit", "o"], b = a.length; -1 < --b
					&& !window.requestAnimationFrame;)
				window.requestAnimationFrame = window[a[b]
						+ "RequestAnimationFrame"], window.cancelAnimationFrame = window[a[b]
						+ "CancelAnimationFrame"]
						|| window[a[b] + "CancelRequestAnimationFrame"]
		}
	};
	c.rafPolyfill.call();
	a.support.touch = !!("ontouchstart" in window);
	a.support.pointer = window.navigator.pointerEnabled;
	a.support.msPointer = window.navigator.msPointerEnabled;
	var f = "https:" == document.location.protocol ? "https:" : "http:";
	
	a.event.special.mousewheel
	|| document
			.write('<script src="/view/public/jquery.mousewheel.min.js">\x3c/script>');
		
	a.fn.mCustomScrollbar = function(c) {
		if (b[c])
			return b[c].apply(this, Array.prototype.slice.call(arguments, 1));
		if ("object" !== typeof c && c)
			a.error("Method " + c + " does not exist");
		else
			return b.init.apply(this, arguments)
	}
})(jQuery);
(function(a) {
	a(window.jQuery, window, document)
})(function(a, b, c, f) {
	a.widget("selectBox.selectBoxIt", {
		VERSION : "3.8.1",
		options : {
			showEffect : "none",
			showEffectOptions : {},
			showEffectSpeed : "medium",
			hideEffect : "none",
			hideEffectOptions : {},
			hideEffectSpeed : "medium",
			showFirstOption : !0,
			defaultText : "",
			defaultIcon : "",
			downArrowIcon : "",
			theme : "default",
			keydownOpen : !0,
			isMobile : function() {
				return /iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/
						.test(navigator.userAgent || navigator.vendor
								|| b.opera)
			},
			"native" : !1,
			aggressiveChange : !1,
			selectWhenHidden : !0,
			viewport : a(b),
			similarSearch : !1,
			copyAttributes : ["title", "rel"],
			copyClasses : "button",
			nativeMousedown : !1,
			customShowHideEvent : !1,
			autoWidth : !0,
			html : !0,
			populate : "",
			dynamicPositioning : !0,
			hideCurrent : !1
		},
		getThemes : function() {
			var b = a(this.element).attr("data-theme") || "c";
			return {
				bootstrap : {
					focus : "active",
					hover : "",
					enabled : "enabled",
					disabled : "disabled",
					arrow : "caret",
					button : "btn",
					list : "dropdown-menu",
					container : "bootstrap",
					open : "open"
				},
				jqueryui : {
					focus : "ui-state-focus",
					hover : "ui-state-hover",
					enabled : "ui-state-enabled",
					disabled : "ui-state-disabled",
					arrow : "ui-icon ui-icon-triangle-1-s",
					button : "ui-widget ui-state-default",
					list : "ui-widget ui-widget-content",
					container : "jqueryui",
					open : "selectboxit-open"
				},
				jquerymobile : {
					focus : "ui-btn-down-" + b,
					hover : "ui-btn-hover-" + b,
					enabled : "ui-enabled",
					disabled : "ui-disabled",
					arrow : "ui-icon ui-icon-arrow-d ui-icon-shadow",
					button : "ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"
							+ b,
					list : "ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"
							+ b,
					container : "jquerymobile",
					open : "selectboxit-open"
				},
				"default" : {
					focus : "selectboxit-focus",
					hover : "selectboxit-hover",
					enabled : "selectboxit-enabled",
					disabled : "selectboxit-disabled",
					arrow : "selectboxit-default-arrow",
					button : "selectboxit-btn",
					list : "selectboxit-list",
					container : "selectboxit-container",
					open : "selectboxit-open"
				}
			}
		},
		isDeferred : function(b) {
			return a.isPlainObject(b) && b.promise && b.done
		},
		_create : function(b) {
			var e = this.options.populate, f = this.options.theme;
			if (this.element.is("select"))
				return this.widgetProto = a.Widget.prototype, this.originalElem = this.element[0], this.selectBox = this.element, this.options.populate
						&& this.add && !b && this.add(e), this.selectItems = this.element
						.find("option"), this.firstSelectItem = this.selectItems
						.slice(0, 1), this.documentHeight = a(c).height(), this.theme = a
						.isPlainObject(f) ? a.extend({},
						this.getThemes()["default"], f) : this.getThemes()[f]
						? this.getThemes()[f]
						: this.getThemes()["default"], this.currentFocus = 0, this.blur = !0, this.textArray = [], this.currentIndex = 0, this.currentText = "", this.flipped = !1, b
						|| (this.selectBoxStyles = this.selectBox.attr("style")), this
						._createDropdownButton()._createUnorderedList()
						._copyAttributes()._replaceSelectBox()
						._addClasses(this.theme)._eventHandlers(), this.originalElem.disabled
						&& this.disable && this.disable(), this._ariaAccessibility
						&& this._ariaAccessibility(), this.isMobile = this.options
						.isMobile(), this._mobile && this._mobile(), this.options["native"]
						&& this._applyNativeSelect(), this
						.triggerEvent("create"), this
		},
		_createDropdownButton : function() {
			var b = this.originalElemId = this.originalElem.id || "", c = this.originalElemValue = this.originalElem.value
					|| "", e = this.originalElemName = this.originalElem.name
					|| "", f = this.options.copyClasses, r = this.selectBox
					.attr("class")
					|| "";
			this.dropdownText = a("<span/>", {
						id : b && b + "SelectBoxItText",
						"class" : "selectboxit-text",
						unselectable : "on",
						text : this.firstSelectItem.text()
					}).attr("data-val", c);
			this.dropdownImageContainer = a("<span/>", {
						"class" : "selectboxit-option-icon-container"
					});
			this.dropdownImage = a("<i/>", {
						id : b && b + "SelectBoxItDefaultIcon",
						"class" : "selectboxit-default-icon",
						unselectable : "on"
					});
			this.dropdown = a("<span/>", {
				id : b && b + "SelectBoxIt",
				"class" : "selectboxit "
						+ ("button" === f ? r : "")
						+ " "
						+ (this.selectBox.prop("disabled")
								? this.theme.disabled
								: this.theme.enabled),
				name : e,
				tabindex : this.selectBox.attr("tabindex") || "0",
				unselectable : "on"
			}).append(this.dropdownImageContainer.append(this.dropdownImage))
					.append(this.dropdownText);
			this.dropdownContainer = a("<span/>", {
				id : b && b + "SelectBoxItContainer",
				"class" : "selectboxit-container " + this.theme.container + " "
						+ ("container" === f ? r : "")
			}).append(this.dropdown);
			return this
		},
		_createUnorderedList : function() {
			var b = this, c, e, f, r, h, p, g, l = "", t = b.originalElemId
					|| "", t = a("<ul/>", {
						id : t && t + "SelectBoxItOptions",
						"class" : "selectboxit-options",
						tabindex : -1
					}), s, v, A, w, x, z;
			b.options.showFirstOption
					|| (b.selectItems.first().attr("disabled", "disabled"), b.selectItems = b.selectBox
							.find("option").slice(1));
			b.selectItems.each(function(t) {
				x = a(this);
				f = e = "";
				c = x.prop("disabled");
				r = x.attr("data-icon") || "";
				p = (h = x.attr("data-iconurl") || "")
						? "selectboxit-option-icon-url"
						: "";
				g = h ? "style=\"background-image:url('" + h + "');\"" : "";
				s = x.attr("data-selectedtext");
				w = (v = x.attr("data-text")) ? v : x.text();
				z = x.parent();
				z.is("optgroup")
						&& (e = "selectboxit-optgroup-option", 0 === x.index()
								&& (f = '<span class="selectboxit-optgroup-header '
										+ z.first().attr("class")
										+ '"data-disabled="true">'
										+ z.first().attr("label") + "</span>"));
				x.attr("value", this.value);
				l += f
						+ '<li data-id="'
						+ t
						+ '" data-val="'
						+ this.value
						+ '" data-disabled="'
						+ c
						+ '" class="'
						+ e
						+ " selectboxit-option "
						+ (a(this).attr("class") || "")
						+ '"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '
						+ r + " " + (p || b.theme.container) + '"' + g
						+ "></i></span>"
						+ (b.options.html ? w : b.htmlEscape(w)) + "</a></li>";
				A = x.attr("data-search");
				b.textArray[t] = c ? "" : A ? A : w;
				this.selected
						&& (b._setText(b.dropdownText, s || w), b.currentFocus = t)
			});
			if (b.options.defaultText || b.selectBox.attr("data-text")) {
				var D = b.options.defaultText || b.selectBox.attr("data-text");
				b._setText(b.dropdownText, D);
				b.options.defaultText = D
			}
			t.append(l);
			b.list = t;
			b.dropdownContainer.append(b.list);
			b.listItems = b.list.children("li");
			b.listAnchors = b.list.find("a");
			b.listItems.first().addClass("selectboxit-option-first");
			b.listItems.last().addClass("selectboxit-option-last");
			b.list.find("li[data-disabled='true']").not(".optgroupHeader")
					.addClass(b.theme.disabled);
			b.dropdownImage.addClass(b.selectBox.attr("data-icon")
					|| b.options.defaultIcon
					|| b.listItems.eq(b.currentFocus).find("i").attr("class"));
			b.dropdownImage.attr("style", b.listItems.eq(b.currentFocus)
							.find("i").attr("style"));
			return b
		},
		_replaceSelectBox : function() {
			var b = this.originalElem.id || "", c = this.selectBox
					.attr("data-size"), c = this.listSize = c === f
					? "auto"
					: "0" === c ? "auto" : +c, e;
			this.selectBox.css("display", "none").after(this.dropdownContainer);
			this.dropdownContainer.appendTo("body")
					.addClass("selectboxit-rendering");
			this.dropdown.height();
			this.downArrow = a("<i/>", {
						id : b && b + "SelectBoxItArrow",
						"class" : "selectboxit-arrow",
						unselectable : "on"
					});
			this.downArrowContainer = a("<span/>", {
						id : b && b + "SelectBoxItArrowContainer",
						"class" : "selectboxit-arrow-container",
						unselectable : "on"
					}).append(this.downArrow);
			this.dropdown.append(this.downArrowContainer);
			this.listItems.removeClass("selectboxit-selected")
					.eq(this.currentFocus).addClass("selectboxit-selected");
			b = this.downArrowContainer.outerWidth(!0);
			e = this.dropdownImage.outerWidth(!0);
			this.options.autoWidth && (this.dropdown.css({
						width : "auto"
					}).css({
						width : this.list.outerWidth(!0) + b + e
					}), this.list.css({
						"min-width" : this.dropdown.width()
					}));
			this.dropdownText.css({
						"max-width" : this.dropdownContainer.outerWidth(!0)
								- (b + e)
					});
			this.selectBox.after(this.dropdownContainer);
			this.dropdownContainer.removeClass("selectboxit-rendering");
			"number" === a.type(c)
					&& (this.maxHeight = this.listAnchors.outerHeight(!0) * c);
			return this
		},
		_scrollToView : function(a) {
			var b = this.listItems.eq(this.currentFocus), c = this.list
					.scrollTop(), e = b.height(), b = b.position().top, f = Math
					.abs(b), h = this.list.height();
			"search" === a ? h - b < e
					? this.list.scrollTop(c + (b - (h - e)))
					: -1 > b && this.list.scrollTop(b - e) : "up" === a
					? -1 > b && this.list.scrollTop(c - f)
					: "down" === a && h - b < e
							&& this.list.scrollTop(c + (f - h + e));
			return this
		},
		_callbackSupport : function(b) {
			a.isFunction(b) && b.call(this, this.dropdown);
			return this
		},
		_setText : function(a, b) {
			this.options.html ? a.html(b) : a.text(b);
			return this
		},
		open : function(a) {
			var b = this, c = b.options.showEffect, e = b.options.showEffectSpeed, f = b.options.showEffectOptions, h = b.options["native"], p = b.isMobile;
			if (!b.listItems.length || b.dropdown.hasClass(b.theme.disabled))
				return b;
			if (!h && !p && !this.list.is(":visible")) {
				b.triggerEvent("open");
				b._dynamicPositioning && b.options.dynamicPositioning
						&& b._dynamicPositioning();
				if ("none" === c)
					b.list.show();
				else if ("show" === c || "slideDown" === c || "fadeIn" === c)
					b.list[c](e);
				else
					b.list.show(c, f, e);
				b.list.promise().done(function() {
							b._scrollToView("search");
							b.triggerEvent("opened")
						})
			}
			b._callbackSupport(a);
			return b
		},
		close : function(a) {
			var b = this, c = b.options.hideEffect, e = b.options.hideEffectSpeed, f = b.options.hideEffectOptions, h = b.isMobile;
			if (!b.options["native"] && !h && b.list.is(":visible")) {
				b.triggerEvent("close");
				if ("none" === c)
					b.list.hide();
				else if ("hide" === c || "slideUp" === c || "fadeOut" === c)
					b.list[c](e);
				else
					b.list.hide(c, f, e);
				b.list.promise().done(function() {
							b.triggerEvent("closed")
						})
			}
			b._callbackSupport(a);
			return b
		},
		toggle : function() {
			var a = this.list.is(":visible");
			a ? this.close() : a || this.open()
		},
		_keyMappings : {
			38 : "up",
			40 : "down",
			13 : "enter",
			8 : "backspace",
			9 : "tab",
			32 : "space",
			27 : "esc"
		},
		_keydownMethods : function() {
			var a = this, b = a.list.is(":visible") || !a.options.keydownOpen;
			return {
				down : function() {
					a.moveDown && b && a.moveDown()
				},
				up : function() {
					a.moveUp && b && a.moveUp()
				},
				enter : function() {
					var b = a.listItems.eq(a.currentFocus);
					a._update(b);
					"true" !== b.attr("data-preventclose") && a.close();
					a.triggerEvent("enter")
				},
				tab : function() {
					a.triggerEvent("tab-blur");
					a.close()
				},
				backspace : function() {
					a.triggerEvent("backspace")
				},
				esc : function() {
					a.close()
				}
			}
		},
		_eventHandlers : function() {
			var b = this, c = b.options.nativeMousedown, e = b.options.customShowHideEvent, f, r, h = b.focusClass, p = b.hoverClass, g = b.openClass;
			this.dropdown.on({
				"click.selectBoxIt" : function() {
					b.dropdown.trigger("focus", !0);
					b.originalElem.disabled
							|| (b.triggerEvent("click"), c || e || b.toggle())
				},
				"mousedown.selectBoxIt" : function() {
					a(this).data("mdown", !0);
					b.triggerEvent("mousedown");
					c && !e && b.toggle()
				},
				"mouseup.selectBoxIt" : function() {
					b.triggerEvent("mouseup")
				},
				"blur.selectBoxIt" : function() {
					b.blur
							&& (b.triggerEvent("blur"), b.close(), a(this)
									.removeClass(h))
				},
				"focus.selectBoxIt" : function(c, e) {
					var f = a(this).data("mdown");
					a(this).removeData("mdown");
					f || e || setTimeout(function() {
								b.triggerEvent("tab-focus")
							}, 0);
					e
							|| (a(this).hasClass(b.theme.disabled)
									|| a(this).addClass(h), b
									.triggerEvent("focus"))
				},
				"keydown.selectBoxIt" : function(a) {
					var c = b._keyMappings[a.keyCode], e = b._keydownMethods()[c];
					e
							&& (e(), !b.options.keydownOpen || "up" !== c
									&& "down" !== c || b.open());
					e && "tab" !== c && a.preventDefault()
				},
				"keypress.selectBoxIt" : function(a) {
					var c = b._keyMappings[a.charCode || a.keyCode], e = String
							.fromCharCode(a.charCode || a.keyCode);
					b.search && (!c || c && "space" === c)
							&& b.search(e, !0, !0);
					"space" === c && a.preventDefault()
				},
				"mouseenter.selectBoxIt" : function() {
					b.triggerEvent("mouseenter")
				},
				"mouseleave.selectBoxIt" : function() {
					b.triggerEvent("mouseleave")
				}
			});
			b.list.on({
						"mouseover.selectBoxIt" : function() {
							b.blur = !1
						},
						"mouseout.selectBoxIt" : function() {
							b.blur = !0
						},
						"focusin.selectBoxIt" : function() {
							b.dropdown.trigger("focus", !0)
						}
					});
			b.list.on({
				"mousedown.selectBoxIt" : function() {
					b._update(a(this));
					b.triggerEvent("option-click");
					"false" === a(this).attr("data-disabled")
							&& "true" !== a(this).attr("data-preventclose")
							&& b.close();
					setTimeout(function() {
								b.dropdown.trigger("focus", !0)
							}, 0)
				},
				"focusin.selectBoxIt" : function() {
					b.listItems.not(a(this)).removeAttr("data-active");
					a(this).attr("data-active", "");
					var c = b.list.is(":hidden");
					(b.options.searchWhenHidden && c
							|| b.options.aggressiveChange || c
							&& b.options.selectWhenHidden)
							&& b._update(a(this));
					a(this).addClass(h)
				},
				"mouseup.selectBoxIt" : function() {
					c
							&& !e
							&& (b._update(a(this)), b
									.triggerEvent("option-mouseup"), "false" === a(this)
									.attr("data-disabled")
									&& "true" !== a(this)
											.attr("data-preventclose")
									&& b.close())
				},
				"mouseenter.selectBoxIt" : function() {
					"false" === a(this).attr("data-disabled")
							&& (b.listItems.removeAttr("data-active"), a(this)
									.addClass(h).attr("data-active", ""), b.listItems
									.not(a(this)).removeClass(h), a(this)
									.addClass(h), b.currentFocus = +a(this)
									.attr("data-id"))
				},
				"mouseleave.selectBoxIt" : function() {
					"false" === a(this).attr("data-disabled")
							&& (b.listItems.not(a(this)).removeClass(h)
									.removeAttr("data-active"), a(this)
									.addClass(h), b.currentFocus = +a(this)
									.attr("data-id"))
				},
				"blur.selectBoxIt" : function() {
					a(this).removeClass(h)
				}
			}, ".selectboxit-option");
			b.list.on({
						"click.selectBoxIt" : function(a) {
							a.preventDefault()
						}
					}, "a");
			b.selectBox.on({
				"change.selectBoxIt, internal-change.selectBoxIt" : function(a,
						c) {
					var e, k;
					c
							|| (e = b.list.find('li[data-val="'
									+ b.originalElem.value + '"]'), e.length
									&& (b.listItems.eq(b.currentFocus)
											.removeClass(b.focusClass), b.currentFocus = +e
											.attr("data-id")));
					e = b.listItems.eq(b.currentFocus);
					k = e.attr("data-selectedtext");
					r = (f = e.attr("data-text")) ? f : e.find("a").text();
					b._setText(b.dropdownText, k || r);
					b.dropdownText.attr("data-val", b.originalElem.value);
					e.find("i").attr("class")
							&& (b.dropdownImage.attr("class",
									e.find("i").attr("class"))
									.addClass("selectboxit-default-icon"), b.dropdownImage
									.attr("style", e.find("i").attr("style")));
					b.triggerEvent("changed")
				},
				"disable.selectBoxIt" : function() {
					b.dropdown.addClass(b.theme.disabled)
				},
				"enable.selectBoxIt" : function() {
					b.dropdown.removeClass(b.theme.disabled)
				},
				"open.selectBoxIt" : function() {
					var a = b.list.find("li[data-val='"
							+ b.dropdownText.attr("data-val") + "']");
					a.length
							|| (a = b.listItems.not("[data-disabled=true]")
									.first());
					b.currentFocus = +a.attr("data-id");
					a = b.listItems.eq(b.currentFocus);
					b.dropdown.addClass(g).removeClass(p).addClass(h);
					b.listItems.removeClass(b.selectedClass)
							.removeAttr("data-active").not(a).removeClass(h);
					a.addClass(b.selectedClass).addClass(h);
					b.options.hideCurrent && (b.listItems.show(), a.hide())
				},
				"close.selectBoxIt" : function() {
					b.dropdown.removeClass(g)
				},
				"blur.selectBoxIt" : function() {
					b.dropdown.removeClass(h)
				},
				"mouseenter.selectBoxIt" : function() {
					a(this).hasClass(b.theme.disabled)
							|| b.dropdown.addClass(p)
				},
				"mouseleave.selectBoxIt" : function() {
					b.dropdown.removeClass(p)
				},
				destroy : function(a) {
					a.preventDefault();
					a.stopPropagation()
				}
			});
			return b
		},
		_update : function(a) {
			var b, c = this.options.defaultText
					|| this.selectBox.attr("data-text"), e = this.listItems
					.eq(this.currentFocus);
			"false" === a.attr("data-disabled")
					&& (this.listItems.eq(this.currentFocus)
							.attr("data-selectedtext"), (b = e
							.attr("data-text"))
							|| e.text(), (c && this.options.html
							? this.dropdownText.html() === c
							: this.dropdownText.text() === c)
							&& this.selectBox.val() === a.attr("data-val")
							? this.triggerEvent("change")
							: (this.selectBox.val(a.attr("data-val")), this.currentFocus = +a
									.attr("data-id"), this.originalElem.value !== this.dropdownText
									.attr("data-val")
									&& this.triggerEvent("change")))
		},
		_addClasses : function(a) {
			this.focusClass = a.focus;
			this.hoverClass = a.hover;
			var b = a.button, c = a.list, e = a.arrow, f = a.container;
			this.openClass = a.open;
			this.selectedClass = "selectboxit-selected";
			this.downArrow.addClass(this.selectBox.attr("data-downarrow")
					|| this.options.downArrowIcon || e);
			this.dropdownContainer.addClass(f);
			this.dropdown.addClass(b);
			this.list.addClass(c);
			return this
		},
		refresh : function(a, b) {
			this._destroySelectBoxIt()._create(!0);
			b || this.triggerEvent("refresh");
			this._callbackSupport(a);
			return this
		},
		htmlEscape : function(a) {
			return String(a).replace(/&/g, "&amp;").replace(/"/g, "&quot;")
					.replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g,
							"&gt;")
		},
		triggerEvent : function(a) {
			this.selectBox.trigger(a, {
						selectbox : this.selectBox,
						selectboxOption : this.selectItems
								.eq(this.options.showFirstOption
										? this.currentFocus
										: 0 <= this.currentFocus - 1
												? this.currentFocus
												: 0),
						dropdown : this.dropdown,
						dropdownOption : this.listItems.eq(this.currentFocus)
					});
			return this
		},
		_copyAttributes : function() {
			this._addSelectBoxAttributes && this._addSelectBoxAttributes();
			return this
		},
		_realOuterWidth : function(a) {
			if (a.is(":visible"))
				return a.outerWidth(!0);
			a = a.clone();
			var b;
			a.css({
						visibility : "hidden",
						display : "block",
						position : "absolute"
					}).appendTo("body");
			b = a.outerWidth(!0);
			a.remove();
			return b
		}
	});
	var e = a.selectBox.selectBoxIt.prototype;
	e.add = function(b, c) {
		this._populate(b, function(b) {
					var d = this, e = a.type(b), f = 0, p, g = [], l = (p = d
							._isJSON(b))
							&& d._parseJSON(b);
					if (b
							&& ("array" === e || p && l.data
									&& "array" === a.type(l.data))
							|| "object" === e && b.data
							&& "array" === a.type(b.data)) {
						d._isJSON(b) && (b = l);
						b.data && (b = b.data);
						for (p = b.length; f <= p - 1; f += 1)
							e = b[f], a.isPlainObject(e) ? g.push(a(
									"<option/>", e)) : "string" === a.type(e)
									&& g.push(a("<option/>", {
												text : e,
												value : e
											}));
						d.selectBox.append(g)
					} else
						b && "string" === e && !d._isJSON(b) ? d.selectBox
								.append(b) : b && "object" === e ? d.selectBox
								.append(a("<option/>", b)) : b
								&& d._isJSON(b)
								&& a.isPlainObject(d._parseJSON(b))
								&& d.selectBox.append(a("<option/>", d
												._parseJSON(b)));
					d.dropdown ? d.refresh(function() {
								d._callbackSupport(c)
							}, !0) : d._callbackSupport(c);
					return d
				})
	};
	e._parseJSON = function(b) {
		return JSON && JSON.parse && JSON.parse(b) || a.parseJSON(b)
	};
	e._isJSON = function(a) {
		try {
			return this._parseJSON(a), !0
		} catch (b) {
			return !1
		}
	};
	e._populate = function(b, c) {
		var e = this;
		b = a.isFunction(b) ? b.call() : b;
		e.isDeferred(b) ? b.done(function(a) {
					c.call(e, a)
				}) : c.call(e, b);
		return e
	};
	e._ariaAccessibility = function() {
		var b = this, c = a("label[for='" + b.originalElem.id + "']");
		b.dropdownContainer.attr({
					role : "combobox",
					"aria-autocomplete" : "list",
					"aria-haspopup" : "true",
					"aria-expanded" : "false",
					"aria-owns" : b.list[0].id
				});
		b.dropdownText.attr({
					"aria-live" : "polite"
				});
		b.dropdown.on({
					"disable.selectBoxIt" : function() {
						b.dropdownContainer.attr("aria-disabled", "true")
					},
					"enable.selectBoxIt" : function() {
						b.dropdownContainer.attr("aria-disabled", "false")
					}
				});
		c.length && b.dropdownContainer.attr("aria-labelledby", c[0].id);
		b.list.attr({
					role : "listbox",
					"aria-hidden" : "true"
				});
		b.listItems.attr({
					role : "option"
				});
		b.selectBox.on({
					"open.selectBoxIt" : function() {
						b.list.attr("aria-hidden", "false");
						b.dropdownContainer.attr("aria-expanded", "true")
					},
					"close.selectBoxIt" : function() {
						b.list.attr("aria-hidden", "true");
						b.dropdownContainer.attr("aria-expanded", "false")
					}
				});
		return b
	};
	e._addSelectBoxAttributes = function() {
		var b = this;
		b._addAttributes(b.selectBox.prop("attributes"), b.dropdown);
		b.selectItems.each(function(c) {
					b._addAttributes(a(this).prop("attributes"), b.listItems
									.eq(c))
				});
		return b
	};
	e._addAttributes = function(b, c) {
		var e = this.options.copyAttributes;
		b.length && a.each(b, function(b, d) {
					var f = d.name.toLowerCase(), p = d.value;
					"null" === p || -1 === a.inArray(f, e)
							&& -1 === f.indexOf("data") || c.attr(f, p)
				});
		return this
	};
	e.destroy = function(a) {
		this._destroySelectBoxIt();
		this.widgetProto.destroy.call(this);
		this._callbackSupport(a);
		return this
	};
	e._destroySelectBoxIt = function() {
		this.dropdown.off(".selectBoxIt");
		a.contains(this.dropdownContainer[0], this.originalElem)
				&& this.dropdownContainer.before(this.selectBox);
		this.dropdownContainer.remove();
		this.selectBox.removeAttr("style").attr("style", this.selectBoxStyles);
		this.triggerEvent("destroy");
		return this
	};
	e.disable = function(a) {
		this.options.disabled
				|| (this.close(), this.selectBox.attr("disabled", "disabled"), this.dropdown
						.removeAttr("tabindex").removeClass(this.theme.enabled)
						.addClass(this.theme.disabled), this.setOption(
						"disabled", !0), this.triggerEvent("disable"));
		this._callbackSupport(a);
		return this
	};
	e.disableOption = function(b, c) {
		var e, f;
		"number" === a.type(b)
				&& (this.close(), e = this.selectBox.find("option").eq(b), this
						.triggerEvent("disable-option"), e.attr("disabled",
						"disabled"), this.listItems.eq(b).attr("data-disabled",
						"true").addClass(this.theme.disabled), this.currentFocus === b
						&& (e = this.listItems.eq(this.currentFocus)
								.nextAll("li").not("[data-disabled='true']")
								.first().length, f = this.listItems
								.eq(this.currentFocus).prevAll("li")
								.not("[data-disabled='true']").first().length, e
								? this.moveDown()
								: f ? this.moveUp() : this.disable()));
		this._callbackSupport(c);
		return this
	};
	e._isDisabled = function(a) {
		this.originalElem.disabled && this.disable();
		return this
	};
	e._dynamicPositioning = function() {
		if ("number" === a.type(this.listSize))
			this.list.css("max-height", this.maxHeight || "none");
		else {
			var b = this.dropdown.offset().top, c = this.list
					.data("max-height")
					|| this.list.outerHeight(), e = this.dropdown.outerHeight(), f = this.options.viewport, r = f
					.height(), f = a.isWindow(f.get(0)) ? f.scrollTop() : f
					.offset().top, h = !(b + e + c <= r + f);
			this.list.data("max-height")
					|| this.list.data("max-height", this.list.outerHeight());
			h
					? this.dropdown.offset().top - f >= c
							? (this.list.css("max-height", c), this.list.css(
									"top", this.dropdown.position().top
											- this.list.outerHeight()))
							: (b = Math.abs(b + e + c - (r + f)), r = Math
									.abs(this.dropdown.offset().top - f - c), b < r
									? (this.list.css("max-height", c - b - e
													/ 2), this.list.css("top",
											"auto"))
									: (this.list.css("max-height", c - r - e
													/ 2), this.list.css("top",
											this.dropdown.position().top
													- this.list.outerHeight())))
					: (this.list.css("max-height", c), this.list.css("top",
							"auto"))
		}
		return this
	};
	e.enable = function(a) {
		this.options.disabled
				&& (this.triggerEvent("enable"), this.selectBox
						.removeAttr("disabled"), this.dropdown.attr("tabindex",
						0).removeClass(this.theme.disabled)
						.addClass(this.theme.enabled), this.setOption(
						"disabled", !1), this._callbackSupport(a));
		return this
	};
	e.enableOption = function(b, c) {
		var e;
		"number" === a.type(b)
				&& (e = this.selectBox.find("option").eq(b), this
						.triggerEvent("enable-option"), e
						.removeAttr("disabled"), this.listItems.eq(b).attr(
						"data-disabled", "false")
						.removeClass(this.theme.disabled));
		this._callbackSupport(c);
		return this
	};
	e.moveDown = function(a) {
		this.currentFocus += 1;
		var b = "true" === this.listItems.eq(this.currentFocus)
				.attr("data-disabled") ? !0 : !1, c = this.listItems
				.eq(this.currentFocus).nextAll("li")
				.not("[data-disabled='true']").first().length;
		if (this.currentFocus === this.listItems.length)
			this.currentFocus -= 1;
		else {
			if (b && c) {
				this.listItems.eq(this.currentFocus - 1).blur();
				this.moveDown();
				return
			}
			b && !c ? this.currentFocus -= 1 : (this.listItems
					.eq(this.currentFocus - 1).blur().end()
					.eq(this.currentFocus).focusin(), this
					._scrollToView("down"), this.triggerEvent("moveDown"))
		}
		this._callbackSupport(a);
		return this
	};
	e.moveUp = function(a) {
		this.currentFocus -= 1;
		var b = "true" === this.listItems.eq(this.currentFocus)
				.attr("data-disabled") ? !0 : !1, c = this.listItems
				.eq(this.currentFocus).prevAll("li")
				.not("[data-disabled='true']").first().length;
		if (-1 === this.currentFocus)
			this.currentFocus += 1;
		else {
			if (b && c) {
				this.listItems.eq(this.currentFocus + 1).blur();
				this.moveUp();
				return
			}
			b && !c
					? this.currentFocus += 1
					: (this.listItems.eq(this.currentFocus + 1).blur().end()
							.eq(this.currentFocus).focusin(), this
							._scrollToView("up"), this.triggerEvent("moveUp"))
		}
		this._callbackSupport(a);
		return this
	};
	e._setCurrentSearchOption = function(a) {
		(this.options.aggressiveChange || this.options.selectWhenHidden || this.listItems
				.eq(a).is(":visible"))
				&& !0 !== this.listItems.eq(a).data("disabled")
				&& (this.listItems.eq(this.currentFocus).blur(), this.currentFocus = this.currentIndex = a, this.listItems
						.eq(this.currentFocus).focusin(), this
						._scrollToView("search"), this.triggerEvent("search"));
		return this
	};
	e._searchAlgorithm = function(a, b) {
		var c = !1, e, f, h, p, g = this.textArray, l = this.currentText;
		e = a;
		for (h = g.length; e < h; e += 1) {
			p = g[e];
			for (f = 0; f < h; f += 1)
				-1 !== g[f].search(b) && (c = !0, f = h);
			c
					|| (l = this.currentText = this.currentText
							.charAt(this.currentText.length - 1).replace(
									/[|()\[{.+*?$\\]/g, "\\$0"));
			b = RegExp(l, "gi");
			if (3 > l.length) {
				if (b = RegExp(l.charAt(0), "gi"), -1 !== p.charAt(0).search(b)) {
					this._setCurrentSearchOption(e);
					if (p.substring(0, l.length).toLowerCase() !== l
							.toLowerCase()
							|| this.options.similarSearch)
						this.currentIndex += 1;
					return !1
				}
			} else if (-1 !== p.search(b))
				return this._setCurrentSearchOption(e), !1;
			if (p.toLowerCase() === this.currentText.toLowerCase())
				return this._setCurrentSearchOption(e), this.currentText = "", !1
		}
		return !0
	};
	e.search = function(a, b, c) {
		this.currentText = c ? this.currentText
				+ a.replace(/[|()\[{.+*?$\\]/g, "\\$0") : a.replace(
				/[|()\[{.+*?$\\]/g, "\\$0");
		this
				._searchAlgorithm(this.currentIndex, RegExp(this.currentText,
								"gi"))
				&& this._searchAlgorithm(0, this.currentText);
		this._callbackSupport(b);
		return this
	};
	e._updateMobileText = function() {
		var a, b;
		a = this.selectBox.find("option").filter(":selected");
		b = (b = a.attr("data-text")) ? b : a.text();
		this._setText(this.dropdownText, b);
		this.list.find('li[data-val="' + a.val() + '"]').find("i")
				.attr("class")
				&& this.dropdownImage.attr(
						"class",
						this.list.find('li[data-val="' + a.val() + '"]')
								.find("i").attr("class"))
						.addClass("selectboxit-default-icon")
	};
	e._applyNativeSelect = function() {
		this.dropdownContainer.append(this.selectBox);
		this.dropdown.attr("tabindex", "-1");
		this.selectBox.css({
					display : "block",
					visibility : "visible",
					width : this._realOuterWidth(this.dropdown),
					height : this.dropdown.outerHeight(),
					opacity : "0",
					position : "absolute",
					top : "0",
					left : "0",
					cursor : "pointer",
					"z-index" : "999999",
					margin : this.dropdown.css("margin"),
					padding : "0",
					"-webkit-appearance" : "menulist-button"
				});
		this.originalElem.disabled && this.triggerEvent("disable");
		return this
	};
	e._mobileEvents = function() {
		var a = this;
		a.selectBox.on({
					"changed.selectBoxIt" : function() {
						a.hasChanged = !0;
						a._updateMobileText();
						a.triggerEvent("option-click")
					},
					"mousedown.selectBoxIt" : function() {
						a.hasChanged
								|| !a.options.defaultText
								|| a.originalElem.disabled
								|| (a._updateMobileText(), a
										.triggerEvent("option-click"))
					},
					"enable.selectBoxIt" : function() {
						a.selectBox.removeClass("selectboxit-rendering")
					},
					"disable.selectBoxIt" : function() {
						a.selectBox.addClass("selectboxit-rendering")
					}
				})
	};
	e._mobile = function(a) {
		this.isMobile && (this._applyNativeSelect(), this._mobileEvents());
		return this
	};
	e.remove = function(b, c) {
		var e = this, f = a.type(b), r = 0, h, p = "";
		if ("array" === f) {
			for (h = b.length; r <= h - 1; r += 1)
				f = b[r], "number" === a.type(f)
						&& (p = p.length ? p + (", option:eq(" + f + ")") : p
								+ ("option:eq(" + f + ")"));
			e.selectBox.find(p).remove()
		} else
			"number" === f
					? e.selectBox.find("option").eq(b).remove()
					: e.selectBox.find("option").remove();
		e.dropdown ? e.refresh(function() {
					e._callbackSupport(c)
				}, !0) : e._callbackSupport(c);
		return e
	};
	e.selectOption = function(b, c) {
		var e = a.type(b);
		"number" === e ? this.selectBox.val(this.selectItems.eq(b).val())
				.change() : "string" === e && this.selectBox.val(b).change();
		this._callbackSupport(c);
		return this
	};
	e.setOption = function(b, c, e) {
		var f = this;
		"string" === a.type(b) && (f.options[b] = c);
		f.refresh(function() {
					f._callbackSupport(e)
				}, !0);
		return f
	};
	e.setOptions = function(b, c) {
		var e = this;
		a.isPlainObject(b) && (e.options = a.extend({}, e.options, b));
		e.refresh(function() {
					e._callbackSupport(c)
				}, !0);
		return e
	};
	e.wait = function(a, b) {
		this.widgetProto._delay.call(this, b, a);
		return this
	}
});
(function(a) {
	"function" === typeof define && define.amd
			? define(["jquery"], a)
			: "object" === typeof exports ? module.exports = a : a(jQuery)
})(function(a) {
	function b(b) {
		var e = b || window.event, f = d.call(arguments, 1), l = 0, n = 0, s = 0, v = 0, A = 0, w = 0;
		b = a.event.fix(e);
		b.type = "mousewheel";
		"detail" in e && (s = -1 * e.detail);
		"wheelDelta" in e && (s = e.wheelDelta);
		"wheelDeltaY" in e && (s = e.wheelDeltaY);
		"wheelDeltaX" in e && (n = -1 * e.wheelDeltaX);
		"axis" in e && e.axis === e.HORIZONTAL_AXIS && (n = -1 * s, s = 0);
		l = 0 === s ? n : s;
		"deltaY" in e && (l = s = -1 * e.deltaY);
		"deltaX" in e && (n = e.deltaX, 0 === s && (l = -1 * n));
		if (0 !== s || 0 !== n) {
			1 === e.deltaMode
					? (v = a.data(this, "mousewheel-line-height"), l *= v, s *= v, n *= v)
					: 2 === e.deltaMode
							&& (v = a.data(this, "mousewheel-page-height"), l *= v, s *= v, n *= v);
			v = Math.max(Math.abs(s), Math.abs(n));
			if (!k || v < k)
				k = v, r.settings.adjustOldDeltas && "mousewheel" === e.type
						&& 0 === v % 120 && (k /= 40);
			r.settings.adjustOldDeltas && "mousewheel" === e.type
					&& 0 === v % 120 && (l /= 40, n /= 40, s /= 40);
			l = Math[1 <= l ? "floor" : "ceil"](l / k);
			n = Math[1 <= n ? "floor" : "ceil"](n / k);
			s = Math[1 <= s ? "floor" : "ceil"](s / k);
			r.settings.normalizeOffset
					&& this.getBoundingClientRect
					&& (e = this.getBoundingClientRect(), A = b.clientX
							- e.left, w = b.clientY - e.top);
			b.deltaX = n;
			b.deltaY = s;
			b.deltaFactor = k;
			b.offsetX = A;
			b.offsetY = w;
			b.deltaMode = 0;
			f.unshift(b, l, n, s);
			m && clearTimeout(m);
			m = setTimeout(c, 200);
			return (a.event.dispatch || a.event.handle).apply(this, f)
		}
	}
	function c() {
		k = null
	}
	var f = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], e = "onwheel" in document
			|| 9 <= document.documentMode ? ["wheel"] : ["mousewheel",
			"DomMouseScroll", "MozMousePixelScroll"], d = Array.prototype.slice, m, k;
	if (a.event.fixHooks)
		for (var n = f.length; n;)
			a.event.fixHooks[f[--n]] = a.event.mouseHooks;
	var r = a.event.special.mousewheel = {
		version : "3.1.11",
		setup : function() {
			if (this.addEventListener)
				for (var c = e.length; c;)
					this.addEventListener(e[--c], b, !1);
			else
				this.onmousewheel = b;
			a.data(this, "mousewheel-line-height", r.getLineHeight(this));
			a.data(this, "mousewheel-page-height", r.getPageHeight(this))
		},
		teardown : function() {
			if (this.removeEventListener)
				for (var c = e.length; c;)
					this.removeEventListener(e[--c], b, !1);
			else
				this.onmousewheel = null;
			a.removeData(this, "mousewheel-line-height");
			a.removeData(this, "mousewheel-page-height")
		},
		getLineHeight : function(b) {
			b = a(b)["offsetParent" in a.fn ? "offsetParent" : "parent"]();
			b.length || (b = a("body"));
			return parseInt(b.css("fontSize"), 10)
		},
		getPageHeight : function(b) {
			return a(b).height()
		},
		settings : {
			adjustOldDeltas : !0,
			normalizeOffset : !0
		}
	};
	a.fn.extend({
				mousewheel : function(a) {
					return a ? this.bind("mousewheel", a) : this
							.trigger("mousewheel")
				},
				unmousewheel : function(a) {
					return this.unbind("mousewheel", a)
				}
			})
});
